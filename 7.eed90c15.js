/*! For license information please see 7.eed90c15.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{153:function(t,e,i){"use strict";i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return s})),i.d(e,"e",(function(){return n})),i.d(e,"b",(function(){return a})),i.d(e,"d",(function(){return l})),i.d(e,"f",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function o(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var s=function(){return(s=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function n(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(i[r[o]]=t[r[o]])}return i}function a(t,e,i,r){return new(i||(i=Promise))((function(o,s){function n(t){try{l(r.next(t))}catch(e){s(e)}}function a(t){try{l(r.throw(t))}catch(e){s(e)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(n,a)}l((r=r.apply(t,e||[])).next())}))}function l(t,e){var i,r,o,s,n={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,r=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if(!(o=n.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){n=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){n.label=s[1];break}if(6===s[0]&&n.label<o[1]){n.label=o[1],o=s;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(s);break}o[2]&&n.ops.pop(),n.trys.pop();continue}s=e.call(t,n)}catch(a){s=[6,a],r=0}finally{i=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function h(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<i;e++)for(var s=arguments[e],n=0,a=s.length;n<a;n++,o++)r[o]=s[n];return r}},207:function(t,e,i){"use strict";e.a={EMPTY:-1,COLLAGE:0,MASONRY:1,GRID:2,THUMBNAIL:3,SLIDER:4,SLIDESHOW:5,PANORAMA:6,COLUMN:7,MAGIC:8,FULLSIZE:9,BRICKS:10,MIX:11,ALTERNATE:12}},224:function(t,e,i){"use strict";e.a={VERTICAL:0,HORIZONTAL:1}},232:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var r,o=i(153),s=i(0),n=i.n(s);try{r=n.a.createContext({})}catch(l){r=null}!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(o.c)(e,t),e.prototype.render=function(){return r?n.a.createElement(r.Provider,{value:this.state},this.props.children):this.props.children}}(n.a.Component);var a=function(t){function e(e){var i=t.call(this,e)||this;return"object"!=typeof i.context&&(i.context={}),e&&"object"==typeof e.context&&(i.context=Object(o.a)(Object(o.a)({},i.context),e.context)),i}return Object(o.c)(e,t),e.contextType=r,e}(n.a.Component)},255:function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return s})),i.d(e,"e",(function(){return n})),i.d(e,"g",(function(){return a})),i.d(e,"f",(function(){return l})),i.d(e,"h",(function(){return h})),i.d(e,"d",(function(){return c})),i.d(e,"i",(function(){return p})),i.d(e,"j",(function(){return m})),i.d(e,"l",(function(){return g})),i.d(e,"n",(function(){return y})),i.d(e,"m",(function(){return f})),i.d(e,"o",(function(){return u})),i.d(e,"k",(function(){return d}));var r={SHOW_ON_HOVER:"SHOW_ON_HOVER",SHOW_BELOW:"SHOW_BELOW",SHOW_ABOVE:"SHOW_ABOVE",SHOW_ON_THE_RIGHT:"SHOW_ON_THE_RIGHT",SHOW_ON_THE_LEFT:"SHOW_ON_THE_LEFT"},o=function(t){return String(t).indexOf(r.SHOW_ABOVE)>=0},s=function(t){return String(t).indexOf(r.SHOW_BELOW)>=0},n=function(t){return String(t).indexOf(r.SHOW_ON_HOVER)>=0},a=function(t){return String(t).indexOf(r.SHOW_ON_THE_RIGHT)>=0},l=function(t){return String(t).indexOf(r.SHOW_ON_THE_LEFT)>=0},h=function(t){return o(t)||s(t)},c=function(t){return a(t)||l(t)},u=function(t){return(o(t)||s(t))&&!c(t)&&!n(t)},d=function(t){return(a(t)||l(t))&&!h(t)&&!n(t)},p=function(t){return String(t)===r.SHOW_ABOVE},m=function(t){return String(t)===r.SHOW_BELOW},g=function(t){return String(t)===r.SHOW_ON_HOVER},y=function(t){return String(t)===r.SHOW_ON_THE_RIGHT},f=function(t){return String(t)===r.SHOW_ON_THE_LEFT};e.a=r},340:function(t,e,i){"use strict";(function(t){var r=i(153),o=i(787),s=i(600),n=i(558),a=function(){function e(){this._cache={},this._hash2int={},this._params={},Object.assign(this,o)}return e.prototype.shouldUseCache=function(){return!Object(n.a)()&&!Object(n.c)()&&!this.isSSR()},e.prototype.isUndefined=function(t){return void 0===t},e.prototype.dumpCache=function(){this._cache={}},e.prototype.getOrPutFromCache=function(t,e){return this.shouldUseCache()?(void 0!==this._cache[t]||(this._cache[t]=e()),this._cache[t]):e()},e.prototype.hashToInt=function(t,e,i){var r=0;if(this.isUndefined(t)||0===t.length)return r;if(!this._hash2int[t]){for(var o=0;o<t.length;o++)r+=t.charCodeAt(o);this._hash2int[t]=r}return this.isUndefined(e)||this.isUndefined(i)?this._hash2int[t]:this._hash2int[t]%(i-e+1)+e},e.prototype.parseGetParam=function(t,e){try{if(!this.isUndefined(this._params[t]))return this._params[t];var i="",r=[],o=location;if(e&&(o={search:"?"+(e.split("?")[1]||""),pathname:(e.split("?")[0]||"").split("/")[1]||""}),o.search.substr(1).split("&").forEach((function(e){(r=e.split("="))[0]===t&&(i=decodeURIComponent(r[1]))})),!i){var s=decodeURIComponent(o.pathname).split("?")[1];if(!s)return"";s.split("&").forEach((function(e){(r=e.split("="))[0]===t&&(i=decodeURIComponent(r[1]))}))}return this._params[t]=i,i}catch(n){return!1}},e.prototype.stripSlashes=function(t){var e="";return"string"==typeof t&&(e=t.replace(/\\\//g,"/").replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/\\0/g,"\0").replace(/\\\\/g,"\\")),e},e.prototype.parseStringObject=function(t){if("string"!=typeof t)return t;var e=this.stripSlashes(t);if("string"==typeof t&&/^[\],:{}\s]*$/.test(e.replace(/\\["\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))try{return JSON.parse(e)}catch(i){}return e},e.prototype.hashCode=function(t){var e,i=0;if(0===t.length)return i;for(e=0;e<t.length;e++)i=(i<<5)-i+t.charCodeAt(e),i|=0;return i},e.prototype.isMobileByProps=function(){var t=this;return this.getOrPutFromCache("isMobileByProps",(function(){var e=t.parseGetParam("deviceType")||s.a.deviceType,i="true"===t.parseGetParam("showMobileView"),r=Object(n.b)();return!!i||(e?String(e).toLowerCase().indexOf("mobile")>=0:r||void 0)}))},e.prototype.isUserAgentMobile=function(){try{return this.getOrPutFromCache("isUserAgentMobile",(function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||s.a.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|pixel|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.substr(0,4)))&&(e=!0),e}))}catch(t){return!1}},e.prototype.isMobile=function(){var t=this;return this.getOrPutFromCache("isMobile",(function(){var e=t.isMobileByProps(),i=t.isUserAgentMobile();return t.isUndefined(e)?i:e}))},e.prototype.isTest=function(){try{return s.a.isTest}catch(t){return!1}},e.prototype.isLocal=function(){try{var t=s.a.location.hostname;return"local.wix.com"===t||(t.indexOf("localhost")>=0||"true"===this.parseGetParam("debug"))}catch(e){return!1}},e.prototype.isDev=function(){var t=this;return this.getOrPutFromCache("isDev",(function(){return t.shouldDebug("ph_local")||t.isOOI()&&!1||"true"===(t.safeLocalStorage()||{}).forceDevMode}))},e.prototype.isVerbose=function(){return!this.isTest()&&"true"===(this.safeLocalStorage()||{}).forceDevMode},e.prototype.isStoreGallery=function(){var t=this;return this.getOrPutFromCache("isStoreGallery",(function(){try{return s.a.location.search.toLowerCase().indexOf("isstore")>-1}catch(e){return t.isDev()&&console.error("cant find window",e),!1}}))},e.prototype.isSSR=function(){return void 0===t.window},e.prototype.isOOI=function(){return this.isSSR()||"undefined"!=typeof top&&"undefined"!=typeof self&&(top===self||self.location.origin.includes("editor.wix.com"))},e.prototype.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=Math.floor(16*Math.random())||0;return"x"===t?e.toString(16):t}))},e.prototype.isExternalUrl=function(t){return/(^https?)|(^data)|(^blob)/.test(t)},e.prototype.isiOS=function(){return this.getOrPutFromCache("isiOS",(function(){try{return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!s.a.MSStream}catch(t){return!1}}))},e.prototype.isiPhone=function(){return this.getOrPutFromCache("isiPhone",(function(){try{return/iPhone/.test(navigator.userAgent)&&!s.a.MSStream}catch(t){return!1}}))},e.prototype.isLandscape=function(){var t=this;return this.getOrPutFromCache("isLandscape",(function(){if(!t.isMobile())return!1;try{if(t.isUndefined(s.a.orientation)){var e=s.a.matchMedia("(orientation: landscape)");return!(!e||!0!==e.matches)}return 90===s.a.orientation||-90===s.a.orientation}catch(i){return!1}}))},e.prototype.safeLocalStorage=function(){try{return localStorage||s.a}catch(t){return s.a}},e.prototype.shouldDebug=function(t){try{return!!this.safeLocalStorage()[t]||(s.a.debugApp||"").indexOf(t)>=0||(this.parseGetParam("debugApp")||"").indexOf(t)>=0}catch(e){return!1}},e.prototype.deviceHasMemoryIssues=function(){return this.isiOS()},e.prototype.getTabIndex=function(t){var e=["currentGalleryItem","loadMoreButton","slideshowNext","slideshowPrev","currentThumbnail","slideshowLove","slideshowShare","cartIcon","cartClose","cartFrame","fullscreenClose","fullscreenNext","fullscreenPrev","fullscreenInfo","fullscreenLink","fullscreenProvider","fullscreenCartButton","fullscreenCheckout","fullscreenExpand","fullscreenVideoPlay","fullscreenVideoBar","fullscreenVideoMute","fullscreenVideoVolume","fullscreenCartIcon","fullscreenDownload","fullscreenLove","fullscreenShare"].indexOf(t)+1;return e>=0&&this.isOOI()?0:e||-1},e.prototype.setStateAndLog=function(t,e,i,o){var s=this;if(this.isVerbose()){console.log("State Change Called ("+e+")",i);var n=Object(r.a)({},t.state);t.setState(i,(function(){var i=Object(r.a)({},t.state),a=s.printableObjectsDiff(n,i,"state");Object.keys(a).length>0&&console.log("State Change Completed ("+e+")",a),s.isFunction(o)&&o.bind(t)()}))}else t.setState(i,(function(){s.isFunction(o)&&o.bind(t)()}))},e.prototype.printableObjectsDiff=function(t,e,i){var r=this;void 0===i&&(i="");var o=function(t){return""===t?t="''":r.isUndefined(t)&&(t="undefined"),String(t)},s=function(t,e,i,n){return void 0===n&&(n=1),n>3?{}:Object.entries(t).reduce((function(t,a){var l=a[0],h=a[1];return r.isEqual(h,e[l])||(Array.isArray(e[l])?(h.length!==e[l].length&&(t[l+".length"]="["+h.length+"] => ["+e[l].length+"]"),t=Object.assign(t,s(h,e[l],(i?i+".":"")+l,n+1))):"object"==typeof e[l]?t=Object.assign(t,s(h,e[l],(i?i+".":"")+l,n+1)):t[(i?i+".":"")+l]=o(h)+" => "+o(e[l])),t}),{})};return s(t,e,i,1)},e.prototype.getScreenWidth=function(){if(Object(n.c)()&&this.isMobile())return 320;if(this.isTest())return 1920;try{return this.isLandscape()?Math.max(s.a.screen.width,s.a.screen.height):s.a.screen.width}catch(t){return 1920}},e.prototype.getScreenHeight=function(){if(this.isTest())return 1200;try{return this.isLandscape()?Math.min(s.a.screen.width,s.a.screen.height):s.a.screen.height}catch(t){return 1200}},e.prototype.getWindowWidth=function(){try{return s.a.innerWidth||980}catch(t){return 980}},e.prototype.getMobileEnabledClick=function(t){return this.isMobile()?{onTouchEnd:t}:{onClick:t}},e.prototype.getTopUrlParam=function(t){if(this.isUndefined(this._cache.params)&&(this._cache.params={}),this.isUndefined(this._cache.params[t]))try{this._cache.params[t]=top.location.search.replace("?","").split("&").map((function(e){var i=e.split("=");return i[0]===t&&i[1]||""})).join("")}catch(e){this._cache.params[t]=!1}return this._cache.params[t]},e.prototype.scrollTo=function(t,e,i,r,o){this.isMobile()&&(i=0);var s=r?t.scrollLeft:t.scrollTop,n=e-s,a=0,l=function(){var e=function(t,e,i,r){return 0===r?i+e:(t/=r/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e}(a+=20,s,n,i);a<i?setTimeout(l,20):(t.setAttribute("data-scrolling",""),"function"==typeof o&&o()),r?t.scrollLeft=e:t.scrollTop=e};t.setAttribute("data-scrolling","true"),l()},e.prototype.formatColor=function(t){var e="inherit";if(!t)return e;var i=t.value?t.value:t,r=/(?:#|0x)(?:[a-f0-9]{3}|[a-f0-9]{6})\b|(?:rgb|hsl)a?\([^)]*\)/.exec(i);return r&&r[0]?i:e},e.prototype.logPlaygroundLink=function(t,e){void 0===e&&(e=!1);try{if(this.isVerbose()){var i=Object.entries(t).filter((function(t){var e=t[0];return"object"!=typeof t[1]&&-1===String(e).indexOf("Expand")&&-1===String(e).indexOf("Color")})).map((function(t){var e=t[0],i=t[1];return e+"="+encodeURI(i)})).join("&");console.log("Gallery Playground link:","https://pro-gallery.surge.sh?useBlueprints="+e+"&"+i)}}catch(r){}},e}();e.a=new a}).call(this,i(23))},462:function(t,e,i){"use strict";e.a={APPEARS:"APPEARS",DISAPPEARS:"DISAPPEARS",NO_CHANGE:"NO_CHANGE",NEVER_SHOW:"NEVER_SHOW"}},463:function(t,e,i){"use strict";i.d(e,"d",(function(){return o})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return a}));var r=i(340);function o(t){var e,i,o=t.scrollMarginCorrection,s=void 0===o?0:o,n=t.durationInMS,a=t.horizontalElement,l=t.scrollingElement,c=t.isRTL,u=t.oneRow,d=t.galleryWidth,p=t.galleryHeight,m=t.totalWidth,g=t.top,y=t.items,f=t.itemIdx,b=t.fixedScroll,I=c?-1:1;if(u?(i=a.scrollLeft*I,e=i+f*d/2):(i=g,e=g+f*p/2),!0!==b){r.a.isVerbose()&&console.log("Scrolling to items #"+f);var v=y.find((function(t){return t.idx===f}));if(e=u?r.a.get(v,"offset.left"):r.a.get(v,"offset.top"),r.a.isVerbose()&&console.log("Scrolling to position "+e,v),!(e>=0))return r.a.isVerbose()&&console.warn("Position not found, not scrolling"),new Promise((function(t){return t()}));if(u){var S=(d-v.width)/2;S>0&&(e-=S),e=Math.max(0,e),e=Math.min(e,m-d+s),e*=I,i*=I,r.a.isVerbose()&&console.log("Scrolling to new position "+e,this)}}return u?h(a,Math.round(i),Math.round(e),n,c):new Promise((function(t){l.vertical().scrollTo(0,e),t(e)}))}function s(t){var e,i,o=t.scrollMarginCorrection,s=void 0===o?0:o,n=t.durationInMS,a=t.horizontalElement,l=t.scrollingElement,c=t.isRTL,u=t.oneRow,d=t.galleryWidth,p=t.galleryHeight,m=t.totalWidth,g=t.top,y=t.groups,f=t.groupIdx,b=t.fixedScroll;if(u?(i=a.scrollLeft,e=c?i-f*d/2:i+f*d/2):(i=g,e=g+f*p/2),!0!==b){r.a.isVerbose()&&console.log("Scrolling to groups #"+f);var I=y.find((function(t){return t.idx===f}));if(e=u?r.a.get(I,"left"):r.a.get(I,"top"),I&&c&&(e+=I.width),r.a.isVerbose()&&console.log("Scrolling to position "+e,I),!(e>=0))return r.a.isVerbose()&&console.warn("Position not found, not scrolling"),new Promise((function(t){return t()}));if(u){var v=(d-I.width)/2;v>0&&(c?e+=v:e-=v),c&&(e=m-e),e=Math.max(0,e),e=Math.min(e,m-d+s),r.a.isVerbose()&&console.log("Scrolling to new position "+e,this)}}return u?h(a,Math.round(i),Math.round(e),n,c):new Promise((function(t){l.vertical().scrollTo(0,e),t(e)}))}function n(t){var e=t.offset,i=t.scroll,r=t.itemStart;return{before:i-e-t.itemEnd,after:e+r-t.screenSize-i}}function a(t){var e=t.target,i=t.scrollBase,r=t.top,o=t.bottom,s=t.screenHeight,a=t.padding,l=n({offset:i||0,scroll:e.scrollY,itemStart:r,itemEnd:o,screenSize:s});return l.before<a&&l.after<a}function l(t){var e=t.target,i=t.left,r=t.right,o=t.screenWidth,s=t.padding,a=n({offset:0,scroll:e.scrollLeft,itemStart:i,itemEnd:r,screenSize:o});return a.before<s&&a.after<s}function h(t,e,i,r,o){var s=i-e,n=t.firstChild;return t.setAttribute("data-scrolling","true"),Object.assign(t.style,{"scroll-snap-type":"none"}),Object.assign(n.style,{transition:"margin "+r+"ms linear","-webkit-transition":"margin "+r+"ms linear"},o?{marginRight:s+"px"}:{marginLeft:-1*s+"px"}),new Promise((function(e){setTimeout((function(){Object.assign(n.style,{transition:"none","-webkit-transition":"none"},o?{marginRight:0}:{marginLeft:0}),t.style.removeProperty("scroll-snap-type"),t.scrollLeft=i,t.setAttribute("data-scrolling",""),e(i)}),r)}))}},548:function(t,e,i){"use strict";e.a={DESKTOP:"desktop",MOBILE:"mobile",TABLET:"tablet"}},549:function(t,e,i){"use strict";e.a={SMART:"smart",PIXELS:"px",RATIO:"ratio"}},550:function(t,e,i){"use strict";e.a={NO_BACKGROUND:"NO_BACKGROUND",ATTACHED_BACKGROUND:"ATTACHED_BACKGROUND",SEPARATED_BACKGROUND:"SEPARATED_BACKGROUND",DONT_SHOW:"DONT_SHOW"}},551:function(t,e,i){"use strict";e.a={BLUR:"BLUR",COLOR:"COLOR",MAIN_COLOR:"MAIN_COLOR"}},552:function(t,e,i){"use strict";e.a={PICKED_COLOR:"PICKED_COLOR",MAIN_COLOR:"MAIN_COLOR"}},553:function(t,e,i){"use strict";e.a={FILL:"fill",FIT:"fit",FULL:"full",VIDEO:"video"}},554:function(t,e,i){"use strict";e.a={SCROLL:"SCROLL",FADE:"FADE"}},555:function(t,e,i){"use strict";e.a={PERCENT:"PERCENT",MANUAL:"MANUAL"}},556:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return o}));var r={RESIZED:"resized",PIXEL:"pixel",THUMBNAIL:"thumbnail",SQUARE:"square",FULL:"full",SAMPLE:"sample",PRELOAD:"preload",DOWNLOAD:"download",DOWNLOAD_SAMPLE:"download_sample"},o={HIGH_RES:"img",LOW_RES:"thumb",SEO:"seoLink",VIDEO:"video"}},557:function(t,e,i){"use strict";e.a={SITE:"SITE",EDIT:"EDIT",PREVIEW:"PREVIEW",SEO:"SEO"}},558:function(t,e,i){"use strict";i.d(e,"f",(function(){return s})),i.d(e,"e",(function(){return n})),i.d(e,"a",(function(){return a})),i.d(e,"c",(function(){return l})),i.d(e,"d",(function(){return h})),i.d(e,"b",(function(){return c}));var r=i(557),o=i(548),s=new(function(){function t(){this.setViewMode=this.setViewMode.bind(this),this.isSiteMode=this.isSiteMode.bind(this),this.isEditMode=this.isEditMode.bind(this),this.isPreviewMode=this.isPreviewMode.bind(this),this.isSEOMode=this.isSEOMode.bind(this),this.setFormFactor=this.setFormFactor.bind(this),this.isFormFactorDesktop=this.isFormFactorDesktop.bind(this),this.isFormFactorMobile=this.isFormFactorMobile.bind(this),this.isFormFactorTablet=this.isFormFactorTablet.bind(this),this.isFormFactorTouch=this.isFormFactorTouch.bind(this),this._viewMode=r.a.SITE,this._formFactor=o.a.DESKTOP}return t.prototype.setViewMode=function(t){this._viewMode=t},t.prototype.setFormFactor=function(t){this._formFactor=t},t.prototype.isFormFactorMobile=function(){return this._formFactor===o.a.MOBILE},t.prototype.isFormFactorTablet=function(){return this._formFactor===o.a.TABLET},t.prototype.isFormFactorDesktop=function(){return this._formFactor===o.a.DESKTOP},t.prototype.isFormFactorTouch=function(){return this.isMobile()||this.isTablet()},t.prototype.isSiteMode=function(){return this._viewMode===r.a.SITE},t.prototype.isEditMode=function(){return this._viewMode===r.a.EDIT},t.prototype.isPreviewMode=function(){return this._viewMode===r.a.PREVIEW},t.prototype.isSEOMode=function(){return this._viewMode===r.a.SEO},t}()),n=s.isSiteMode,a=s.isEditMode,l=s.isPreviewMode,h=s.isSEOMode,c=s.isFormFactorMobile;s.isFormFactorTablet,s.isFormFactorDesktop,s.isFormFactorTouch},598:function(t,e,i){"use strict";i.r(e),i.d(e,"ProGallery",(function(){return re})),i.d(e,"ProBlueprintsGallery",(function(){return le})),i.d(e,"LayoutingProGallery",(function(){return ue})),i.d(e,"LeanGallery",(function(){return qt})),i.d(e,"LayoutFixer",(function(){return Vt})),i.d(e,"createLayoutFixer",(function(){return pe})),i.d(e,"isEligibleForLeanGallery",(function(){return Qt})),i.d(e,"notEligibleReasons",(function(){return te})),i.d(e,"cssScrollHelper",(function(){return mt})),i.d(e,"addLayoutStyles",(function(){return Ht})),i.d(e,"GALLERY_CONSTS",(function(){return n.a})),i.d(e,"addPresetStyles",(function(){return U})),i.d(e,"defaultStyles",(function(){return a}));var r=i(153),o=i(0),s=i.n(o),n=i(942),a={isRTL:!1,isVertical:!1,gallerySize:30,minItemSize:120,chooseBestGroup:!0,groupSize:3,groupTypes:"1,2h,2v,3t,3b,3l,3r",rotatingGroupTypes:"",collageDensity:.8,cubeImages:!1,cubeType:"fill",cubeRatio:1,cropOnlyFill:!1,smartCrop:!1,rotatingCubeRatio:"",gallerySliderImageRatio:16/9,fixedColumns:0,numberOfImagesPerRow:3,numberOfImagesPerCol:1,groupsPerStrip:0,borderRadius:0,boxShadow:0,imageMargin:10,galleryMargin:0,scatter:0,gridStyle:0,mobilePanorama:!1,placeGroupsLtr:!1,viewMode:"preview",oneRow:!1,showArrows:!0,enableInfiniteScroll:!0,thumbnailSpacings:4,galleryThumbnailsAlignment:n.a.thumbnailsAlignment.BOTTOM,enableScroll:!0,hasThumbnails:!1,isGrid:!1,isSlider:!1,isColumns:!1,isMasonry:!1,isSlideshow:!1,isAutoSlideshow:!1,slideshowLoop:!1,autoSlideshowInterval:4,bottomInfoHeight:0,titlePlacement:n.a.placements.SHOW_ON_HOVER,galleryTextAlign:"center",scrollSnap:!1,itemClick:n.a.itemClick.EXPAND,fullscreen:!0,videoPlay:n.a.videoPlay.HOVER,scrollAnimation:n.a.scrollAnimations.NO_EFFECT,slideAnimation:n.a.slideAnimations.SCROLL,scrollDirection:0,scrollDuration:400,overlayAnimation:n.a.overlayAnimations.NO_EFFECT,arrowsPosition:0,arrowsSize:23,watermarkOpacity:40,watermarkSize:40,useWatermark:!0,watermarkDock:n.a.watermarkDock.RIGHT_DOWN,loadMoreAmount:n.a.loadMoreAmount.ALL,defaultShowInfoExpand:1,allowLinkExpand:!0,expandInfoPosition:0,allowFullscreenExpand:!0,fullscreenLoop:!1,galleryAlignExpand:"left",addToCartBorderWidth:1,addToCartButtonText:"",slideshowInfoSize:200,playButtonForAutoSlideShow:!1,allowSlideshowCounter:!1,hoveringBehaviour:n.a.infoBehaviourOnHover.APPEARS,thumbnailSize:120,magicLayoutSeed:1,imageHoverAnimation:n.a.imageHoverAnimations.NO_EFFECT,imagePlacementAnimation:n.a.imagePlacementAnimations.NO_EFFECT,calculateTextBoxWidthMode:n.a.textBoxWidthCalculationOptions.PERCENT,textBoxHeight:200,textBoxWidth:200,textBoxWidthPercent:50,textImageSpace:10,textBoxBorderRadius:0,textBoxBorderWidth:0,loadMoreButtonText:"",loadMoreButtonBorderWidth:1,loadMoreButtonBorderRadius:0,imageInfoType:n.a.infoType.NO_BACKGROUND,itemBorderWidth:0,itemBorderRadius:0,itemEnableShadow:!1,itemShadowBlur:20,itemShadowDirection:135,itemShadowSize:10,imageLoadingMode:n.a.loadingMode.BLUR,expandAnimation:n.a.expandAnimations.NO_EFFECT,imageQuality:90,usmToggle:!1,usm_a:0,usm_r:0,usm_t:0,videoSound:!1,videoSpeed:"1",videoLoop:!0},l=i(788),h=i(207),c=i(255),u=i(224),d=i(340),p=i(600),m=new(function(){function t(){this.features={fullscreenRedesign:{title:"New fullscreen design",releaseDate:Date.parse("2017-09-25T12:00:00.000Z")},spacingCalculation:{title:"Improve spacing calculation",releaseDate:Date.parse("2017-08-29T11:27:29.000Z")},fixedColumnsInMasonry:{title:"Allow fixed number of columns in Masonry layout",releaseDate:Date.parse("2018-05-24T18:00:00.000Z")},mobileSettings:{title:"Separate mobile and desktop setting",releaseDate:Date.parse("2018-12-18T12:00:50.054Z")}},this.freezeDate=new Date,this.updateFeatures()}return Object.defineProperty(t.prototype,"freezeDate",{get:function(){return this._dateCreated||new Date},set:function(t){"object"==typeof t&&"function"==typeof t.getTime&&(this._dateCreated=t,this.updateFeatures())},enumerable:!1,configurable:!0}),t.prototype.updateFeatures=function(){var t=this;this.supports=Object.entries(this.features).reduce((function(e,i){var o,s=i[0],n=i[1].releaseDate;return Object(r.a)(Object(r.a)({},e),((o={})[s]=t.freezeDate>=n,o))}))},t}()),g=i(462),y=i(551),f=i(552),b=i(554),I=i(549),v=i(550),S=i(555),O=function(t,e){return void 0===e&&(e=!1),t.gallerySizeType===I.a.PIXELS&&t.gallerySizePx>0?t.gallerySizePx:t.gallerySizeType===I.a.RATIO&&t.gallerySizeRatio>0?(p.a&&p.a.innerWidth||980)*(t.gallerySizeRatio/100):e||t.gallerySize};var w=function(t,e){var i=t;i.isSlideshowFont=function(t){var e=t.galleryLayout;if(e===h.a.SLIDESHOW)return!0;if(Object(c.h)(t.titlePlacement)){if(4===e||6===e||7===e)return!0;if(1===e&&t.isVertical)return!0;if(2===e&&1!==t.scrollDirection)return!0}return!1}(i),i.oneRow=i.oneRow||i.scrollDirection===u.a.HORIZONTAL;var r=function(t,e){i[t].value=i[t].value.replace(/^font\s*:\s*/,""),i[t].value=i[t].value.replace(/;$/,""),i[t].value.indexOf("underline")>-1||!0===i[t].style.underline?(i[t].value=i[t].value.replace("underline",""),i[e]="underline"):!1===i[t].style.underline&&(i[e]="none")};if(d.a.isMobile()&&(i.isSlideshowFont?(d.a.isUndefined(i.itemFontSlideshow)||r("itemFontSlideshow","textDecorationTitle"),d.a.isUndefined(i.itemDescriptionFontSlideshow)||r("itemDescriptionFontSlideshow","textDecorationDesc")):(d.a.isUndefined(i.itemFont)||r("itemFont","textDecorationTitle"),d.a.isUndefined(i.itemDescriptionFont)||r("itemDescriptionFont","textDecorationDesc"))),i.isVertical&&!(i.groupSize>1)&&!0!==i.oneRow||i.isSlider||i.isColumns||(i.titlePlacement=c.a.SHOW_ON_HOVER),Object(c.e)(i.titlePlacement)||i.hoveringBehaviour===g.a.NEVER_SHOW||(i.hoveringBehaviour=g.a.APPEARS),i.imageLoadingMode===y.a.COLOR&&i.imageLoadingWithColorMode===f.a.MAIN_COLOR&&(i.imageLoadingMode=y.a.MAIN_COLOR),"fit"===i.cubeType&&(i.isGrid||i.hasThumbnails||i.isSlider||i.isSlideshow)&&(i.itemBorderWidth=0,i.itemBorderRadius=0,i.itemEnableShadow=!1),i.itemEnableShadow&&(i.oneRow?i.itemEnableShadow=!1:i.galleryMargin=Math.max(i.galleryMargin,(i.itemShadowSize||0)+(i.itemShadowBlur||0))),i.oneRow?i.isVertical=!1:i.slideshowLoop=!1,(!i.oneRow||i.groupSize>1||!i.cubeImages)&&(i.slideAnimation=b.a.SCROLL),i.imageMargin>0&&d.a.isMobile()&&(i.imageMargin=Math.min(i.imageMargin,50)),i.loadMoreButtonFont&&d.a.isMobile()&&(i.loadMoreButtonFont.value=i.loadMoreButtonFont.value.replace(/^font\s*:\s*/,""),i.loadMoreButtonFont.value=i.loadMoreButtonFont.value.replace(/;$/,""),i.loadMoreButtonFont.value.indexOf("underline")>-1?(i.loadMoreButtonFont.value=i.loadMoreButtonFont.value.replace("underline",""),i.textDecorationLoadMore="underline"):i.textDecorationLoadMore="none"),(i.isGrid&&!i.oneRow||m.supports.fixedColumnsInMasonry&&i.isMasonry&&i.isVertical)&&(i.fixedColumns="1"===String(i.gridStyle)?Number(i.numberOfImagesPerRow):0,i.groupTypes="1",i.groupSize=1,i.collageAmount=0,i.collageDensity=0),!d.a.isUndefined(i.numberOfImagesPerCol)&&i.isGrid&&i.oneRow)switch(i.fixedColumns=0,i.numberOfImagesPerCol){case 1:default:i.groupTypes="1",i.groupSize=1,i.collageAmount=0,i.collageDensity=0;break;case 2:i.groupTypes="2v",i.groupSize=2,i.collageAmount=1,i.collageDensity=1;break;case 3:i.groupTypes="3v",i.groupSize=3,i.collageAmount=1,i.collageDensity=1}return i.forceMobileCustomButton&&(i.targetItemSize=Math.round(405),i.titlePlacement=c.a.SHOW_BELOW,i.galleryLayout=2,i.fixedColumns=1,i.numberOfImagesPerRow=1),i.fixedColumns>0&&d.a.isMobile()&&void 0===i.m_numberOfImagesPerRow&&(i.fixedColumns=1),i.gallerySizeType===I.a.PIXELS&&i.gallerySizePx>0?i.targetItemSize=i.gallerySizePx:i.gallerySizeType===I.a.RATIO&&i.gallerySizeRatio>0&&(i.targetItemSize=(p.a&&p.a.innerWidth||980)*(i.gallerySizeRatio/100)),i.textBoxHeight=function(t,e){if(!function(t,e){return Object(c.h)(t.titlePlacement)&&e}(t,e))return 0;return t.textBoxHeight}(i,e),i.externalInfoHeight=function(t,e){var i=e;e>0&&Object(c.h)(t.titlePlacement)&&t.imageInfoType===v.a.SEPARATED_BACKGROUND&&(i+=t.textImageSpace,i+=2*t.textBoxBorderWidth);return i}(i,i.textBoxHeight),i.externalInfoWidth=function(t,e){if(!function(t,e){var i=t.oneRow,r=t.isVertical,o=t.groupSize,s=t.titlePlacement;return!i&&r&&1===o&&Object(c.d)(s)&&e}(t,e))return 0;var i=t.targetItemSize,r=t.calculateTextBoxWidthMode,o=t.textBoxWidth,s=t.textBoxWidthPercent,n=0;n=r===S.a.PERCENT?Math.min(100,Math.max(0,s))/100:Math.min(i,o);return n}(i,e),"auto"===i.videoPlay&&"nothing"===i.itemClick&&d.a.isiOS()&&(i.videoPlay="onClick"),i},E={galleryLayout:h.a.ALTERNATE,cubeType:"fill",cubeImages:!0,cubeRatio:1,titlePlacement:c.a.SHOW_ON_HOVER,scrollDirection:u.a.VERTICAL,galleryMargin:0,isVertical:!0,groupSize:3,collageDensity:.48,groupTypes:"1,2h,2v,3t,3b,3l,3r,3v,3h",gallerySize:86,minItemSize:50,chooseBestGroup:!0,rotatingGroupTypes:"1,2h,1,2h",smartCrop:!1,scatter:0,fixedColumns:1,groupsPerStrip:0,oneRow:!1,placeGroupsLtr:!1,rotatingCropRatios:"",slideshowLoop:!1},C={galleryLayout:h.a.BRICKS,cubeType:"fill",cubeImages:!0,cubeRatio:1,titlePlacement:c.a.SHOW_ON_HOVER,scrollDirection:u.a.VERTICAL,galleryMargin:0,isVertical:!0,groupSize:3,collageDensity:.8,groupTypes:"1,2h,2v,3t,3b,3l,3r,3v,3h",slideshowLoop:!1,gallerySize:400,minItemSize:50,chooseBestGroup:!0,rotatingGroupTypes:"2h",smartCrop:!1,scatter:0,fixedColumns:1,groupsPerStrip:0,oneRow:!1,placeGroupsLtr:!1,rotatingCropRatios:"0.707,1.414,1.414,0.707"},x={galleryLayout:h.a.COLLAGE,cubeImages:!1,titlePlacement:c.a.SHOW_ON_HOVER,groupSize:3,hasThumbnails:!1,groupTypes:"1,2h,2v,3t,3b,3l,3r",slideshowLoop:!1,targetItemSize:0,fixedColumns:0,enableScroll:!0,isGrid:!1,isSlider:!1,isMasonry:!1,isColumns:!1,isSlideshow:!1,cropOnlyFill:!1},P=function(t){return Object(r.a)(Object(r.a)(Object(r.a)({},t),x),{targetItemSize:O(t,Math.round(5*t.gallerySize+500))})},L={galleryLayout:h.a.FULLSIZE,cubeImages:!0,cubeRatio:"100%/100%",cubeType:"fill",oneRow:!0,titlePlacement:c.a.SHOW_ON_HOVER,scrollDirection:u.a.HORIZONTAL,galleryMargin:0,isVertical:!1,groupSize:1,groupTypes:"1",smartCrop:!1,galleryType:"Strips",hasThumbnails:!1,enableScroll:!0,scrollSnap:!0,isGrid:!1,isSlider:!1,isColumns:!1,isMasonry:!1,isSlideshow:!1,cropOnlyFill:!1,scatter:0,imageMargin:0},T={galleryLayout:h.a.COLUMN,cubeType:"fill",cubeImages:!0,cubeRatio:.35,oneRow:!0,scrollDirection:u.a.HORIZONTAL,isVertical:!1,groupSize:1,groupTypes:"1",slideshowLoop:!1,smartCrop:!1,galleryType:"Strips",fixedColumns:0,enableScroll:!0,isGrid:!1,isColumns:!0,isMasonry:!1,isSlider:!1,isSlideshow:!1,cropOnlyFill:!1},R=function(t){return Object(r.a)(Object(r.a)(Object(r.a)({},t),T),{targetItemSize:O(t)})},M={galleryLayout:h.a.GRID,cubeImages:!0,isVertical:!0,groupSize:1,hasThumbnails:!1,groupTypes:"1",slideshowLoop:!1,smartCrop:!1,galleryType:"Columns",fixedColumns:0,targetItemSize:0,enableScroll:!0,cropOnlyFill:!1,isSlider:!1,isColumns:!1,isGrid:!0,isMasonry:!1,isSlideshow:!1,minItemSize:50},A=function(t){return Object(r.a)(Object(r.a)(Object(r.a)({},t),M),{targetItemSize:O(t,Math.round(8.5*t.gallerySize+150))})},D={galleryLayout:h.a.MAGIC,cubeImages:void 0,cubeRatio:void 0,isVertical:void 0,targetItemSize:void 0,collageAmount:void 0,collageDensity:void 0,groupTypes:void 0,oneRow:void 0,imageMargin:void 0,scatter:void 0,galleryMargin:void 0,chooseBestGroup:void 0,smartCrop:void 0,cubeType:void 0,hasThumbnails:void 0,enableScroll:void 0,isGrid:void 0,isSlideshow:void 0,isSlider:void 0,isColumns:void 0,cropOnlyFill:void 0,fixedColumns:void 0,enableInfiniteScroll:void 0,slideshowLoop:!1},j=function(t){!t>0&&(t=999999),t=Math.floor(t);var e=function(e,i,r){var o,s,n=function(t){t=String(t);for(var e=0,i=0;i<t.length;i++)e+=t.charCodeAt(i);return e}(r),a=i-e+1;return o=t,s=n,Math.floor(1e7*(o/s-Math.floor(o/s)))%a+e},i=function(t){return!!e(0,1,t)},r={cubeImages:i("cubeImages"),cubeRatio:e(1,25,"cubeRatio")/5,isVertical:i("isVertical"),targetItemSize:e(300,800,"gallerySize"),collageAmount:e(5,10,"collageAmount")/10,collageDensity:(m.supports.spacingCalculation?e(1,100,"collageDensity"):e(5,10,"collageDensity"))/100,groupTypes:["1"].concat("2h,2v,3t,3b,3l,3r,3h,3v".split(",").filter((function(t,e){return i("groupTypes"+e)}))),oneRow:i("oneRow"),imageMargin:e(0,m.supports.spacingCalculation?e(300,800,"gallerySize")/5:5,"imageMargin"),galleryMargin:m.supports.spacingCalculation?0:e(0,5,"imageMargin"),scatter:0,chooseBestGroup:i("chooseBestGroup"),smartCrop:i("smartCrop"),cubeType:"fill",enableScroll:!0,isGrid:!1,isSlideshow:!1,isSlider:!1,isColumns:!1,cropOnlyFill:!1,fixedColumns:0,enableInfiniteScroll:1};return r.oneRow?(r.isVertical=!1,r.scrollDirection=u.a.HORIZONTAL):r.scrollDirection=u.a.VERTICAL,r.galleryType=r.isVertical?"Columns":"Strips",r.groupSize=parseInt(r.groupTypes.slice(-1)[0]),r.groupTypes=r.groupTypes.join(","),r.minItemSize=r.targetItemSize/r.groupSize/2,r},k={galleryLayout:h.a.MASONRY,cubeImages:!1,scrollDirection:u.a.VERTICAL,groupSize:1,groupTypes:"1",slideshowLoop:!1,fixedColumns:0,enableScroll:!0,isGrid:!1,isSlider:!1,isMasonry:!0,isColumns:!1,isSlideshow:!1,cropOnlyFill:!1,oneRow:!1},N=function(t){return Object(r.a)(Object(r.a)(Object(r.a)({},t),k),{targetItemSize:O(t,t.isVertical?8*t.gallerySize+200:5*t.gallerySize+200)})},_={galleryLayout:h.a.MIX,cubeType:"fill",cubeImages:!0,cubeRatio:1,titlePlacement:c.a.SHOW_ON_HOVER,scrollDirection:u.a.VERTICAL,galleryMargin:0,isVertical:!0,groupSize:3,groupTypes:"1,2h,2v,3t,3b,3l,3r,3v,3h",collageDensity:.48,targetItemSize:86,minItemSize:50,chooseBestGroup:!0,rotatingGroupTypes:"1,3l,1,3r",smartCrop:!1,scatter:0,fixedColumns:1,groupsPerStrip:0,oneRow:!1,placeGroupsLtr:!1,rotatingCropRatios:""},H={galleryLayout:h.a.PANORAMA,cubeImages:!1,scrollDirection:u.a.VERTICAL,isVertical:!0,groupSize:1,groupTypes:"1",galleryType:"Columns",oneRow:!1,fixedColumns:1,enableScroll:!0,isGrid:!1,isColumns:!1,isMasonry:!1,isSlider:!1,isSlideshow:!1,cropOnlyFill:!1,slideshowLoop:!1},G=function(t){return Object(r.a)(Object(r.a)(Object(r.a)({},t),H),{targetItemSize:O(t)})},F={galleryLayout:h.a.SLIDER,enableInfiniteScroll:!0,cubeImages:!0,oneRow:!0,scrollDirection:u.a.HORIZONTAL,isVertical:!1,groupSize:1,groupTypes:"1",smartCrop:!1,galleryType:"Strips",hasThumbnails:!1,enableScroll:!0,scrollSnap:!0,isGrid:!1,isSlider:!0,isColumns:!1,isMasonry:!1,isSlideshow:!1,cropOnlyFill:!0},B={galleryLayout:h.a.SLIDESHOW,enableInfiniteScroll:!0,cubeRatio:"100%/100%",cubeImages:!0,oneRow:!0,hoveringBehaviour:g.a.NEVER_SHOW,scrollDirection:u.a.HORIZONTAL,galleryMargin:0,isVertical:!1,groupSize:1,groupTypes:"1",itemBorderWidth:0,itemBorderRadius:0,itemBorderColor:void 0,smartCrop:!1,targetItemSize:550,galleryType:"Strips",fixedColumns:1,hasThumbnails:!1,enableScroll:!0,scrollSnap:!0,isGrid:!1,isColumns:!1,isMasonry:!1,isSlider:!1,isSlideshow:!0,cropOnlyFill:!1,scatter:0,imageMargin:0},z=function(t){return Object(r.a)(Object(r.a)(Object(r.a)({},t),B),{targetItemSize:O(t)})},W={galleryLayout:h.a.THUMBNAIL,enableInfiniteScroll:!0,cubeRatio:"100%/100%",cubeImages:!0,oneRow:!0,titlePlacement:c.a.SHOW_ON_HOVER,scrollDirection:u.a.HORIZONTAL,galleryMargin:0,isVertical:!1,groupSize:1,groupTypes:"1",smartCrop:!1,galleryType:"Strips",hasThumbnails:!0,enableScroll:!0,scrollSnap:!0,isGrid:!1,isSlider:!1,isMasonry:!1,isColumns:!1,isSlideshow:!1,cropOnlyFill:!1,scatter:0,imageMargin:0},V={galleryLayout:h.a.EMPTY},U=function(t){var e=t.galleryType,i=t.galleryType,o=t.galleryLayout;if(void 0!==i&&void 0===o)switch(e){case"1":return P(t);case"2":return A(t);case"3":case"4":return N(t);case"5":return G(t);case"6":return R(t);case"7":return z(t);case"0":default:return P(t)}else switch(t.galleryLayout){case h.a.MASONRY:return N(t);case h.a.GRID:return A(t);case h.a.THUMBNAIL:return function(t){return Object(r.a)(Object(r.a)(Object(r.a)({},t),W),{targetItemSize:O(t)})}(t);case h.a.SLIDER:return function(t){return Object(r.a)(Object(r.a)(Object(r.a)({},t),F),{targetItemSize:O(t)})}(t);case h.a.SLIDESHOW:return z(t);case h.a.PANORAMA:return G(t);case h.a.COLUMN:return R(t);case h.a.MAGIC:return function(t){return Object(r.a)(Object(r.a)(Object(r.a)({},t),D),j(t.magicLayoutSeed))}(t);case h.a.FULLSIZE:return function(t){return Object(r.a)(Object(r.a)(Object(r.a)({},t),L),{targetItemSize:O(t)})}(t);case h.a.BRICKS:return function(t){return Object(r.a)(Object(r.a)(Object(r.a)({},t),C),{targetItemSize:O(t)})}(t);case h.a.MIX:return function(t){return Object(r.a)(Object(r.a)(Object(r.a)({},t),_),{targetItemSize:O(t)})}(t);case h.a.ALTERNATE:return function(t){return Object(r.a)(Object(r.a)(Object(r.a)({},t),E),{targetItemSize:O(t)})}(t);case h.a.EMPTY:return function(t){return Object(r.a)(Object(r.a)(Object(r.a)({},t),V),{targetItemSize:O(t,Math.round(9*t.gallerySize+100))})}(t);case h.a.COLLAGE:default:return P(t)}},K={alternate:E,bricks:C,collage:x,fullsize:L,column:T,grid:M,magic:D,masonry:k,mix:_,panorama:H,slider:F,slideshow:B,thumbnails:W,empty:V},Y=i(558),q=new(function(){function t(){this._hash2int={}}return t.prototype.stripSlashes=function(t){var e="";return"string"==typeof t&&(e=t.replace(/\\\//g,"/").replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/\\0/g,"\0").replace(/\\\\/g,"\\")),e},t.prototype.parseStringObject=function(t){if("string"!=typeof t)return t;var e=this.stripSlashes(t);if("string"==typeof t&&/^[\],:{}\s]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))try{return JSON.parse(e)}catch(i){}return e},t.prototype.hashToInt=function(t,e,i){var r=0;if(void 0===t||0===t.length)return r;if(!this._hash2int[t]){for(var o=0;o<t.length;o++)r+=t.charCodeAt(o);this._hash2int[t]=r}return void 0===e||void 0===i?this._hash2int[t]:this._hash2int[t]%(i-e+1)+e},t.prototype.hashToRandomInt=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=1e5),void 0===t||0===t.length?0:(e=Math.round(e),i=Math.round(i),t+=t.length+e+i,this._hash2int[t]||(this._hash2int[t]=Math.round(Math.random()*(i-e)+e)),this._hash2int[t])},t.prototype.insertIfDefined=function(t,e,i){void 0!==i&&(t[e]=i)},t.prototype.convertStyleParams=function(t){var e=Object.assign({cubeImages:!1,cubeType:"fill",cubeRatio:1,rotatingCropRatios:"",smartCrop:!1,imageMargin:10,galleryMargin:0,scatter:0,chooseBestGroup:!0,groupSize:3,groupTypes:"1,2h,2v,3h,3v,3t,3b,3l,3r",rotatingGroupTypes:"",isVertical:!0,minItemSize:120,oneRow:!1,targetItemSize:500,collageDensity:50,fixedColumns:0,columnWidths:""},t);return this.insertIfDefined(e,"cubeImages",e.cropItems),this.insertIfDefined(e,"cubeType",e.cropType),this.insertIfDefined(e,"cubeRatio",e.cropRatio),this.insertIfDefined(e,"rotatingCropRatios",Array.isArray(e.rotatingCropRatios)?e.rotatingCropRatios.join(","):void 0),this.insertIfDefined(e,"smartCrop",e.smartCrop),this.insertIfDefined(e,"imageMargin",e.itemSpacing),this.insertIfDefined(e,"galleryMargin",e.layoutSpacing),this.insertIfDefined(e,"scatter",e.randomSpacings),this.insertIfDefined(e,"chooseBestGroup",e.smartGrouping),this.insertIfDefined(e,"groupSize",e.itemsPerGroup),this.insertIfDefined(e,"groupTypes",Array.isArray(e.allowedGroupTypes)?e.allowedGroupTypes.join(","):void 0),this.insertIfDefined(e,"rotatingGroupTypes",Array.isArray(e.rotatingGroupTypes)?e.rotatingGroupTypes.join(","):void 0),this.insertIfDefined(e,"isVertical",e.isColumnsLayout),this.insertIfDefined(e,"minItemSize",e.minItemSize),this.insertIfDefined(e,"oneRow",e.isVerticalScroll),this.insertIfDefined(e,"targetItemSize",e.rowSize||e.columnSize),this.insertIfDefined(e,"collageDensity",e.collageDensity),this.insertIfDefined(e,"fixedColumns",e.fixedColumns),this.insertIfDefined(e,"columnWidths",Array.isArray(e.columnWidths)?e.columnWidths.join(","):void 0),e},t.prototype.convertContainer=function(t,e){var i=Object(r.a)({bounds:{}},t);return t.width>=0&&!(t.galleryWidth>=0)&&(i.galleryWidth=t.width+2*((e.imageMargin/2||0)-(e.galleryMargin||0)),delete i.width),t.height>=0&&!(t.galleryHeight>=0)&&(i.galleryHeight=t.height+((e.imageMargin/2||0)-(e.galleryMargin||0)),delete i.height),e.externalInfoHeight>=0&&e.oneRow&&(i.galleryHeight-=e.externalInfoHeight),i},t}()),X=function(){function t(t){if(this.style={},this.visibility={},(t=t||{}).dto||(console.error("Item has no DTO",t),t.dto={}),this.config=t,this.dto=t.dto,this.idx=t.idx,this.inGroupIdx=t.inGroupIdx,this.container=t.container,this.cubeType="fill",t.styleParams){var e=t.styleParams;this.cubeType=e.cubeType,this.cubeImages=e.cubeImages,this._cubeRatio=e.cubeRatio,this.rotatingCropRatios=e.rotatingCropRatios,this.smartCrop=e.smartCrop,this.cropOnlyFill=e.cropOnlyFill,this.imageMargin=e.imageMargin,this.galleryMargin=e.galleryMargin,this.scatter=e.scatter,this.smartCrop=e.smartCrop}this._groupOffset={top:0,left:0,right:0,bottom:0},this._group={},this.calcPinOffset=function(){return 0},this.resize(1)}return t.prototype.fixMetadataVerticalVideoRatio=function(t){if(t.qualities&&t.qualities[0]){var e=t.qualities,i=e[e.length-1],r=i.height,o=i.width;t.height=r,t.width=o}},t.prototype.resize=function(t){var e=1;if(!1!==t){if(t>0)e=t;else if("object"==typeof t){if(t.width)e=Math.max(1,t.width)/this.width;else if(t.height){e=Math.max(1,t.height)/this.height}}return this.width*=e,this.height*=e,this.resized=!0,this}},t.prototype.pinToCorner=function(t,e){var i=this;void 0===e&&(e=!1);var r=t.indexOf("top")>=0,o=t.indexOf("left")>=0;this.style.top=r?0:"auto",this.style.bottom=r?"auto":0,this.style.left=o?0:"auto",this.style.right=o?"auto":0,this.pin=t,this.isPinnedTop=r,this.isPinnedLeft=o,this.pinAfter=e,this.pinAfterType=r?"top":o?"left":"",this.calcPinOffset=function(t,e){if(i.pinAfter){if(i.pin===e){var r=i.imageMargin/2;return"top"===e?i.pinAfter.height+2*r:"left"===e?i.pinAfter.width+2*r:0}return 0}return 0}},t.prototype.setPosition=function(t){this.style.position=t},t.prototype.getPosition=function(t){return parseInt(t,10)>=0?t:"auto"},t.prototype.calcScatter=function(t){if(this.scatter>0){var e=this.imageMargin/2,i=this.galleryMargin,r=t.left>0?e:i,o=this.container.galleryWidth-t.right>2*e?e:i,s=t.top>0?e:i,n=this.container.galleryHeight-t.bottom>2*e?e:i,a=this.scatter/100*.4,l=q.hashToRandomInt(this.hash+t.right+"x",-r,o);l*=this.scatter/100,l*=1-a,l+=(l>0?a*o:a*r)*Math.sign(l),l=Math.round(l);var h=q.hashToRandomInt(this.hash+t.right+"y",-s,n);return h*=this.scatter/100,h*=1-a,h+=(h>0?a*n:a*s)*Math.sign(h),{x:l,y:h=Math.round(h)}}return{x:0,y:0}},Object.defineProperty(t.prototype,"top",{get:function(){return this.getPosition(this.style.top)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.getPosition(this.style.left)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.getPosition(this.style.right)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.getPosition(this.style.bottom)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"group",{get:function(){return this._group},set:function(t){Object.assign(this._group,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupOffset",{set:function(t){Object.assign(this._groupOffset,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offset",{get:function(){var t={top:this._groupOffset.top+(this.isPinnedTop?this.calcPinOffset(this._group.height,"top"):this._group.height-this.outerHeight)||0,left:this._groupOffset.left+(this.isPinnedLeft?this.calcPinOffset(this._group.width,"left"):this._group.width-this.outerWidth)||0};if(t.right=t.left+this.width,t.bottom=t.top+this.height,this.scatter>0){var e=this.calcScatter(t),i=e.x,r=e.y;t.left+=i,t.top+=r,t.right=t.left+this.width,t.bottom=t.top+this.height}return t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.dto.id||this.dto.photoId||this.dto.itemId},set:function(t){this.dto.itemId=this.dto.photoId=this.dto.id=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hash",{get:function(){return this.dto.hash||this.dto.mediaUrl||this.dto.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this.dto.width||this.dto.w},set:function(t){this.dto.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"outerWidth",{get:function(){return this.width+2*this.margins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infoWidth",{get:function(){return this.Group?this.Group.infoWidth:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"orgWidth",{get:function(){return this.style.width||this.dto.width||this.dto.w||1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){var t;return t=this.cubeImages&&this.ratio>=this.cubeRatio?this.style.cubedWidth||this.orgHeight*this.cubeRatio:this.orgWidth,Math.max(t,1)},set:function(t){this.style.cubedWidth=this.style.width=Math.max(1,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"outerHeight",{get:function(){return this.height+2*this.margins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"orgHeight",{get:function(){return this.style.height||this.dto.height||this.dto.h||1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var t;return t=this.cubeImages&&this.ratio<this.cubeRatio?this.style.cubedHeight||this.orgWidth/this.cubeRatio:this.orgHeight,Math.max(t,1)},set:function(t){this.style.cubedHeight=this.style.height=Math.max(1,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxHeight",{get:function(){return this.dto.height||this.dto.h},set:function(t){this.dto.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infoHeight",{get:function(){return this.Group?this.Group.infoHeight:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"margins",{get:function(){return this.imageMargin/2||0},set:function(t){this.imageMargin=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cubeRatio",{get:function(){var t,e=this;if(this.rotatingCropRatio)t=this.rotatingCropRatio;else if(this.rotatingCropRatios&&this.rotatingCropRatios.length>0){var i=String(this.rotatingCropRatios).split(",");t=this.rotatingCropRatio=i[this.idx%i.length]}if(t||"function"!=typeof this._cubeRatio||(t=this._cubeRatio()),!t&&this.cropOnlyFill&&"fit"===this.cubeType&&(t=this.ratio),t||(t=this._cubeRatio||this.ratio),null!==this.dynamicCropRatios&&"string"==typeof t){if(!this.dynamicCropRatios){var r=/^\d*\.?\d*(%|px)\/\d*\.?\d*(%|px)$/.exec(t);this.dynamicCropRatios=r?t.split("/").map((function(t,e){return t.indexOf("%")>0?{type:"%",val:parseFloat(t.replace("%",""))/100,dim:0===e?"galleryWidth":"galleryHeight"}:{type:"px",val:parseInt(t.replace("px",""))}})):null}if(this.dynamicCropRatios){var o=this.dynamicCropRatios.map((function(t){if("%"===t.type){var i=e.container[t.dim]+("galleryHeight"===t.dim?e.imageMargin/2:0);return t.val*i-e.imageMargin}return t.val}));t=o[0]/o[1]}}return t=Number(t),!0===this.smartCrop&&(t=this.isPortrait?Math.min(t,1/t):Math.max(t,1/t)),"min"===this.cubeType?t=Math.max(t,this.orgRatio):"max"===this.cubeType&&(t=Math.min(t,this.orgRatio)),t},set:function(t){"number"==typeof this._cubeRatio&&(this._cubeRatio=t,this.style.cubedHeight=this.style.cubedWidth=0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.ratio<.999?"portrait":"landscape"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPortrait",{get:function(){return"portrait"===this.orientation},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLandscape",{get:function(){return"landscape"===this.orientation},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ratio",{get:function(){return this.orgRatio||(this.orgRatio=this.orgWidth/this.orgHeight),this.orgRatio},set:function(t){this.orgRatio=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundedStyle",{get:function(){return Object(r.a)(Object(r.a)({},this.style),{width:Math.round(this.style.width),height:Math.round(this.style.height)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scheme",{get:function(){return{id:this.id,idx:this.idx,inGroupIdx:this.inGroupIdx,dto:this.dto,type:this.type,style:this.style,roundedStyle:this.roundedStyle,width:this.width,maxWidth:this.maxWidth,outerWidth:this.outerWidth,infoWidth:this.infoWidth,margins:this.margins,ratio:this.ratio,cropRatio:this.cubeRatio,isCropped:this.cubeImages,cropType:this.cubeType,height:this.height,maxHeight:this.maxHeight,outerHeight:this.outerHeight,infoHeight:this.infoHeight,group:this.group,offset:this.offset,groupOffset:this._groupOffset,orientation:this.orientation,isPortrait:this.isPortrait,isLandscape:this.isLandscape,visibility:this.visibility}},enumerable:!1,configurable:!0}),t}(),Z={lll:"1,2h",llp:"1,3r",lpl:"1,2h",pll:"1,2h,3l",lpp:"1,2h,3r,3h",plp:"1,2h,3l,3r,3h",ppl:"1,2h,3l,3h",ppp:"1,2h,3l,3r,3h"},J={lll:"1,2v,3t,3b,3v",llp:"1,2v,3t,3v",lpl:"1,2v,3t,3b,3v",pll:"1,2v,3b,3v",lpp:"1,2v,3t",plp:"1,2v",ppl:"1,3b",ppp:"1,2h"},$={1:[[1]],2:[[1],[1,2],[2]],3:[[1],[1,2],[1,2,3],[2,3],[3]]},Q=function(){function t(t){var e=this;if(this.idx=t.idx,this.stripIdx=t.stripIdx,this.inStripIdx=t.inStripIdx,this.top=t.top,this.showAllItems=t.showAllItems,this.isLastItems=t.isLastItems,this.dummyItems=[],this.targetItemSize=t.targetItemSize,this.items=t.items.map((function(t){return t.Group=e,t})),t.styleParams){var i=t.styleParams;this.oneRow=i.oneRow,this.cubeType=i.cubeType,this.cubeImages=i.cubeImages,this.isVertical=i.isVertical,this.minItemSize=i.minItemSize,this.collageAmount=i.collageAmount,this.collageDensity=i.collageDensity,this.groupTypes=String(i.groupTypes),this.rotatingGroupTypes=String(i.rotatingGroupTypes),this.rotatingCropRatios=String(i.rotatingCropRatios),this.chooseBestGroup=i.chooseBestGroup,this.layoutsVersion=i.layoutsVersion,this.externalInfoHeight=i.externalInfoHeight,this.externalInfoWidth=i.externalInfoWidth,this.imageMargin=i.imageMargin,this.groupSize=i.groupSize}this.visible=!0,this.rendered=!0,this.required=!0;for(var r=this.items.length;!this.isWithinMinItemSize&&r>0;)this.placeItems(r),this.resize(),r--}return t.prototype.resize=function(){this.isVertical?this.resizeToWidth(this.targetItemSize):this.resizeToHeight(this.targetItemSize),this.setLeft(this.left),this.setTop(this.top)},t.prototype.safeGetItem=function(t){if(this.items[t])return this.items[t];if(this.dummyItems[t])return this.dummyItems[t];var e=new X(Object(r.a)({},this.items[this.items.length-1].config));return e.idx=e.config.idx+t-(this.items.length-1),e.type="dummy",this.dummyItems[t]=e,e},t.prototype.setCubedHeight=function(t){var e=this.cubeImages&&1===this.groupSize&&["fill","fit"].includes(this.cubeType)&&0===this.rotatingGroupTypes.length&&0===this.rotatingCropRatios.length;this.cubedHeight=e?t:null},t.prototype.round=function(){this.isLastGroup&&!this.oneRow?this.width=this.stripWidth-this.left:this.width=Math.round(this.width),this.height=Math.round(this.height);for(var t=0,e=this.items;t<e.length;t++){var i=e[t];i.width=Math.round(i.width),i.height=Math.round(i.height),i.group={width:this.width,height:this.height}}var r=this.imageMargin;switch(this.type){default:case"1":this.safeGetItem(0).width=this.width-r,this.safeGetItem(0).height=this.height-r;break;case"2v":this.safeGetItem(0).width=this.safeGetItem(1).width=this.width-r,this.safeGetItem(0).height=this.height-this.safeGetItem(1).height-2*r;break;case"2h":this.safeGetItem(0).height=this.safeGetItem(1).height=this.height-r,this.safeGetItem(0).width=this.width-this.safeGetItem(1).width-2*r;break;case"3t":this.safeGetItem(0).width=this.width-r,this.safeGetItem(0).height=this.height-this.safeGetItem(1).height-2*r,this.safeGetItem(1).width=this.width-this.safeGetItem(2).width-2*r,this.safeGetItem(2).height=this.safeGetItem(1).height;break;case"3b":this.safeGetItem(0).width=this.width-this.safeGetItem(1).width-2*r,this.safeGetItem(1).height=this.safeGetItem(0).height,this.safeGetItem(2).height=this.height-this.safeGetItem(1).height-2*r,this.safeGetItem(2).width=this.width-r;break;case"3l":this.safeGetItem(1).height=this.height-this.safeGetItem(2).height-2*r,this.safeGetItem(2).width=this.safeGetItem(1).width,this.safeGetItem(0).width=this.width-this.safeGetItem(1).width-2*r,this.safeGetItem(0).height=this.height-r;break;case"3r":this.safeGetItem(0).height=this.height-this.safeGetItem(1).height-2*r,this.safeGetItem(1).width=this.safeGetItem(0).width,this.safeGetItem(2).width=this.width-this.safeGetItem(1).width-2*r,this.safeGetItem(2).height=this.height-r;break;case"3v":this.safeGetItem(0).width=this.width-r,this.safeGetItem(1).width=this.width-r,this.safeGetItem(2).width=this.width-r,this.safeGetItem(2).height=this.height-this.safeGetItem(0).height-this.safeGetItem(1).height-3*r;break;case"3h":this.safeGetItem(0).height=this.height-r,this.safeGetItem(1).height=this.height-r,this.safeGetItem(2).height=this.height-r,this.safeGetItem(2).width=this.width-this.safeGetItem(0).width-this.safeGetItem(1).width-3*r}},t.prototype.getGroupType=function(t){if(this.rotatingGroupTypes){var e=String(this.rotatingGroupTypes).split(",");return e[this.idx%e.length]}var i=this.isVertical,r=void 0;if(this.chooseBestGroup){var o=this.items.map((function(t){return t.orientation.slice(0,1)})).join("");r=(i?Z:J)[o]}else 3!==this.items.length&&3!==t||(r=i?"1,2h,3l,3r,3h":"1,2v,3t,3b,3v");2!==this.items.length&&2!==t||(r=i?"1,2h":"1,2v"),1!==this.items.length&&1!==t||(r="1");var s=r.length>0?r.split(","):[];if(this.groupTypes){var n=this.groupTypes.split(",");n.length>1?0===(s=s.filter((function(t){return n.indexOf(t)>=0}))).length&&(s=["1"]):s=n}if(this.layoutsVersion>1&&this.collageDensity>=0){var a=this.collageDensity,l=parseInt(s[s.length-1]),h=$[l],c=h[Math.floor(a*(h.length-1))];0===(s=s.filter((function(t){return c.indexOf(parseInt(t))>=0}))).length&&(s=["1"])}return s[this.calculateRandomSeed(s.length)]||"1"},t.prototype.calculateRandomSeed=function(t){var e;return e=this.isVertical?q.hashToInt(this.items[0].hash)%t:(this.inStripIdx+this.stripIdx)%t,1===this.layoutsVersion&&this.collageAmount>=0&&(e+=(this.collageAmount-.5)*t),Math.round(Math.min(Math.max(0,e),t-1))},t.prototype.placeItems=function(t){this.type=this.getGroupType(t);var e,i=[],r=0,o=0;switch(this.type){default:case"1":(e=this.safeGetItem(0)).pinToCorner("top-left"),i.push(e),r=e.width,o=e.height;break;case"2v":(e=this.safeGetItem(0)).pinToCorner("top-left"),i.push(e),r=e.width,o=e.height,(e=this.safeGetItem(1)).pinToCorner("bottom-left"),e.resize(r/e.width),o+=e.height,i.push(e);break;case"2h":(e=this.safeGetItem(0)).pinToCorner("top-left"),e.innerOffset=[0,0],i.push(e),r=e.width,o=e.height,(e=this.safeGetItem(1)).pinToCorner("top-right"),e.innerOffset=[0,0],e.resize(o/e.height),r+=e.width,i.push(e);break;case"3b":(e=this.safeGetItem(0)).pinToCorner("top-left"),i.push(e),r=e.width,o=e.height,(e=this.safeGetItem(1)).pinToCorner("top-right"),e.resize(o/e.height),r+=e.width,i.push(e),(e=this.safeGetItem(2)).pinToCorner("bottom-left"),e.resize(r/e.width),o+=e.height,i.push(e);break;case"3t":(e=this.safeGetItem(1)).pinToCorner("bottom-left"),i.push(e),r=e.width,o=e.height,(e=this.safeGetItem(2)).pinToCorner("bottom-right"),e.resize(o/e.height),r+=e.width,i.push(e),(e=this.safeGetItem(0)).pinToCorner("top-left"),e.resize(r/e.width),o+=e.height,i=[e].concat(i);break;case"3r":(e=this.safeGetItem(0)).pinToCorner("top-left"),i.push(e),r=e.width,o=e.height,(e=this.safeGetItem(1)).pinToCorner("bottom-left"),e.resize(r/e.width),o+=e.height,i.push(e),(e=this.safeGetItem(2)).pinToCorner("top-right"),e.resize(o/e.height),r+=e.width,i.push(e);break;case"3l":(e=this.safeGetItem(1)).pinToCorner("top-right"),i.push(e),r=e.width,o=e.height,(e=this.safeGetItem(2)).pinToCorner("bottom-right"),e.resize(r/e.width),o+=e.height,i.push(e),(e=this.safeGetItem(0)).pinToCorner("top-left"),e.resize(o/e.height),r+=e.width,i=[e].concat(i);break;case"3v":(e=this.safeGetItem(0)).pinToCorner("top-left"),e.setPosition("relative"),i.push(e),r=e.width,o=e.height,(e=this.safeGetItem(2)).pinToCorner("bottom-left"),e.setPosition("relative"),e.resize(r/e.width),o+=e.height,i.push(e),(e=this.safeGetItem(1)).setPosition("relative"),e.resize(r/e.width),o+=e.height,e.pinToCorner("top",i[0]),i=[i[0],e,i[1]];break;case"3h":(e=this.safeGetItem(0)).pinToCorner("top-left"),e.setPosition("relative"),i.push(e),r=e.width,o=e.height,(e=this.safeGetItem(2)).pinToCorner("top-right"),e.setPosition("relative"),e.resize(o/e.height),r+=e.width,i.push(e),(e=this.safeGetItem(1)).setPosition("relative"),e.resize(o/e.height),r+=e.width,e.pinToCorner("left",i[0]),i=[i[0],e,i[1]]}this.width=r,this.height=o,this.items=i,this.placed=!0},t.prototype.resizeToHeight=function(t){this.height=t,this.width=this.getWidthByHeight(t),this.resizeItems()},t.prototype.resizeToWidth=function(t){this.width=t,this.height=this.getHeightByWidth(t),this.resizeItems()},t.prototype.resizeItems=function(){var t=this,e=["3b","3r"].indexOf(this.type)>=0?this.items.slice().reverse():this.items;e.forEach((function(i,r){i.resize(t.getItemDimensions(e,r)),i.group={top:t.top,left:t.left,width:t.width,height:t.height},i.groupOffset={bottom:t.top+t.height,right:t.left+t.width}}))},t.prototype.getItemDimensions=function(t,e){var i=this.imageMargin;switch(this.type){default:case"1":case"2v":case"3v":return{width:this.width-i};case"2h":case"3h":return{height:this.height-i};case"3t":case"3b":return 0===e?{width:this.width-i}:{height:this.height-t[0].height-2*i};case"3r":case"3l":return 0===e?{height:this.height-i}:{width:this.width-t[0].width-2*i}}},t.prototype.getHeightByWidth=function(t){var e=1,i=1,r=this.imageMargin,o=this.items.map((function(t){return t.width/t.height}));switch(this.type){default:case"1":i=1-(e=1/o[0]);break;case"2h":i=1-2*(e=1/(o[0]+o[1]));break;case"2v":i=2-(e=1/o[0]+1/o[1]);break;case"3h":i=1-3*(e=1/(o[0]+o[1]+o[2]));break;case"3v":i=3-(e=1/o[0]+1/o[1]+1/o[2]);break;case"3t":e=1/(o[2]+o[1])+1/o[0],i=2-2/(o[2]+o[1])+1/o[0];break;case"3b":e=1/(o[0]+o[1])+1/o[2],i=2-2/(o[0]+o[1])+1/o[2];break;case"3l":i=2-(e=(o[1]+o[2])/(o[0]*o[1]+o[1]*o[2]+o[0]*o[2]))*(2+o[0]);break;case"3r":i=2-(e=(o[0]+o[1])/(o[0]*o[1]+o[1]*o[2]+o[0]*o[2]))*(2+o[2])}return t*e+r*i},t.prototype.getWidthByHeight=function(t){var e=1,i=1,r=this.imageMargin,o=this.items.map((function(t){return t.width/t.height}));switch(this.type){default:case"1":i=1-(e=o[0]);break;case"2h":i=2-(e=o[0]+o[1]);break;case"2v":i=1-2*(e=1/(1/o[0]+1/o[1]));break;case"3h":i=3-(e=o[0]+o[1]+o[2]);break;case"3v":i=1-3*(e=1/(1/o[0]+1/o[1]+1/o[2]));break;case"3t":e=1/(1/(o[2]+o[1])+1/o[0]),i=(2/(o[2]+o[1])+1/o[0]-2)*e;break;case"3b":e=1/(1/(o[0]+o[1])+1/o[2]),i=(2/(o[0]+o[1])+1/o[2]-2)*e;break;case"3l":e=(o[0]*o[1]+o[1]*o[2]+o[0]*o[2])/(o[1]+o[2]),i=2+o[0]-2*e;break;case"3r":e=(o[0]*o[1]+o[1]*o[2]+o[0]*o[2])/(o[0]+o[1]),i=2+o[2]-2*e}return t*e+r*i},t.prototype.setTop=function(t){this.top=t||0;for(var e=0,i=this.items;e<i.length;e++){i[e].groupOffset={top:t,bottom:t+this.height}}},t.prototype.setLeft=function(t){this.left=t||0;for(var e=0,i=this.items;e<i.length;e++){i[e].groupOffset={left:t,right:t+this.width}}},Object.defineProperty(t.prototype,"id",{get:function(){return"g"+this.idx+"_"+(this.items[0]||{}).id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ratio",{get:function(){return this.width/this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.cubedHeight||this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalHeight",{get:function(){return this.height+this.infoHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infoHeight",{get:function(){return this.externalInfoHeight||0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infoWidth",{get:function(){return this.Column?this.Column.infoWidth:this.externalInfoWidth||0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.left+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},set:function(t){this._items=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realItems",{get:function(){return this._items.filter((function(t){return"dummy"!==t.type}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isWithinMinItemSize",{get:function(){var t=this;return!(0===this.items.length||!this.placed)&&(1===this.items.length||this.items.reduce((function(e,i){var r=Math.min(i.width,i.height)>=t.minItemSize;return e&&r}),!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scheme",{get:function(){return{id:this.id,idx:this.idx,stripIdx:this.stripIdx,inStripIdx:this.inStripIdx,isLastGroup:this.isLastGroup,items:this.items.map((function(t){return t.scheme})),type:this.type,width:this.width,height:this.height,infoHeight:this.infoHeight,infoWidth:this.infoWidth,ratio:this.ratio,top:this.top,left:this.left,right:this.right,bottom:this.bottom,visible:this.visible,rendered:this.rendered,required:this.required}},enumerable:!1,configurable:!0}),t}(),tt=function(){function t(t){this.ratio=0,this.groups=[],this.width=0,this.height=0,this.isFullWidth=!0,this.idx=t.idx,this.groupsPerStrip=t.groupsPerStrip,this.oneRow=t.oneRow,this.targetItemSize=t.targetItemSize,this.container=t.container}return t.prototype.addGroup=function(t){this.hasGroups&&(this.lastGroup.isLastGroup=!1),this.groups.push(t),t.stripIdx=this.idx,t.Strip=this,this.lastGroup.isLastGroup=!0,this.lastGroup.stripWidth=this.height*this.ratio},t.prototype.markAsIncomplete=function(){this.isFullWidth=!1,this.lastGroup.isLastGroup=!1},t.prototype.canRemainIncomplete=function(){return 1.5*this.targetItemSize<this.height},t.prototype.setWidth=function(t){this.width=t,this.hasGroups&&(this.lastGroup.stripWidth=t)},t.prototype.resizeToHeight=function(t){this.height=t;for(var e=0,i=0,r=0,o=this.groups;r<o.length;r++){var s=o[r];s.setLeft(e),s.width+=i,s.resizeToHeight(t),i=s.width,s.round(),i-=s.width,e+=s.width}},t.prototype.isFull=function(t,e){if(!this.hasGroups)return!1;var i=this,r=i.groupsPerStrip,o=i.oneRow,s=i.targetItemSize;if(r>0)return this.groups.length>=r;var n,a=this.container.galleryWidth;if(o)n=!1;else{var l=a/(this.ratio+t.ratio)-s,h=a/this.ratio-s;(n=!isNaN(l)&&!isNaN(h)&&(h<0||l<0&&Math.abs(h)<Math.abs(l)))&&e&&(n=Number(Math.abs(h))<Math.abs(l))}return n},Object.defineProperty(t.prototype,"hasGroups",{get:function(){return this.groups.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastGroup",{get:function(){return this.groups[this.groups.length-1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scheme",{get:function(){return{idx:this.idx,groups:this.groups.map((function(t){return t.scheme})),width:this.width,height:this.height,ratio:this.ratio,isFullWidth:this.isFullWidth}},enumerable:!1,configurable:!0}),t}(),et=function(){function t(t,e,i,r,o){this.idx=t,this.groups=[],this.height=0,this.width=e,this.left=i,this.cubedHeight=r,this.infoWidth=o||0}return t.prototype.addGroup=function(t){this.addGroups([t])},t.prototype.addGroups=function(t){var e=this;this.groups=this.groups.concat(t),t.forEach((function(t){t.columnIdx=e.idx,t.Column=e}))},Object.defineProperty(t.prototype,"totalWidth",{get:function(){return this.width+this.infoWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scheme",{get:function(){return{idx:this.idx,groups:this.groups.map((function(t){return t.scheme})),width:this.width,height:this.height}},enumerable:!1,configurable:!0}),t}(),it=new(function(){function t(){}return Object.defineProperty(t.prototype,"layout",{get:function(){return this._layout},set:function(t){this._layout=Object(r.a)({},t)},enumerable:!1,configurable:!0}),t}()),rt=function(){function t(t){this.ready=!1,this.pointer=0,this.layoutItems=[],this.findNeighborItem=this.findNeighborItem.bind(this),this.updateParams(t),!1!==this.createLayoutOnInit&&this.createLayout(t)}return t.prototype.updateParams=function(t){this.srcItems=t.items,this.styleParams=q.convertStyleParams(t.styleParams),this.container=q.convertContainer(t.container,this.styleParams);var e=t.options||{};this.useExistingLayout=!!e.useExistingLayout,this.createLayoutOnInit=e.createLayoutOnInit,this.showAllItems=!!e.showAllItems||!!t.showAllItems,this.useLayoutStore=!!e.useLayoutStore},t.prototype.verifyGalleryState=function(){if(!this.container.galleryWidth)throw this.ready=!1,new Error("Layouter: cannot create layout, galleryWidth is undefined or 0");if(!this.styleParams.targetItemSize)throw this.ready=!1,new Error("Layouter: cannot create layout, targetItemSize is undefined or 0")},t.prototype.calcNumberOfColumns=function(t,e){var i=1;if(this.styleParams.isVertical)if(this.styleParams.fixedColumns>0)i=this.styleParams.fixedColumns;else if(this.styleParams.columnWidths)i=this.styleParams.columnWidths.split(",").length;else{var r=t/e,o=[Math.floor,Math.ceil],s=o.map((function(t){return t(r)})).map((function(e){return Math.round(t/e)})).map((function(t){return Math.abs(e-t)}));i=(0,o[s.indexOf(Math.min.apply(Math,s))])(r)||1}else i=1;return i},t.prototype.findShortestColumn=function(t,e){var i=t[0];if(this.styleParams.placeGroupsLtr)i=t[e%t.length];else for(var r=-1,o=0,s=t;o<s.length;o++){var n=s[o],a=n.height;(a<r||r<0)&&(r=a,i=n)}return i},t.prototype.saveExistingLayout=function(){this.useLayoutStore&&(it.layout={pointer:this.pointer,layoutItems:this.layoutItems,groups:this.groups,strips:this.strips,groupIdx:this.groupIdx,groupItems:this.groupItems,group:this.group,strip:this.strip,targetItemSize:this.targetItemSize,galleryHeight:this.galleryHeight,columns:this.columns})},t.prototype.prepareLayoutParams=function(){var t=this;if(this.useExistingLayout&&this.pointer>0){if(this.useLayoutStore)Object.assign(this,it.layout);else if(this.styleParams.isVertical){this.groups.slice(-3).forEach((function(e){var i=t.columns[e.columnIdx];i&&(i.height-=e.totalHeight,i.groups.splice(-1,1)),t.groups.splice(-1,1),e.realItems.forEach((function(){t.layoutItems.splice(-1,1),t.pointer--})),t.groupIdx--}))}else{if(this.styleParams.oneRow){this.groups.slice(-1).forEach((function(e){var i=t.columns[0];i&&i.groups.splice(-1,1);var r=t.strips[0];r&&(r.setWidth(r.width-e.width),r.ratio=r.width/r.height,r.groups.splice(-1,1),t.strip=r),t.strips=[],t.groups.splice(-1,1),e.realItems.forEach((function(){t.layoutItems.splice(-1,1),t.pointer--})),t.groupIdx--})),this.galleryHeight=0}else{var e=this.strips.slice(-2);e&&(e.forEach((function(e){e&&(t.strips.splice(-1,1),e.groups.forEach((function(e){t.groups.splice(-1,1),e.items.forEach((function(){t.layoutItems.splice(-1,1),t.pointer--})),t.groupIdx--})))})),this.galleryHeight=this.strips.reduce((function(t,e){return t+e.height}),0),this.strip=new tt({idx:this.strips.length+1,container:this.container,groupsPerStrip:this.styleParams.groupsPerStrip,oneRow:this.styleParams.oneRow,targetItemSize:this.targetItemSize}))}this.groupItems=[]}this.item={},this.pointer=Math.max(0,this.pointer),this.maxLoops=10*this.srcItems.length}else{if(this.pointer=0,this.firstGroup=!1,this.layoutItems=[],this.groups=[],this.strips=[],this.styleParams.forceFullHeight)this.targetItemSize=Math.sqrt(this.container.galleryHeight*this.container.galleryWidth/this.srcItems.length);else{var i=void 0;i="function"==typeof this.styleParams.targetItemSize?this.styleParams.targetItemSize():this.styleParams.targetItemSize,this.targetItemSize=Math.floor(i)+Math.ceil(2*(this.styleParams.imageMargin/2-this.styleParams.galleryMargin))}this.galleryWidth=Math.floor(this.container.galleryWidth),this.maxGroupSize=this.getMaxGroupSize(),this.groupIdx=0,this.item={},this.groupItems=[],this.group={},this.bounds=this.container.bounds||{},this.strip=new tt({idx:1,container:this.container,groupsPerStrip:this.styleParams.groupsPerStrip,oneRow:this.styleParams.oneRow,targetItemSize:this.targetItemSize}),this.galleryHeight=0,this.numOfCols=this.calcNumberOfColumns(this.galleryWidth,this.targetItemSize),this.targetItemSize=this.styleParams.isVertical?Math.floor(this.galleryWidth/this.numOfCols):this.targetItemSize;var r,o=this.styleParams,s=o.columnWidths,n=o.cubeRatio,a=o.externalInfoWidth,l=o.imageMargin,h=!!(s&&s.length>0)&&s.split(","),c=0,u=this.galleryWidth;this.columns=Array(this.numOfCols).fill(0).map((function(e,i){var o=h?h[i]:Math.round(u/(t.numOfCols-i)),s=c;c+=o,u-=o;var d=Math.round(a>1?a:a*o)||0;return o-=d,r=r||(t.targetItemSize-d-l)/n+l,new et(i,o,s,r,d)})),this.maxLoops=10*this.srcItems.length}},t.prototype.createLayout=function(t){for(void 0!==t&&this.updateParams(t),this.verifyGalleryState(),this.prepareLayoutParams();this.srcItems[this.pointer];){if(6===this.imagesLeft&&this.saveExistingLayout(),this.maxLoops--,this.maxLoops<=0)return console.error("Cannot create layout, maxLoops reached!!!"),!1;if(this.item=new X({idx:this.pointer,inGroupIdx:this.groupItems.length+1,scrollTop:this.galleryHeight,dto:this.srcItems[this.pointer],container:this.container,styleParams:this.styleParams}),this.layoutItems[this.pointer]=this.item,this.groupItems.push(this.item),this.groupItems.length<this.maxGroupSize&&this.srcItems[this.pointer+1])this.pointer++;else{if(this.group=new Q({idx:this.groupIdx,stripIdx:this.strip.idx,inStripIdx:this.strip.groups.length+1,top:this.galleryHeight,items:this.groupItems,isLastItems:this.isLastImages,targetItemSize:this.targetItemSize,showAllItems:this.showAllItems,container:this.container,styleParams:this.styleParams}),this.groups[this.groupIdx]=this.group,this.pointer+=this.group.realItems.length-this.groupItems.length,this.groupIdx++,this.groupItems=[],this.styleParams.isVertical){var e=this.findShortestColumn(this.columns,this.groups.length-1);this.group.setCubedHeight(e.cubedHeight),this.group.resizeToWidth(e.width),this.group.round(),this.group.setTop(e.height),this.group.setLeft(e.left),e.addGroup(this.group),e.height+=this.group.totalHeight,this.galleryHeight<e.height&&(this.galleryHeight=e.height)}else{if(this.strip.isFull(this.group,this.isLastImage)){this.strip.resizeToHeight(this.galleryWidth/this.strip.ratio),this.strip.setWidth(this.galleryWidth),this.galleryHeight+=this.strip.height,this.columns[0].addGroups(this.strip.groups),this.strips.push(this.strip),this.strip=new tt({idx:this.strip.idx+1,container:this.container,groupsPerStrip:this.styleParams.groupsPerStrip,oneRow:this.styleParams.oneRow,targetItemSize:this.targetItemSize}),this.pointer-=this.group.realItems.length-1,this.groupIdx--;continue}this.group.setTop(this.galleryHeight),this.strip.ratio+=this.group.ratio,this.strip.height=this.galleryWidth/this.strip.ratio,this.strip.setWidth(this.galleryWidth),this.strip.addGroup(this.group),this.isLastImage&&this.strip.hasGroups&&(this.styleParams.oneRow?this.strip.height=this.container.galleryHeight+(this.styleParams.imageMargin/2-this.styleParams.galleryMargin):this.strip.canRemainIncomplete()&&(this.strip.height=this.targetItemSize,this.strip.markAsIncomplete()),this.strip.resizeToHeight(this.strip.height),this.galleryHeight+=this.strip.height,this.columns[0].addGroups(this.strip.groups),this.strips.push(this.strip))}this.firstGroup||(this.firstGroup=this.group),this.pointer++}}if(this.styleParams.forceFullHeight){var i=this.container.galleryHeight/this.galleryHeight;this.items.map((function(t){return t.cubeImages=!0,t.cubeRatio=t.ratio=t.width/(t.height*i),t.height*=i,t})),this.groups.map((function(t){return t.height*=i,t.setTop(t.top*i),t.resizeItems(),t}))}return this.lastGroup=this.group,this.colWidth=Math.floor(this.galleryWidth/this.numOfCols),this.height=this.galleryHeight-2*(this.styleParams.imageMargin/2-this.styleParams.galleryMargin),this.width=this.lastGroup.left+this.lastGroup.width,this.ready=!0,this.scheme},t.prototype.lastVisibleItemIdxInHeight=function(t){for(var e=this.items.length-1;e>=0;e--){if(this.items[e].offset.top<t)return e}return this.items.length-1},t.prototype.lastVisibleItemIdx=function(){return this.lastVisibleItemIdxInHeight(this.container.galleryHeight-100)},t.prototype.findNeighborItem=function(t,e){var i,r=this,o=this.layoutItems[t],s=function(t,e,i){var o,s,n,a=null,l={};return r.layoutItems.forEach((function(r){o=r.offset.top+r.height/2,s=r.offset.left+r.width/2,n=Math.sqrt(Math.pow(o-e,2)+Math.pow(s-t,2)),(null===a||n>0&&n<a)&&i(t,e,s,o)&&(a=n,l=r)})),l};switch(e){case"up":i=s(o.offset.left+o.width/2,o.offset.top,(function(t,e,i,r){return r<e}));break;case"left":i=s(o.offset.left,o.offset.top+o.height/2,(function(t,e,i){return i<t}));break;case"down":i=s(o.offset.left+o.width/2,o.offset.bottom,(function(t,e,i,r){return r>e}));break;default:case"right":i=s(o.offset.right,o.offset.top+o.height/2,(function(t,e,i){return i>t}))}return i.idx>=0?i.idx:(console.warn("Could not find offset for itemIdx",t,e),t)},t.prototype.getMaxGroupSize=function(){var t=1;try{var e="string"==typeof this.styleParams.groupTypes&&this.styleParams.groupTypes.length>0?this.styleParams.groupTypes.split(","):this.styleParams.groupTypes;t=e.length>0?e.reduce((function(t,e){return Math.max(t,parseInt(e))}),1):Number(e),t=Math.min(t,this.styleParams.groupSize)}catch(i){console.error("couldn't calculate max group size - returing 3 (?)",i),t=3}return t},Object.defineProperty(t.prototype,"isLastImage",{get:function(){return!this.srcItems[this.pointer+1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLastImages",{get:function(){return this.styleParams.layoutsVersion>1?!this.srcItems[this.pointer+1]:!this.srcItems[this.pointer+3]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imagesLeft",{get:function(){return this.srcItems.length-this.pointer-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this.layoutItems},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scheme",{get:function(){return{items:this.items.map((function(t){return t.scheme})),groups:this.groups.map((function(t){return t.scheme})),strips:this.strips.map((function(t){return t.scheme})),columns:this.columns.map((function(t){return t.scheme})),height:this.height,width:this.width}},enumerable:!1,configurable:!0}),t}(),ot=i(553),st=i(556),nt=function(){function t(t){this.uniqueId=d.a.generateUUID(),this.isGalleryItem=!0,this.createdBy=t.createdBy,this.createUrl=this.createUrl.bind(this),this.update(t)}return t.prototype.update=function(t){if(this.resizeMediaUrl=t.resizeMediaUrl,t.dto&&t.dto.dto&&(t.dto=t.dto.dto,d.a.isDev()&&console.warn("Item core is created with already existing item core")),this.dto=Object(r.a)({},t.dto),t.scheme)this.processScheme(t.scheme);else{var e={};Object.assign(e,this.dto,this.metadata),this.processScheme(new X({dto:e}).scheme)}if(this.dto){var i=this.dto.metaData||this.dto.metadata;i&&(this.dto.metaData=d.a.parseStringObject(i))}this.sharpParams=Object(r.a)({},t.sharpParams),this.sharpParams.quality||(this.sharpParams.quality=90),this.sharpParams.usm||(this.sharpParams.usm={}),this.thumbnailSize=t.thumbnailSize||120,this.resetUrls(),this.updateSharpParams()},t.prototype.processScheme=function(t){this.id=t.id,this.idx=t.idx,this.type=t.type,this.style=t.style,this.width=t.width,this.maxWidth=t.maxWidth,this.infoWidth=t.infoWidth,this.height=t.height,this.maxHeight=t.maxHeight,this.infoHeight=t.infoHeight,this.margins=t.margins,this.ratio=t.ratio,this.cubeRatio=t.cropRatio,this.cubeImages=t.isCropped,this.cubeType=t.cropType||ot.a.FILL,this.offset=t.offset,this.group=t.group,this.orientation=t.orientation,this.visibility=t.visibility},t.prototype.renderProps=function(t){return Object(r.a)({className:"image",key:this.key,idx:this.idx,photoId:this.photoId,id:this.id,hash:this.id,html:this.html,type:this.type,isVideoPlaceholder:this.isVideoPlaceholder,url:this.url,alt:this.alt,directLink:this.directLink,directShareLink:this.directShareLink,linkUrl:this.linkUrl,linkType:this.linkType,linkOpenType:this.linkOpenType,linkData:this.linkData,title:this.title,fileName:this.fileName,description:this.description,createUrl:this.createUrl,cubeImages:this.cubeImages,cubeType:this.cubeType,cubeRatio:this.cubeRatio,offset:this.offset,style:Object(r.a)({ratio:this.ratio,bgColor:this.bgColor,maxWidth:this.maxWidth,maxHeight:this.maxHeight,infoWidth:this.infoWidth,infoHeight:this.infoHeight,orientation:this.orientation},this.style),isDemo:this.isDemo,videoUrl:this.videoUrl,isExternalVideo:this.isExternalVideo},t)},t.prototype.getDataForShop=function(){var t=this.focalPoint,e=this.metadata;return{isDemo:e.isDemo,orderIndex:this.orderIndex,itemId:this.dto.itemId,itemUrl:this.url,itemHeight:e.height,title:e.title,itemWidth:e.width,itemType:e.type||"image",imageUrl:this.resizedUrl(ot.a.FIT,200,200,null,null).img(),imagePurchasedUrl:this.dto.mediaUrl,fpX:t[0],fpY:t[1]}},t.prototype.getHighestMp4Resolution=function(t){var e=t.filter((function(t){return"mp4"===t.formats[0]})).sort((function(t,e){return e.width-t.width}))[0];return{width:e.width,height:e.height}},t.prototype.resizedUrl=function(t,e,i,o){var s=this,n=function(t,e){for(var i,o=[],n=2;n<arguments.length;n++)o[n-2]=arguments[n];if("function"==typeof s.resizeMediaUrl)try{var a=String(d.a.hashCode(JSON.stringify(Object(r.a)({url:e},o))));s._cachedUrls[a]||(s._cachedUrls[a]=String(s.resizeMediaUrl.apply(s,Object(r.f)([t,e],o))||"")),i=s._cachedUrls[a]}catch(l){i=String(e)}else i=String(e);return i};e=Math.ceil(e),i=Math.ceil(i);var a=t===ot.a.FILL&&this.isCropped&&this.focalPoint,l={},h=this.url;return this.isText?Object.assign.apply(Object,Object(r.f)([{}],Object.values(st.b).map((function(t){var e;return(e={})[t]=function(){return""},e})))):((this.isVideo||this.isVideoPlaceholder)&&(h=this.poster,d.a.isExternalUrl(this.url)?l[st.b.VIDEO]=function(){return s.url}:l[st.b.VIDEO]=function(){return n(s,s.url,ot.a.VIDEO,e,i)}),l[st.b.HIGH_RES]=function(){return n(s,h,t,e,i,o,a)},l[st.b.LOW_RES]=function(){return n(s,h,s.cubeImages&&t!==ot.a.FIT?ot.a.FILL:ot.a.FIT,250,250,Object(r.a)(Object(r.a)({},o),{quality:30,blur:30}),a)},l[st.b.SEO]=function(){return l[st.b.HIGH_RES]().replace(/\.webp$/i,"."+s.fileType)},l)},t.prototype.resetUrls=function(){var t=this.maxWidth||this.dto.width||this.metadata.width,e=this.maxHeight||this.dto.height||this.metadata.height;this.resizeWidth=Math.min(t,Math.ceil(this.width)),this.resizeHeight=Math.min(e,Math.ceil(this.height)),this._cachedUrls={},this.urls={}},t.prototype.createUrl=function(t,e){try{return this[t+"_url"][e]()}catch(i){return""}},Object.defineProperty(t.prototype,"resized_url",{get:function(){return this.urls.resized_url||(this.urls.resized_url=this.resizedUrl(this.cubeType,this.resizeWidth,this.resizeHeight,this.sharpParams)),this.urls.resized_url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pixel_url",{get:function(){return this.urls.pixel_url||(this.urls.pixel_url=this.resizedUrl(ot.a.FILL,1,1,{quality:5})),this.urls.pixel_url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thumbnail_url",{get:function(){return this.urls.thumbnail_url||(this.urls.thumbnail_url=this.resizedUrl(ot.a.FILL,this.thumbnailSize,this.thumbnailSize,{quality:70})),this.urls.thumbnail_url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"square_url",{get:function(){return this.urls.square_url||(this.urls.square_url=this.resizedUrl(ot.a.FILL,100,100,{quality:80})),this.urls.square_url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"full_url",{get:function(){return this.urls.full_url||(this.urls.full_url=this.resizedUrl(ot.a.FULL,this.maxWidth,this.maxHeight,this.sharpParams)),this.urls.full_url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sample_url",{get:function(){return this.urls.sample_url||(this.urls.sample_url=this.resizedUrl(ot.a.FIT,500,500,this.sharpParams)),this.urls.sample_url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"preload_url",{get:function(){return this.urls.preload_url||(this.urls.preload_url=this.resized_url),this.urls.preload_url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"download_url",{get:function(){return this.createDownloadUrl(this.full_url)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"download_sample_url",{get:function(){return this.createDownloadUrl(this.sample_url)},enumerable:!1,configurable:!0}),t.prototype.createDownloadUrl=function(t){var e=this;return this.urls.download_url||(this.urls.download_url=t,this.urls.download_url._img=this.urls.download_url.img,this.urls.download_url.img=function(){var t=e.urls.download_url._img();return t+(t.includes("?")?"&":"?")+"dn="+e.fileName}),this.urls.download_url},t.prototype.updateSharpParams=function(){if(this.dto.metaData&&this.dto.metaData.sharpParams&&this.dto.metaData.sharpParams.L){var t=this.dto.metaData.sharpParams.L;t.quality&&!0===t.overrideQuality&&(this.sharpParams.quality=t.quality),t.usm&&!0===t.overrideUsm&&(this.sharpParams.usm=t.usm)}},Object.defineProperty(t.prototype,"itemId",{get:function(){return this.id},enumerable:!1,configurable:!0}),t.prototype.updateId=function(t){this.dto.itemId=this.id=t},Object.defineProperty(t.prototype,"metadata",{get:function(){var t=this.dto.metaData||this.dto.metadata;return d.a.isUndefined(t)&&(t={}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metaData",{get:function(){return this.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bgColor",{get:function(){return this.isText?this.metadata&&(this.metadata.textStyle&&this.metadata.textStyle.backgroundColor||this.metadata.backgroundColor):"none"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCropped",{get:function(){return this.cubeImages&&this.cubeType===ot.a.FILL},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"focalPoint",{get:function(){return this.metadata.focalPoint||[.5,.5]},set:function(t){this.metadata.focalPoint=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"photoId",{get:function(){return this.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this._key||(this._key=(this.dto.key||this.id||this.dto.url||"no_key_found").replace(/\W/g,"")),this._key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"orderIndex",{get:function(){return this.dto.orderIndex||this.dto.o||0},set:function(t){this.dto.orderIndex=t},enumerable:!1,configurable:!0}),t.prototype.updateOrderIndex=function(t){var e=this.orderIndex!==t;return this.orderIndex=t,e},Object.defineProperty(t.prototype,"url",{get:function(){return this.dto.file_url||this.dto.mediaUrl||this.dto.url||this.dto.src},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fileType",{get:function(){return this.url.split(".").pop()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mediaUrl",{get:function(){return this.url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"html",{get:function(){return this.dto.html||this.dto.text||this.metadata.html||this.metadata.text},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastModified",{get:function(){return this.metadata.lastModified},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return d.a.hashToInt(this.url)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isImage",{get:function(){return"image"===this.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isImportant",{get:function(){return!!this.dto.i},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoUrl",{get:function(){return this.metadata.videoUrl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"poster",{get:function(){return this.metadata.poster||this.metadata.customPoster&&this.metadata.customPoster.url||(this.metadata.posters?this.metadata.posters[this.metadata.posters.length-1].url:null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"qualities",{get:function(){return this.metadata.qualities},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isExternalVideo",{get:function(){return this.metadata.isExternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isExternal",{get:function(){return!0===this.metadata.isExternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){switch(this._type||this.dto.type||this.metadata.type||this.dto.media_type){case"dummy":return"dummy";case"v":case"video":return"video";case"h":case"html":case"text":return"text";case"i":case"image":default:return"image"}},set:function(t){this._type=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVideoPlaceholder",{get:function(){return!!(this.dto.isVideoPlaceholder||this.metadata.isVideoPlaceholder||this.dto.media_isVideoPlaceholder)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alt",{get:function(){return this.metadata.alt||this.title||this.description},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.metadata.title||""},set:function(t){this.metadata.title=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fileName",{get:function(){return this.metadata.fileName||"file"},set:function(t){this.metadata.fileName=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"description",{get:function(){return this.metadata.description||""},set:function(t){this.metadata.description=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exif",{get:function(){return this.metadata.exif||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasLink",{get:function(){switch(this.linkType){case"wix":return!!this.linkData.type;default:return!!this.linkUrl}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"link",{get:function(){return this.metadata.link||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linkData",{get:function(){return this.metadata.link&&this.metadata.link.data?this.metadata.link.data:this.isWixUrl?{type:"web",url:this.linkUrl}:{}},set:function(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.data=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linkType",{get:function(){return this.metadata.link&&!d.a.isUndefined(this.metadata.link.type)?this.metadata.link.type:this.linkUrl?"web":"none"},set:function(t){this.metadata.link||(this.metadata.link={}),this.metadata.link={type:t,url:void 0,text:void 0,title:void 0,target:"_blank"}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultLinkText",{get:function(){var t=this.linkData;switch(this.linkType){case"wix":if(!t)return"Go to Link";switch(t.type){case"PageLink":return"Go to Page "+t.pageName;case"AnchorLink":return"Scroll to "+t.anchorName;case"ExternalLink":return""+t.url;case"EmailLink":return"Email "+t.recipient;case"PhoneLink":return"Call "+t.phoneNumber;case"DocumentLink":return"Open "+t.name;default:return"Go to Link"}case"web":return this.linkTitleFromUrl||this.linkUrl;case"page":return this.linkTitle;default:return""}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultLinkValue",{get:function(){var t=this.linkData;switch(this.linkType){case"wix":if(!t)return"Add a Link";switch(t.type){case"PageLink":return t.pageName?"PAGE - "+t.pageName:"PAGE";case"AnchorLink":return"ANCHOR - "+t.anchorName;case"ExternalLink":return"LINK - "+t.url;case"EmailLink":return"EMAIL - "+t.recipient;case"PhoneLink":return"PHONE - "+t.phoneNumber;case"DocumentLink":return"DOCUMENT - "+t.name;default:return"Add a Link"}case"web":return this.linkUrl;case"page":return this.linkTitle;default:return""}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linkText",{get:function(){return this.metadata.link&&this.metadata.link.text||this.defaultLinkText},set:function(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.text=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linkTitle",{get:function(){return this.metadata.link&&this.metadata.link.title},set:function(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.title=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linkUrl",{get:function(){return this.metadata.link&&this.metadata.link.url},set:function(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.url=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isWixUrl",{get:function(){return this.linkUrl&&0===this.linkUrl.indexOf("wix")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linkTitleFromUrl",{get:function(){var t=/[^/]*\.\w+$/g.exec(this.linkUrl),e=t&&t[0];return e&&e.split(".")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unprotectedLinkOpenType",{get:function(){return d.a.get(this,"metadata.link.target")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linkOpenType",{get:function(){return this.metadata.link&&!d.a.isUndefined(this.metadata.link.target)?this.unprotectedLinkOpenType:this.metadata.link&&!d.a.isUndefined(this.metadata.link.targetBlank)?this.metadata.link.targetBlank?"_blank":"_top":"_blank"},set:function(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.target=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"initialLinkObject",{get:function(){return{type:"none",url:void 0,text:void 0,title:void 0,target:"_blank"}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDemo",{get:function(){return this.metadata.isDemo||this.dto.isDemo||"public"===this.metadata.sourceName||this.metadata.tags&&Array.isArray(this.metadata.tags)&&this.metadata.tags.indexOf("_paid")>=0},set:function(t){this.metadata.isDemo=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isText",{get:function(){return"text"===this.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVideo",{get:function(){return"video"===this.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRendered",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDimensionless",{get:function(){return!(this.maxWidth>1||this.maxHeight>1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTransparent",{get:function(){return this.url&&(this.url.indexOf(".png")>0||this.url.indexOf(".gif")>0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"directLink",{get:function(){return this.dto.directLink||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"directShareLink",{get:function(){return this.dto.directShareLink||""},enumerable:!1,configurable:!0}),t}(),at=function(){function t(t){this.uniqueId=d.a.generateUUID(),this.isGalleryGroup=!0,t.dto&&t.dto.dto&&(t.dto=t.dto.dto,d.a.isDev()&&console.warn("Item core is created with already existing item core")),this.dto=Object.assign({},t.dto),t.scheme?this.processScheme(t.scheme):this.processScheme(new Q({dto:t.dto}).scheme),t.items?this.items=t.items:console.warn("Pro Gallery created Gallery Group without items",t)}return t.prototype.processScheme=function(t){this.id=t.id,this.idx=t.idx,this.width=t.width,this.height=t.height,this.totalHeight=t.totalHeight,this.ratio=t.ratio,this.top=t.top,this.left=t.left,this.right=t.right,this.bottom=t.bottom,this.visible=t.visible,this.rendered=t.rendered,this.required=t.required},t.prototype.renderProps=function(t){return{className:"group",id:this.id,idx:this.idx,key:this.key,type:this.type,top:this.top,left:this.left,right:this.right,bottom:this.bottom,width:this.width,height:this.height,totalHeight:this.totalHeight,items:this.items,visible:this.visible,rendered:this.rendered,required:this.required,galleryConfig:t}},Object.defineProperty(t.prototype,"key",{get:function(){return"group_"+this.id},enumerable:!1,configurable:!0}),t}(),lt=function(){function t(){}return t.convertDtoToLayoutItem=function(t){if(!!(t.id&&t.width>0&&t.height>0))return t;var e=t.metadata||t.metaData,i="object"==typeof e?e:d.a.parseStringObject(e)||{};return Object(r.a)({id:t.itemId||t.photoId,width:i.width,height:i.height},t)},t.convertToGalleryItems=function(t,e,i){void 0===e&&(e={}),void 0===i&&(i=[]),t.galleryItems=[];for(var o=0;o<t.columns.length;o++){var s=t.columns[o];s.galleryGroups=[];for(var n=s.groups||s,a=0;a<n.length;a++){for(var l=n[a],h=[],c=0;c<l.items.length;c++){var u=l.items[c],d=Object(r.a)({scheme:u,dto:u.dto},e),p=i[u.idx],m=void 0;p&&p.id&&p.id===u.id?(m=p).update(d):m=new nt(d),h[c]=m,t.galleryItems[u.idx]=h[c]}s.galleryGroups[a]=new at({scheme:l,dto:l.dto,items:h})}}return t},t.convertExistingStructureToGalleryItems=function(t,e,i){void 0===i&&(i={}),d.a.isVerbose()&&console.time("convertToGalleryItems"),t.galleryItems||(t.galleryItems=[]);var r=t.columns.slice(-1)[0].galleryGroups.pop();r&&t.galleryItems.splice(-r.items.length);for(var o=0;o<e.columns.length;o++){var s=e.columns[o],n=t.columns[o]||s;n.galleryGroups||(n.galleryGroups=[]);for(var a=s.groups||s,l=0;l<a.length;l++){for(var h=a[l],c=[],u=0;u<h.items.length;u++){var p=h.items[u];t.galleryItems[p.idx]?t.galleryItems[p.idx].processScheme(p):(c[u]=new nt(Object.assign({scheme:p,dto:p.dto},i)),t.galleryItems[p.idx]=c[u])}n.galleryGroups[l]?n.galleryGroups[l].processScheme(h):n.galleryGroups[l]=new at({scheme:h,dto:h.dto,items:c})}s.galleryGroups=n.galleryGroups}return e.galleryItems=t.galleryItems,d.a.isVerbose()&&console.timeEnd("convertToGalleryItems"),e},t}(),ht=i(232),ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.render=function(){if("true"!==d.a.getTopUrlParam("pgdebug"))return!1;var t=s.a.createElement("div",{className:"version-header "},"Pro Gallery Version #",p.a.staticsVersion),e="";try{e=" psw"+p.a.top.screen.width+" piw"+p.a.top.innerWidth+" pbw"+p.a.top.document.body.clientWidth}catch(r){}var i=s.a.createElement("div",{className:"version-header "},d.a.isLandscape()?"land":"port"," sw",p.a.screen.width,"sh",p.a.screen.height," iw",p.a.innerWidth," bw",p.a.document.body.clientWidth," sr","1","rc",this.props.resizeCount," oc",this.props.orientationCount," nh",this.props.newHeight," lh",this.props.lastHeight,e,"www",this.props.maxGalleryWidth);return s.a.createElement("div",null,t,i)},e}(ht.a),ut=function(t){function e(e){var i=t.call(this,e)||this;return i.getImageContainer=i.getImageContainer.bind(i),i.getImageContainerClassNames=i.getImageContainerClassNames.bind(i),i.getImageElement=i.getImageElement.bind(i),i.state={isHighResImageLoaded:!1},i.removeLowResImageTimeoutId=void 0,i.handleHighResImageLoad=i.handleHighResImageLoad.bind(i),i}return Object(r.c)(e,t),e.prototype.componentDidMount=function(){try{"function"==typeof this.props.actions.setItemLoaded&&this.props.actions.setItemLoaded()}catch(t){console.error(t)}},e.prototype.handleHighResImageLoad=function(t){var e=this,i=t.target;this.removeLowResImageTimeoutId=setTimeout((function(){e.setState({isHighResImageLoaded:!0}),e.removeLowResImageTimeoutId=void 0}),1e3);try{i.style.opacity="1",this.props.actions.setItemLoaded()}catch(r){console.error("Failed to load high res image",r)}},e.prototype.componentWillUnmount=function(){void 0!==this.removeLowResImageTimeoutId&&clearTimeout(this.removeLowResImageTimeoutId)},e.prototype.getImageContainerClassNames=function(){var t=this.props.styleParams;return["gallery-item-content","image-item","gallery-item-visible","gallery-item","gallery-item-preloaded",t.cubeImages&&"fit"===t.cubeType?"grid-fit":"",t.imageLoadingMode===n.a.loadingMode.COLOR?"load-with-color":""].join(" ")},e.prototype.getImageContainer=function(t,e,i){var r=this.props,o=r.imageDimensions,n=r.id,a=r.actions;return s.a.createElement("div",{className:e,onTouchStart:a.handleItemMouseDown,onTouchEnd:a.handleItemMouseUp,key:"image_container-"+n,"data-hook":"image-item",style:o.borderRadius?{borderRadius:o.borderRadius}:{}},t(),i)},e.prototype.getImageAnimationOverlay=function(){var t=this.props,e=t.imageDimensions,i=t.styleParams,o=t.createUrl,a=t.id,l=null;switch(i.scrollAnimation){case n.a.scrollAnimations.BLUR:l=o(n.a.urlSizes.RESIZED,n.a.urlTypes.LOW_RES);break;case n.a.scrollAnimations.MAIN_COLOR:l=o(n.a.urlSizes.PIXEL,n.a.urlTypes.HIGH_RES)}return l&&s.a.createElement("div",{key:"image_container-overlay-"+a,"data-hook":"image-item-overlay",style:Object(r.a)(Object(r.a)({},e),{backgroundImage:"url("+l+")",backgroundSize:"cover",pointerEvents:"none",position:"absolute",top:0,left:0})})},e.prototype.getImageElement=function(){var t=this,e=this.props,i=e.alt,o=e.imageDimensions,a=e.createUrl,l=e.id,h=e.idx,c=e.settings,u=void 0===c?{}:c,p=e.styleParams,m=e.gotFirstScrollEvent,g=this.state.isHighResImageLoaded,y=u&&u.imageProps&&"function"==typeof u.imageProps?u.imageProps(l):{},f=o||{},b=(f.margin,Object(r.e)(f,["margin"]));return function(){var e,o=[],c=d.a.isMobile()&&!t.props.styleParams.allowContextMenu?{"-webkit-user-select":"none","-webkit-touch-callout":"none"}:{},f=t.props.isPrerenderMode?{width:"100%",height:"100%"}:{};if(!g&&(m||u.forceImagePreload)){var I=null,v=Object(r.a)({className:"gallery-item-visible gallery-item gallery-item-preloaded",key:"gallery-item-image-img-preload","data-hook":"gallery-item-image-img-preload",loading:"eager"},y);switch(p.imageLoadingMode){case n.a.loadingMode.BLUR:I=s.a.createElement("img",Object(r.a)({alt:"",key:"image_preload_blur-"+l,src:a(n.a.urlSizes.RESIZED,n.a.urlTypes.LOW_RES),style:Object(r.a)(Object(r.a)(Object(r.a)({},b),f),c)},v));break;case n.a.loadingMode.MAIN_COLOR:I=s.a.createElement("img",Object(r.a)({alt:"",key:"image_preload_main_color-"+l,src:a(n.a.urlSizes.PIXEL,n.a.urlTypes.HIGH_RES),style:Object(r.a)(Object(r.a)(Object(r.a)({},b),f),c)},v))}o.push(I)}var S=!t.props.isPrerenderMode,O=a(n.a.urlSizes.RESIZED,Object(Y.d)()?n.a.urlTypes.SEO:n.a.urlTypes.HIGH_RES),w=s.a.createElement("img",Object(r.a)({key:"image_highres-"+l,className:"gallery-item-visible gallery-item gallery-item-preloaded "+(Object(Y.d)()?"":"gallery-item-hidden"),"data-hook":"gallery-item-image-img","data-idx":h,alt:i||"untitled image",loading:"lazy",onLoad:t.handleHighResImageLoad,style:Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},b),{opacity:S?1:0}),c),!S&&f)},((e={})[S?"src":"data-src"]=O,e),y));return o.push(w),o}},e.prototype.render=function(){var t=this.getImageElement(),e=this.getImageContainerClassNames(),i=this.getImageAnimationOverlay();return this.getImageContainer(t,e,i)},e}(ht.a),dt=function(t){function e(e){var i=t.call(this,e)||this;return"function"==typeof i.props.actions.setItemLoaded&&i.props.actions.setItemLoaded(),i}return Object(r.c)(e,t),e.prototype.getTextDimensions=function(){var t=this.props,e=t.style,i=t.styleParams,r=t.cubeRatio,o=e.ratio<r-.01,s=(o?e.height/e.maxHeight:e.width/e.maxWidth)*e.maxHeight,n=(o?e.height/e.maxHeight:e.width/e.maxWidth)*e.maxWidth,a="translate("+("fit"===i.cubeType?"0, 0":Math.round((e.width-n)/2)+"px, "+Math.round((e.height-s)/2)+"px")+") scale("+(o?e.height/e.maxHeight:e.width/e.maxWidth)+")";return{width:e.maxWidth+"px",height:e.maxHeight+"px",transformOrigin:"0 0",WebkitTransform:a,MsTransform:a,OTransform:a,transform:a}},e.prototype.processInnerhtml=function(t){try{return t.replace(/class="font_\d+"/gm,"")}catch(e){return t}},e.prototype.render=function(){var t=this.props,e=t.id,i=t.styleParams,o=t.html,n=t.style,a=t.actions,l=t.imageDimensions,h=this.processInnerhtml(o),c=this.getTextDimensions(),u={dangerouslySetInnerHTML:{__html:h}},d={style:Object.assign(c,"fit"===i.cubeType?{backgroundColor:n.bgColor}:{})},p=Object(r.a)(Object(r.a)({},u),d),m={height:l&&!this.props.isPrerenderMode?l.height:"inherit",backgroundColor:"fit"!==i.cubeType?n.bgColor:"inherit"};return l&&l.borderRadius&&(m.borderRadius=l.borderRadius),s.a.createElement("div",{className:"gallery-item-content",style:m},s.a.createElement("div",Object(r.a)({className:"gallery-item-visible gallery-item gallery-item-loaded text-item",key:"item-text-"+e,onTouchStart:a.handleItemMouseDown,onTouchEnd:a.handleItemMouseUp,"data-hook":"text-item"},p)))},e}(ht.a),pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.getHoverClass=function(){var t=this.props,e=t.styleParams,i=t.forceShowHover,r=["gallery-item-hover"];return r.push("fullscreen-"+(e.fullscreen?"enabled":"disabled")),d.a.isUndefined(e.itemOpacity)&&r.push("default"),i?r.push("force-hover"):d.a.isMobile()&&r.push("hide-hover"),r.join(" ")},e.prototype.shouldRenderHoverInnerIfExist=function(){var t=this.props,e=t.itemWasHovered,i=t.styleParams,r=i.hoveringBehaviour,o=i.overlayAnimation,s=i.alwaysShowHover,a=i.previewHover,l=n.a.infoBehaviourOnHover.APPEARS,h=n.a.overlayAnimations.NO_EFFECT;return!!s||(!(!Object(Y.a)()||!a)||(r!==l||o===h||e))},e.prototype.render=function(){var t=this.props,e=t.imageDimensions,i=t.actions,r=t.idx,o=t.renderCustomInfo,n=this.getHoverClass();return s.a.createElement("div",{className:n,key:"item-hover-"+r,"data-hook":"item-hover-"+r,"aria-hidden":!0,style:e&&e.borderRadius?{borderRadius:e.borderRadius}:{}},s.a.createElement("div",{style:{height:"100%"},onTouchStart:i.handleItemMouseDown,onTouchEnd:i.handleItemMouseUp},this.shouldRenderHoverInnerIfExist()&&o?s.a.createElement("div",{className:"gallery-item-hover-inner"},o()):null))},e}(ht.a),mt=new(function(){function t(){this.pgScrollSteps=[40960,20480,10240,5120,2560,1280,640,320,160,80,40,20,10],this.pgScrollClassName="pgscl",this.screenSize=Math.max(p.a.screen.width,p.a.screen.height),this.scrollCss=[],this.scrollCssProps=[],this.calcScrollPaddings(!1)}return t.prototype.calcScrollPaddings=function(){var t=this;this.allPagePadding=function(){return[1/0,1/0]},this.inScreenPadding=function(){return[0,0]},this.aboveScreenPadding=function(){return[0,1/0]},this.justBelowScreenPadding=function(e){return[1/0,-1*(e+t.screenSize)]},this.justBelowAndAboveScreenPadding=function(){return[2560,1/0]},this.justBelowAndInScreenPadding=function(){return[5120,0]},this.belowScreenPadding=function(){return[1/0,0]},this.highResPadding=function(){return[5120,1/0]},this.lowResPadding=function(){return[10240,1/0]}},t.prototype.getSellectorDomId=function(t){var e=t.id,i=t.idx;return"pgi"+String(e).replace(/[\W]+/g,"")+"_"+i},t.prototype.buildScrollClassName=function(t,e,i){var r=String(t).replace(/[\W]+/g,"").slice(-8);return this.pgScrollClassName+"_"+r+"_"+i+"-"+(this.pgScrollSteps[e]+Number(i))},t.prototype.calcScrollClasses=function(t,e){var i=this;return this.pgScrollClassName+"-"+e+" "+this.pgScrollSteps.map((function(r,o){return i.buildScrollClassName(t,o,Math.floor(e/r)*r)})).join(" ")},t.prototype.calcScrollCss=function(t){var e=this,i=t.domId,r=t.items,o=t.styleParams;if(!r||!r.length)return[];var s=o.scrollAnimation;if(!s||s===n.a.scrollAnimations.NO_EFFECT)return[];this.screenSize=o.oneRow?Math.min(p.a.outerWidth,p.a.screen.width):Math.min(p.a.outerHeight,p.a.screen.height),!o.oneRow&&d.a.isMobile()&&(this.screenSize+=50),this.calcScrollPaddings();var a=r.slice(-1)[0].offset,l=a.top,h=a.right,c=this.pgScrollSteps[0];return this.minHeight=0-c,this.maxHeight=(Math.ceil(((o.oneRow?h:l)+this.screenSize)/c)+1)*c,r.map((function(t){return e.calcScrollCssForItem({domId:i,item:t,styleParams:o})}))},t.prototype.shouldCalcScrollCss=function(t){var e=t.type;return"video"!==e&&"text"!==e},t.prototype.createScrollSelectorsFunction=function(t){var e=this,i=t.domId,r=t.item,o=t.styleParams,s=o.oneRow?r.offset.left-this.screenSize:r.offset.top-this.screenSize,n=o.oneRow?r.offset.left+r.width:r.offset.top+r.height,a=this.pgScrollSteps[this.pgScrollSteps.length-1],l=this.getSellectorDomId(r);return function(t,r){var o=t[0],h=t[1];if(o===1/0&&h===1/0)return"#pro-gallery-"+i+" #"+l+" "+r;for(var c,u,d=(c=s-o,u=a,Math.floor(Math.max(e.minHeight,c)/u)*u),p=function(t,i){return Math.ceil(Math.min(e.maxHeight,t)/i)*i}(n+h,a),m=[];d<p;){var g=e.pgScrollSteps.findIndex((function(t){return d%t==0&&d+t<=p}));if(-1===g){console.error("largestDividerIdx is -1. Couldn't find index in pgScrollSteps array.\nfrom =",d,"\nto =",p,"\npadding[0] =",t[0],"\npadding[1] =",t[1]);break}m.push("."+e.buildScrollClassName(i,g,d)+" ~ div #"+l+" "+r),d+=e.pgScrollSteps[g]}return m.join(", ")}},t.prototype.calcScrollCssForItem=function(t){var e=t.domId,i=t.item,r=t.styleParams,o=i.idx,s="",n=this.createScrollSelectorsFunction({domId:e,item:i,styleParams:r});return s+=this.createScrollAnimationsIfNeeded({idx:o,item:i,styleParams:r,createScrollSelectors:n}),this.scrollCss[o]=s||this.scrollCss[o],this.scrollCss[o]},t.prototype.createScrollAnimationsIfNeeded=function(t){var e=t.idx,i=t.styleParams,r=t.createScrollSelectors,o=i.isRTL,s=i.oneRow,a=i.scrollAnimation;if(!a||a===n.a.scrollAnimations.NO_EFFECT)return"";var l=100*(e%3+1),h=100*(e%3+1),c=this.allPagePadding(),u=this.aboveScreenPadding(),d="";if(a!==n.a.scrollAnimations.MAIN_COLOR&&a!==n.a.scrollAnimations.BLUR||(d+=r(c,' [data-hook="image-item-overlay"]')+"{filter: opacity(1); transition: filter 1."+h+"s ease-in "+l+"ms !important;}",d+=r(u,' [data-hook="image-item-overlay"]')+"{filter: opacity(0) !important;}"),a===n.a.scrollAnimations.FADE_IN&&(d+=r(c," .gallery-item-wrapper")+"{filter: opacity(0); transition: filter 1."+h+"s ease-in !important;}",d+=r(u," .gallery-item-wrapper")+"{filter: opacity(1) !important;}"),a===n.a.scrollAnimations.GRAYSCALE&&(d+=r(c," .gallery-item-wrapper")+"{filter: grayscale(100%); transition: filter 1."+(200+h)+"s ease-in !important;}",d+=r(u," .gallery-item-wrapper")+"{filter: grayscale(0) !important;}"),a===n.a.scrollAnimations.SLIDE_UP){var p=s?"X":"Y",m=o?"-":"";d+=r(c,"")+"{transform: translate"+p+"("+m+"100px); transition: transform 0.8s cubic-bezier(.13,.78,.53,.92) !important;}",d+=r(u,"")+"{transform: translate"+p+"(0) !important;}"}if(a===n.a.scrollAnimations.EXPAND&&(d+=r(c,"")+"{transform: scale(0.95); transition: transform 1s cubic-bezier(.13,.78,.53,.92) "+l+"ms !important;}",d+=r(u,"")+"{transform: scale(1) !important;}"),a===n.a.scrollAnimations.SHRINK&&(d+=r(c,"")+"{transform: scale(1.05); transition: transform 1s cubic-bezier(.13,.78,.53,.92) "+l+"ms !important;}",d+=r(u,"")+"{transform: scale(1) !important;}"),a===n.a.scrollAnimations.ZOOM_OUT&&(d+=r(c," .gallery-item-wrapper")+"{transform: scale(1.1); transition: transform 1.2s cubic-bezier(.13,.78,.53,.92) "+l+"ms !important;}",d+=r(u," .gallery-item-wrapper")+"{transform: scale(1) !important;}"),a===n.a.scrollAnimations.ONE_COLOR){var g=i.oneColorAnimationColor&&i.oneColorAnimationColor.value?i.oneColorAnimationColor.value:"transparent";d+=r(c,"")+"{background-color: "+g+";}",d+=r(c," .gallery-item-wrapper")+"{filter: opacity(0); transition: filter 0."+(600+h)+"s ease-in !important;}",d+=r(u," .gallery-item-wrapper")+"{filter: opacity(1) !important;}"}return d},t}());function gt(t){return Object(r.a)({},(t.imageInfoType===n.a.infoType.ATTACHED_BACKGROUND||n.a.hasHoverPlacement(t.titlePlacement))&&Object(r.a)(Object(r.a)({},ft(t.itemBorderRadius,t.itemBorderWidth,t.itemBorderColor)),function(t){var e={};if(t.itemEnableShadow){var i=t.itemShadowBlur,r=t.itemShadowDirection,o=t.itemShadowSize,s=-1*(Number(r)-90)/360*2*Math.PI;e={boxShadow:Math.round(o*Math.cos(s))+"px "+Math.round(-1*o*Math.sin(s))+"px "+i+"px "+d.a.formatColor(t.itemShadowOpacityAndColor)}}return e}(t)))}function yt(t){return Object(r.a)({},!n.a.hasHoverPlacement(t.titlePlacement)&&(t.imageInfoType===n.a.infoType.NO_BACKGROUND||t.imageInfoType===n.a.infoType.SEPARATED_BACKGROUND)&&Object(r.a)({},ft(t.itemBorderRadius,t.itemBorderWidth,t.itemBorderColor)))}function ft(t,e,i){return Object(r.a)({overflow:"hidden",borderRadius:t,borderWidth:e+"px",borderColor:d.a.formatColor(i)},e&&{borderStyle:"solid"})}function bt(t,e,i,o){var s=Object(r.a)(Object(r.a)({},n.a.hasHorizontalPlacement(t)&&{height:i,float:n.a.isRightPlacement(t)?"right":"left"}),n.a.hasVerticalPlacement(t)&&{height:o,boxSizing:"content-box"});return e.imageInfoType===n.a.infoType.SEPARATED_BACKGROUND?Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},s),ft(e.textBoxBorderRadius,e.textBoxBorderWidth,e.textBoxBorderColor)),n.a.hasAbovePlacement(t)&&{marginBottom:e.textImageSpace}),n.a.hasBelowPlacement(t)&&{marginTop:e.textImageSpace}):s}function It(t,e,i,o){var s=Object(r.a)(Object(r.a)({},(e.imageInfoType===n.a.infoType.SEPARATED_BACKGROUND||e.imageInfoType===n.a.infoType.ATTACHED_BACKGROUND)&&e.textBoxFillColor&&e.textBoxFillColor.value&&{backgroundColor:e.textBoxFillColor.value}),{overflow:"hidden",boxSizing:"border-box"}),a=n.a.hasVerticalPlacement(t),l=n.a.hasHorizontalPlacement(t);return Object(r.a)(Object(r.a)(Object(r.a)({},s),a&&function(t,e){return{width:"100%",height:e}}(0,i)),l&&function(t,e){return{height:"100%",width:e}}(0,o))}var vt=i(1),St=i.n(vt),Ot=function(t){var e=t.size,i=Object(r.e)(t,["size"]);return s.a.createElement("svg",Object(r.a)({viewBox:"0 0 60 60",fill:"currentColor",width:e||"60",height:e||"60"},i),s.a.createElement("path",{d:"M30,0c16.6,0,30,13.4,30,30S46.6,60,30,60C13.4,60,0,46.6,0,30S13.4,0,30,0z",fillRule:"evenodd",clipRule:"evenodd"}))};Ot.displayName="play_background",Ot.propTypes={size:St.a.string};var wt=Ot,Et=function(t){var e=t.size,i=Object(r.e)(t,["size"]);return s.a.createElement("svg",Object(r.a)({viewBox:"0 0 60 60",fill:"currentColor",width:e||"60",height:e||"60"},i),s.a.createElement("path",{d:"M41.5,30l-17,10V20L41.5,30z"}))};Et.displayName="play_triangle",Et.propTypes={size:St.a.string};var Ct=Et,xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.render=function(){var t=this.props.videoControls,e=this.getImageContainerClassNames()+" video-item gallery-item-video",i=this.getImageElement();return this.getImageContainer(i,e,t)},e}(ut),Pt=[s.a.createElement("i",{key:"play-triangle","data-hook":"play-triangle",className:"gallery-item-video-play-triangle play-triangle "},s.a.createElement(Ct,null)),s.a.createElement("i",{key:"play-bg","data-hook":"play-background",className:"gallery-item-video-play-background play-background "},s.a.createElement(wt,null))],Lt=function(t){function e(e){var i=t.call(this,e)||this;return i.shouldPlayVideo=i.shouldPlayVideo.bind(i),i.createVideoItemPlaceholder=i.createVideoItemPlaceholder.bind(i),i.state={VideoItemLoaded:!1},i}return Object(r.c)(e,t),e.prototype.shouldPlayVideo=function(){var t=this.props.styleParams,e=t.videoPlay,i=t.itemClick,r=this.props.hasLink;if(this.props.isVideoPlaceholder)return!1;if(this.props.idx===this.props.playingVideoIdx||this.props.idx===this.props.nextVideoIdx){if("hover"===e||"auto"===e)return!0;if("nothing"===i)return!0;if("link"===i&&!r)return!0}return!1},e.prototype.createVideoItemPlaceholder=function(t){var e=d.a.pick(this.props,["alt","title","description","id","idx","styleParams","createUrl","settings","actions"]);return s.a.createElement(xt,Object(r.a)({},e,{key:"videoPlaceholder",imageDimensions:this.props.imageDimensions,isThumbnail:!!this.props.thumbnailHighlightId,id:this.props.idx,videoControls:t&&Pt}))},e.prototype.componentDidMount=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i.e(55).then(i.bind(null,952))];case 1:return t=e.sent(),this.VideoItem=t.default,this.shouldPlayVideo()&&this.setState({VideoItemLoaded:!0}),[3,3];case 2:return e.sent(),console.error("Failed to fetch VideoItem"),[3,3];case 3:return[2]}}))}))},e.prototype.render=function(){var t=this.props.hover,e=!this.props.hidePlay&&this.props.styleParams.showVideoPlayButton,i=this.createVideoItemPlaceholder(e),o=this.VideoItem;return this.shouldPlayVideo()&&o?s.a.createElement(o,Object(r.a)({},this.props,{videoControls:e&&Pt})):[i,t]},e}(ut),Tt=function(t){function e(e){var i=t.call(this,e)||this;return i.shouldUseDirectLink=function(){var t=i.props.directLink||{},e=t.url,r=t.target,o=!(!e||!r||"link"!==i.props.styleParams.itemClick);return i.shouldShowHoverOnMobile()&&i.isClickOnCurrentHoveredItem()&&o?(i.props.actions.eventsListener(n.a.events.HOVER_SET,-1),!0):!(!o||i.shouldShowHoverOnMobile())},i.isClickOnCurrentHoveredItem=function(){return i.state.isCurrentHover},i.props.actions.eventsListener(n.a.events.ITEM_CREATED,i.props),i.init(),i.state={isCurrentHover:!1,itemWasHovered:!1},i.activeElement="",i}return Object(r.c)(e,t),e.prototype.init=function(){this.onItemClick=this.onItemClick.bind(this),this.onItemWrapperClick=this.onItemWrapperClick.bind(this),this.onItemInfoClick=this.onItemInfoClick.bind(this),this.onContainerKeyDown=this.onContainerKeyDown.bind(this),this.onAnchorKeyDown=this.onAnchorKeyDown.bind(this),this.handleItemMouseDown=this.handleItemMouseDown.bind(this),this.handleItemMouseUp=this.handleItemMouseUp.bind(this),this.setItemLoaded=this.setItemLoaded.bind(this),this.isHighlight=this.isHighlight.bind(this),this.getItemHover=this.getItemHover.bind(this),this.getImageItem=this.getImageItem.bind(this),this.getVideoItem=this.getVideoItem.bind(this),this.getTextItem=this.getTextItem.bind(this),this.getItemInner=this.getItemInner.bind(this),this.getItemContainerStyles=this.getItemContainerStyles.bind(this),this.getItemWrapperStyles=this.getItemWrapperStyles.bind(this),this.getItemAriaLabel=this.getItemAriaLabel.bind(this),this.getItemContainerClass=this.getItemContainerClass.bind(this),this.getItemWrapperClass=this.getItemWrapperClass.bind(this),this.getItemContainerTabIndex=this.getItemContainerTabIndex.bind(this),this.isIconTag=this.isIconTag.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.changeActiveElementIfNeeded=this.changeActiveElementIfNeeded.bind(this),this.checkIfCurrentHoverChanged=this.checkIfCurrentHoverChanged.bind(this),this.getCustomInfoRendererProps=this.getCustomInfoRendererProps.bind(this)},e.prototype.setItemLoaded=function(){this.props.actions.eventsListener(n.a.events.ITEM_LOADED,this.props),this.setState({loaded:!0})},e.prototype.isIconTag=function(t){return["button","i","a","svg","path"].indexOf(t.toLowerCase())>=0},e.prototype.onMouseOver=function(){d.a.isMobile()||this.props.actions.eventsListener(n.a.events.HOVER_SET,this.props.idx)},e.prototype.onMouseOut=function(){d.a.isMobile()||this.props.actions.eventsListener(n.a.events.HOVER_SET,-1)},e.prototype.onContainerKeyDown=function(t){switch(t.keyCode||t.charCode){case 32:case 13:return t.stopPropagation(),this.onItemClick(t,"item-container",!1),this.shouldUseDirectLink()&&this.itemAnchor.click(),!1;default:return!0}},e.prototype.onAnchorKeyDown=function(t){switch(t.keyCode||t.charCode){case 32:case 13:return t.stopPropagation(),this.onItemClick(t,"item-container",!1),!1;default:return!0}},e.prototype.handleGalleryItemAction=function(t){this.props.actions.eventsListener(n.a.events.ITEM_ACTION_TRIGGERED,this.props,t)},e.prototype.onItemWrapperClick=function(t){this.onItemClick(t,"item-media")},e.prototype.onItemInfoClick=function(t){this.onItemClick(t,"item-info")},e.prototype.onItemClick=function(t,e,i){void 0===i&&(i=!0),d.a.isFunction(d.a.get(p.a,"galleryWixCodeApi.onItemClicked"))&&p.a.galleryWixCodeApi.onItemClicked(this.props),this.props.actions.eventsListener(n.a.events.ITEM_CLICKED,Object(r.a)(Object(r.a)({},this.props),{clickTarget:e}),t),this.shouldUseDirectLink()||(i&&t.preventDefault(),this.shouldShowHoverOnMobile()?this.handleHoverClickOnMobile(t):this.handleGalleryItemAction(t))},e.prototype.handleHoverClickOnMobile=function(t){this.isClickOnCurrentHoveredItem()?(this.handleGalleryItemAction(t),this.props.actions.eventsListener(n.a.events.HOVER_SET,-1)):this.props.actions.eventsListener(n.a.events.HOVER_SET,this.props.idx)},e.prototype.handleItemMouseDown=function(){return!0},e.prototype.handleItemMouseUp=function(){return d.a.isMobile()&&this.longPressTimer&&clearTimeout(this.longPressTimer),!0},e.prototype.shouldShowHoverOnMobile=function(){if(d.a.isMobile()){var t=this.props.styleParams,e=t.titlePlacement,i=t.hoveringBehaviour,r=t.itemClick,o=t.alwaysShowHover,s=t.previewHover,a=t.allowDescription,l=t.allowTitle,h=t.isStoreGallery,c=m.supports.mobileSettings;if(i===n.a.infoBehaviourOnHover.NEVER_SHOW)return!1;if("nothing"===r&&"video"!==this.props.type)return!0;if(this.props.customHoverRenderer&&n.a.hasHoverPlacement(e)&&i!==n.a.infoBehaviourOnHover.NEVER_SHOW&&c&&(a||l||h))return!0;if(o)return!0;if(Object(Y.a)()&&s)return!0}return!1},e.prototype.isHighlight=function(){return this.props.thumbnailHighlightId&&this.props.thumbnailHighlightId===this.props.id},e.prototype.shouldHover=function(){var t=this.props.styleParams,e=t.alwaysShowHover,i=t.previewHover,r=t.hoveringBehaviour,o=t.overlayAnimation,s=n.a.infoBehaviourOnHover,a=s.NEVER_SHOW,l=s.APPEARS,h=n.a.overlayAnimations.NO_EFFECT;return r!==a&&(!0===e||(!(!Object(Y.a)()||!i)||!(r===l&&o===h&&!this.state.itemWasHovered)&&(!d.a.isMobile()||this.shouldShowHoverOnMobile())))},e.prototype.getImageDimensions=function(){var t=this.props,e=t.styleParams,i=t.cubeRatio,r=t.style,o=r.ratio>=i,s=Math.round((r.height*r.ratio-r.width)/-2),a=Math.round((r.width/r.ratio-r.height)/-2),l=e.cubeImages&&"fit"===e.cubeType,h={};return l?l&&o?h={height:r.height-2*a,width:r.width,margin:a+"px 0"}:l&&!o&&(h={width:r.width-2*s,height:r.height,margin:"0 "+s+"px"}):h={width:r.width,height:r.height},e.itemBorderRadius&&e.imageInfoType!==n.a.infoType.ATTACHED_BACKGROUND&&(h.borderRadius=e.itemBorderRadius+"px"),h},e.prototype.getItemHover=function(t){var e=this,i=this.props,o=i.customHoverRenderer,n=Object(r.e)(i,["customHoverRenderer"]);return this.shouldHover()&&s.a.createElement(pt,Object(r.a)({},n,{forceShowHover:this.simulateOverlayHover(),imageDimensions:t,itemWasHovered:this.state.itemWasHovered,key:"hover",actions:{handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp},renderCustomInfo:o?function(){return o(e.getCustomInfoRendererProps())}:null}))},e.prototype.getCustomInfoRendererProps=function(){return Object(r.a)(Object(r.a)({},this.props),{isMobile:d.a.isMobile()})},e.prototype.getImageItem=function(t){var e=d.a.pick(this.props,["gotFirstScrollEvent","alt","title","description","id","idx","styleParams","createUrl","settings","isPrerenderMode"]);return s.a.createElement(ut,Object(r.a)({},e,{key:"imageItem",imageDimensions:t,isThumbnail:!!this.props.thumbnailHighlightId,actions:{handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp,setItemLoaded:this.setItemLoaded}}))},e.prototype.getVideoItem=function(t,e){return s.a.createElement(Lt,Object(r.a)({},this.props,{playing:this.props.idx===this.props.playingVideoIdx,key:"video"+this.props.idx,hover:e,imageDimensions:t,hasLink:this.itemHasLink(),actions:Object(r.a)(Object(r.a)({},this.props.actions),{setItemLoaded:this.setItemLoaded,handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp})}))},e.prototype.getTextItem=function(t){var e=d.a.pick(this.props,["id","styleParams","style","html","cubeRatio","isPrerenderMode"]);return s.a.createElement(dt,Object(r.a)({},e,{key:"textItem",imageDimensions:t,actions:{handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp,setItemLoaded:this.setItemLoaded}}))},e.prototype.getItemInner=function(){var t,e=this,i=this.props,o=i.styleParams,n=i.type,a=this.getImageDimensions(),l={width:a.width,height:a.height},h=null;switch((this.shouldHover()||o.isSlideshow)&&(h=this.getItemHover(l)),n){case"dummy":t=s.a.createElement("div",null);break;case"video":t=this.getVideoItem(l,h);break;case"text":t=[this.getTextItem(l),h];break;case"image":case"picture":default:t=this.props.isVideoPlaceholder?this.getVideoItem(l,h):[this.getImageItem(l),h]}if(o.isSlideshow){var c=this.props.customSlideshowInfoRenderer,u=this.getFadeAnimationStyles(),d=Object(r.a)(Object(r.a)({height:o.slideshowInfoSize+"px",bottom:"-"+o.slideshowInfoSize+"px"},u),{transition:"none"}),p=c?c(this.getCustomInfoRendererProps()):null,m=this.props,g=m.photoId,y=m.id,f=m.idx;t=s.a.createElement("div",null,s.a.createElement("a",Object(r.a)({ref:function(t){return e.itemAnchor=t},"data-id":g,"data-idx":f,key:"item-container-link-"+y},this.getLinkParams(),{tabIndex:-1,style:Object(r.a)({},u)}),t),s.a.createElement("div",{className:"gallery-slideshow-info","data-hook":"gallery-slideshow-info-buttons",style:d},p))}return t},e.prototype.getRightInfoElementIfNeeded=function(){return n.a.hasRightPlacement(this.props.styleParams.titlePlacement)?this.getExternalInfoElement(n.a.placements.SHOW_ON_THE_RIGHT,"gallery-item-right-info"):null},e.prototype.getLeftInfoElementIfNeeded=function(){return n.a.hasLeftPlacement(this.props.styleParams.titlePlacement)?this.getExternalInfoElement(n.a.placements.SHOW_ON_THE_LEFT,"gallery-item-left-info"):null},e.prototype.getBottomInfoElementIfNeeded=function(){return n.a.hasBelowPlacement(this.props.styleParams.titlePlacement)?this.getExternalInfoElement(n.a.placements.SHOW_BELOW,"gallery-item-bottom-info"):null},e.prototype.getTopInfoElementIfNeeded=function(){return n.a.hasAbovePlacement(this.props.styleParams.titlePlacement)?this.getExternalInfoElement(n.a.placements.SHOW_ABOVE,"gallery-item-top-info"):null},e.prototype.getExternalInfoElement=function(t,e){var i=this.props,r=i.styleParams,o=i.customInfoRenderer,n=i.style;if(!o)return null;var a=r.textBoxHeight+(this.hasRequiredMediaUrl?0:n.height),l=n.infoWidth+(this.hasRequiredMediaUrl?0:n.width),h=o(this.getCustomInfoRendererProps(),t);return s.a.createElement("div",{style:bt(t,r,n.height,r.textBoxHeight)},s.a.createElement("div",{style:It(t,r,a,l),className:"gallery-item-common-info "+e,"aria-hidden":!0,onClick:this.onItemInfoClick},h))},e.prototype.simulateHover=function(){return this.state.isCurrentHover||!0===this.props.styleParams.alwaysShowHover||Object(Y.a)()&&this.props.styleParams.previewHover},e.prototype.simulateOverlayHover=function(){return this.simulateHover()||this.props.styleParams.hoveringBehaviour===n.a.infoBehaviourOnHover.NO_CHANGE},e.prototype.itemHasLink=function(){var t=this.props,e=t.linkData,i=t.linkUrl;return!(void 0===e.type&&(void 0===i||""===i))},e.prototype.getItemContainerStyles=function(){var t=this.props,e=t.idx,i=t.currentIdx,o=t.offset,s=t.style,a=t.styleParams,l=t.settings,h=void 0===l?{}:l,c=a.oneRow,u=a.imageMargin,d=a.itemClick,p=a.isRTL,m=a.slideAnimation,g=gt(a),y=!this.itemHasLink(),f={overflowY:a.isSlideshow?"visible":"hidden",position:"absolute",bottom:"auto",margin:c?u/2+"px":0,cursor:d===n.a.itemClick.NOTHING||d===n.a.itemClick.LINK&&y?"default":"pointer"},b=h.avoidInlineStyles,I=this.props.isPrerenderMode&&!this.props.settings.disableSSROpacity,v=b?{}:{opacity:I?0:1,display:I?"none":"block",transition:"opacity .2s ease"},S=b?{}:{top:o.top,left:p?"auto":o.left,right:p?o.left:"auto",width:s.width+s.infoWidth,height:s.height+s.infoHeight},O=m===n.a.slideAnimations.FADE?{left:p?"auto":0,right:p?0:"auto",pointerEvents:i===e?"auto":"none",zIndex:i===e?0:1}:{},w=this.state.loaded&&(Object(Y.a)()||Object(Y.c)())?{transition:"all .4s ease",transitionProperty:"top, left, width, height, opacity"}:{transition:"none"};return Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},f),S),g),w),v),O)},e.prototype.getItemWrapperStyles=function(){var t=this.props,e=t.styleParams,i=t.style,o=t.type,s=i.height,n={};n.backgroundColor="text"===o?"fit"!==e.cubeType?"transparent":"inherit":("fit"!==e.cubeType?i.bgColor:"inherit")||"transparent",n.margin=-e.itemBorderWidth+"px",n.height=s+"px";var a=this.getImageDimensions();return Object(r.a)(Object(r.a)(Object(r.a)({},n),a),!e.isSlideshow&&this.getFadeAnimationStyles())},e.prototype.getFadeAnimationStyles=function(){var t=this.props,e=t.idx,i=t.currentIdx;return t.styleParams.slideAnimation===n.a.slideAnimations.FADE?{transition:i===e?"none":"opacity .8s ease",opacity:i===e?1:0,display:"block"}:{}},e.prototype.getItemAriaLabel=function(){var t,e=this.props,i=e.type,r=e.alt,o=e.styleParams;switch(i){case"dummy":t="";break;case"text":t="Text item";break;case"video":t=r||"Untitled video";break;default:t=r||"Untitled image"}return t+(o.isStoreGallery?", Buy Now":"")},e.prototype.getItemContainerClass=function(){var t=this.props.styleParams,e=!t.isSlideshow,i=t.imagePlacementAnimation,r=t.overlayAnimation,o=t.imageHoverAnimation,s={"gallery-item-container":!0,visible:!0,highlight:this.isHighlight(),clickable:"nothing"!==t.itemClick,"simulate-hover":this.simulateHover(),"hide-hover":!this.simulateHover()&&d.a.isMobile(),"invert-hover":t.hoveringBehaviour===n.a.infoBehaviourOnHover.DISAPPEARS,"animation-slide":e&&i===n.a.imagePlacementAnimations.SLIDE,"hover-animation-fade-in":e&&r===n.a.overlayAnimations.FADE_IN,"hover-animation-expand":e&&r===n.a.overlayAnimations.EXPAND,"hover-animation-slide-up":e&&r===n.a.overlayAnimations.SLIDE_UP,"hover-animation-slide-right":e&&r===n.a.overlayAnimations.SLIDE_RIGHT,"zoom-in-on-hover":e&&o===n.a.imageHoverAnimations.ZOOM_IN,"blur-on-hover":e&&o===n.a.imageHoverAnimations.BLUR,"grayscale-on-hover":e&&o===n.a.imageHoverAnimations.GRAYSCALE,"shrink-on-hover":e&&o===n.a.imageHoverAnimations.SHRINK,"invert-on-hover":e&&o===n.a.imageHoverAnimations.INVERT,"color-in-on-hover":e&&o===n.a.imageHoverAnimations.COLOR_IN,"darkened-on-hover":e&&o===n.a.imageHoverAnimations.DARKENED,"pro-gallery-mobile-indicator":d.a.isMobile()};return Object.entries(s).map((function(t){var e=t[0];return!!t[1]&&e})).filter(Boolean).join(" ")},e.prototype.getItemWrapperClass=function(){var t=this.props,e=t.styleParams,i=t.type,r=["gallery-item-wrapper","visible"];return e.cubeImages&&r.push("cube-type-"+e.cubeType),"text"===i&&r.push("gallery-item-wrapper-text"),r.join(" ")},e.prototype.getItemContainerTabIndex=function(){return this.isHighlight()?d.a.getTabIndex("currentThumbnail"):this.props.currentIdx===this.props.idx?d.a.getTabIndex("currentGalleryItem"):-1},e.prototype.changeActiveElementIfNeeded=function(t){var e=this;try{if((Object(Y.e)()||Object(Y.d)())&&!d.a.isMobile()&&p.a.document&&p.a.document.activeElement&&p.a.document.activeElement.className){var i=p.a.document.activeElement;(String(i.className).indexOf("gallery-item-container")>=0&&p.a.document.querySelector("#pro-gallery-"+e.props.domId+" #"+String(i.id))||String(i.className).indexOf("show-more")>=0&&p.a.document.querySelector("#pro-gallery-"+e.props.domId+" #"+String(i.id)))&&(this.props.thumbnailHighlightId!==t.thumbnailHighlightId&&this.props.thumbnailHighlightId===this.props.id||this.props.currentIdx!==t.currentIdx&&this.props.currentIdx===this.props.idx)&&this.itemContainer.focus()}}catch(r){console.error("Could not set focus to active element",r)}},e.prototype.componentDidMount=function(){if(d.a.isMobile())try{s.a.initializeTouchEvents(!0)}catch(t){}p.a.addEventListener("current_hover_change",this.checkIfCurrentHoverChanged)},e.prototype.componentWillUnmount=function(){clearTimeout(this.itemLoadedTimeout),p.a.removeEventListener("current_hover_change",this.checkIfCurrentHoverChanged)},e.prototype.componentDidUpdate=function(t){this.changeActiveElementIfNeeded(t)},e.prototype.checkIfCurrentHoverChanged=function(t){t.domId===this.props.domId&&(this.state.isCurrentHover||t.currentHoverIdx!==this.props.idx?this.state.isCurrentHover&&t.currentHoverIdx!==this.props.idx&&this.setState({isCurrentHover:!1}):this.setState({isCurrentHover:!0,itemWasHovered:!0}))},e.prototype.onContextMenu=function(t){d.a.isDev()||this.props.styleParams.allowContextMenu||t.preventDefault(t)},e.prototype.getItemAriaRole=function(){switch(this.props.styleParams.itemClick){case"expand":case"fullscreen":return"button";case"link":return"link";default:return""}},e.prototype.getLinkParams=function(){var t=this.props,e=t.directLink,i=t.styleParams,o=t.directShareLink,s=Object(Y.d)();if(i.itemClick===n.a.itemClick.LINK){var a=e||{},l=a.url,h=a.target,c=this.props.noFollowForSEO,u=s&&c?{rel:"nofollow"}:{};return!(!l||!h)?Object(r.a)({href:l,target:h},u):{}}if(i.itemClick===n.a.itemClick.FULLSCREEN||i.itemClick===n.a.itemClick.EXPAND)return!!(l=o)?{href:l,"data-cancel-link":!0}:{}},e.prototype.composeItem=function(){var t=this,e=this.props,i=e.photoId,o=e.id,a=e.hash,l=e.idx,h=e.styleParams,c=e.type,u=e.url;this.hasRequiredMediaUrl=u||"text"===c;var d=h.titlePlacement!==n.a.placements.SHOW_ON_HOVER&&!this.hasRequiredMediaUrl,p=s.a.createElement("div",{className:this.getItemContainerClass(),onContextMenu:function(e){return t.onContextMenu(e)},id:mt.getSellectorDomId(this.props),ref:function(e){return t.itemContainer=e},onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,onKeyDown:this.onContainerKeyDown,tabIndex:this.getItemContainerTabIndex(),"aria-label":this.getItemAriaLabel(),"data-hash":a,"data-id":i,"data-idx":l,role:this.getItemAriaRole(),"data-hook":"item-container",key:"item-container-"+o,style:this.getItemContainerStyles()},this.getTopInfoElementIfNeeded(),this.getLeftInfoElementIfNeeded(),s.a.createElement("div",{style:Object(r.a)(Object(r.a)(Object(r.a)({},!this.props.styleParams.isSlideshow&&yt(this.props.styleParams)),n.a.hasRightPlacement(this.props.styleParams.titlePlacement)&&{float:"left"}),n.a.hasLeftPlacement(this.props.styleParams.titlePlacement)&&{float:"right"})},!d&&s.a.createElement("div",{"data-hook":"item-wrapper",className:this.getItemWrapperClass(),key:"item-wrapper-"+o,id:"item-wrapper-"+o,style:this.getItemWrapperStyles(),onClick:this.onItemWrapperClick},this.getItemInner())),this.getRightInfoElementIfNeeded(),this.getBottomInfoElementIfNeeded());return h.isSlideshow?p:s.a.createElement("a",Object(r.a)({ref:function(e){return t.itemAnchor=e},"data-id":i,"data-idx":l,key:"item-container-link-"+o},this.getLinkParams(),{tabIndex:-1,onKeyDown:function(e){t.onAnchorKeyDown(e)}}),p)},e.prototype.render=function(){return this.composeItem()},e}(ht.a),Rt=function(t){function e(e){var i=t.call(this,e)||this;return i.handleArrowKeys=i.handleArrowKeys.bind(i),i.showMoreItems=i.showMoreItems.bind(i),i.createGalleryConfig=i.createGalleryConfig.bind(i),i.screenLogs=i.screenLogs.bind(i),i.createGallery=i.createGallery.bind(i),i.id=Date.now()+"|"+Math.floor(1e4*Math.random()),i.state={currentIdx:0},i}return Object(r.c)(e,t),e.prototype.handleArrowKeys=function(t){var e=p.a.document.activeElement.getAttribute("data-idx");if(e){var i=this.props.actions.findNeighborItem||this.props.galleryStructure.findNeighborItem||function(){},r=Number(e),o=-1;switch(t.keyCode||t.charCode){case 38:o=i(r,"up");break;case 37:o=i(r,this.props.styleParams.isRTL?"right":"left");break;case 40:o=i(r,"down");break;case 39:o=i(r,this.props.styleParams.isRTL?"left":"right")}if(o>this.lastVisibleItemIdx()&&(o=r),o>=0)return t.preventDefault(),t.stopPropagation(),d.a.setStateAndLog(this,"Set Gallery Current Item",{currentIdx:o}),!1}return!0},e.prototype.lastVisibleItemIdxInHeight=function(t){for(var e=this.props.galleryStructure.items.length-1;e>=0;e--){if(this.props.galleryStructure.items[e].offset.top<t)return e}return this.items.length-1},e.prototype.lastVisibleItemIdx=function(){return this.lastVisibleItemIdxInHeight(this.props.container.galleryHeight-100)},e.prototype.showMoreItems=function(){var t=this;if(this.props.styleParams.isAccessible)try{var e=this.lastVisibleItemIdx();d.a.setStateAndLog(this,"Focus on Last Gallery Item",{currentIdx:e+1},(function(){t.props.actions.toggleLoadMoreItems()}))}catch(i){console.warn("Cannot find item to focus",i)}else this.props.actions.toggleLoadMoreItems()},e.prototype.createGallery=function(t){var e,i=this.props,o=i.itemsLoveData,n=i.styleParams,a=i.container,l=i.galleryStructure,h=i.getVisibleItems,c=this.createGalleryConfig(),u=s.a.createElement(ct,Object(r.a)({},this.props.debug));e=t?a.galleryHeight-138:l.height+"px";var d=h(l.galleryItems,a).map((function(t,e){return s.a.createElement(Tt,t.renderProps(Object(r.a)(Object(r.a)(Object(r.a)({},c),o[t.id]),{visible:t.isVisible,key:"itemView-"+t.id+"-"+e})))}));return s.a.createElement("div",{id:"pro-gallery-container",className:"pro-gallery inline-styles "+(n.oneRow?" one-row slider hide-scrollbars ":"")+(n.isAccessible?" accessible ":"")+(n.isRTL?" rtl ":" ltr "),style:{height:e,overflowX:"hidden"},onKeyDown:this.handleArrowKeys},s.a.createElement("div",{id:"pro-gallery-margin-container",style:{margin:n.galleryMargin+"px",height:e,width:this.props.container.galleryWidth-n.imageMargin,overflow:"visible",position:"relative"}},u,d))},e.prototype.createGalleryConfig=function(){return{scrollingElement:this.props.scrollingElement,scroll:this.props.scroll,container:this.props.container,styleParams:this.props.styleParams,watermark:this.props.watermark,settings:this.props.settings,currentIdx:this.state.currentIdx,customHoverRenderer:this.props.customHoverRenderer,customInfoRenderer:this.props.customInfoRenderer,domId:this.props.domId,gotFirstScrollEvent:this.props.gotFirstScrollEvent,playingVideoIdx:this.props.playingVideoIdx,nextVideoIdx:this.props.nextVideoIdx,noFollowForSEO:this.props.noFollowForSEO,isPrerenderMode:this.props.isPrerenderMode,actions:{eventsListener:this.props.actions.eventsListener}}},e.prototype.screenLogs=function(){return d.a.shouldDebug("screenLogs")?s.a.createElement("div",{className:"screen-logs"},"URL width: ",d.a.parseGetParam("width"),", Container:"," ",JSON.stringify(this.props.container.galleryWidth),", window.document.body.clientWidth ",document.body.clientWidth,", window.innerWidth ",p.a.innerWidth,", window.screen.width:"," ",p.a.screen.width):""},e.prototype.returnButtonStyle=function(t){var e={};return d.a.isMobile()&&(void 0!==t.loadMoreButtonFont&&(e.font=t.loadMoreButtonFont.value,e.textDecoration=t.textDecorationLoadMore),void 0!==t.loadMoreButtonFontColor&&(e.color=t.loadMoreButtonFontColor.value,e.textDecorationColor=t.loadMoreButtonFontColor.value),void 0!==t.loadMoreButtonColor&&(e.background=t.loadMoreButtonColor.value),void 0!==t.loadMoreButtonBorderColor&&(e.borderColor=t.loadMoreButtonBorderColor.value),void 0!==t.loadMoreButtonBorderRadius&&(e.borderRadius=t.loadMoreButtonBorderRadius),void 0!==t.loadMoreButtonBorderWidth&&(e.borderWidth=t.loadMoreButtonBorderWidth)),e},e.prototype.createShowMoreButton=function(){if("function"==typeof this.props.customLoadMoreRenderer)return s.a.createElement("div",{onClick:this.showMoreItems},this.props.customLoadMoreRenderer(this.props));var t=this.props.styleParams,e=!1,i=this.props.displayShowMore&&this.props.galleryStructure.height>this.props.container.height,r=this.returnButtonStyle(t);if(i){var o=t.loadMoreButtonText||"Load More";e=s.a.createElement("div",{className:"show-more-container"+(d.a.isMobile()?" pro-gallery-mobile-indicator":"")},s.a.createElement("button",{tabIndex:d.a.getTabIndex("loadMoreButton"),id:"show-more-"+this.props.domId,className:"show-more",onClick:this.showMoreItems,onMouseDown:function(t){return t.preventDefault()},"data-hook":"show-more","aria-label":o,style:r},o))}return e},e.prototype.render=function(){d.a.isVerbose()&&(console.count("galleryView render"),console.time("Rendering Gallery took "),console.log("[DEBUG_RENDER] GalleryView styleParams",this.props.styleParams),console.log("[DEBUG_RENDER] GalleryView props changed",d.a.printableObjectsDiff(this.lastProps||{},this.props)),this.lastProps=Object(r.a)({},this.props),console.log("[DEBUG_RENDER] GalleryView state changed",d.a.printableObjectsDiff(this.lastState||{},this.state)),this.lastState=Object(r.a)({},this.state),this.renderCount=(this.renderCount||0)+1);var t=this.createShowMoreButton(),e=this.createGallery(t);d.a.isVerbose()&&console.timeEnd("Rendering Gallery took ");var i=this.screenLogs();return s.a.createElement("div",{className:"pro-gallery-parent-container",key:"pro-gallery-"+this.id,role:"region","aria-label":this.props.proGalleryRegionLabel},i,e,t)},e}(ht.a),Mt=function(t){function e(e){var i=t.call(this,e)||this;return i.displayName="GroupView",i.dom=[],i.state={},i}return Object(r.c)(e,t),e.prototype.createDom=function(t){var e=this;return this.props.items.map((function(i){return s.a.createElement(Tt,Object(r.a)(Object(r.a)({},i.renderProps(Object(r.a)(Object(r.a)({},e.props.galleryConfig),{visible:t}))),e.props.itemsLoveData[i.id]))}))},e.prototype.shouldRender=function(){var t=this.props.items;return!!(t&&t.length&&t[0])},e.prototype.isVisible=function(){var t=this.props,e=t.items,i=t.galleryConfig;if(this.props.allowLoop){var r=e[e.length-1].idx,o=i.currentIdx,s=i.totalItemsCount,n=o-r,a=Math.floor(s/2);return Math.abs(n)<=a}return!0},e.prototype.render=function(){return this.shouldRender()?s.a.createElement("div",{key:"group_"+this.props.idx+"_"+this.props.items[0].id,"data-hook":"group-view","aria-hidden":this.props.ariaHidden},this.createDom(this.isVisible())):null},e}(ht.a);var At=function(t){var e=t.size,i=Object(r.e)(t,["size"]);return s.a.createElement("svg",Object(r.a)({viewBox:"0 0 11 14",fill:"currentColor",width:e||"11",height:e||"14"},i),s.a.createElement("g",{id:"final",stroke:"none",fill:"none",strokeWidth:"1",fillRule:"evenodd"},s.a.createElement("g",{id:"Pause",transform:"translate(-490 -763)",fill:"currentColor"},s.a.createElement("g",{id:"Group-2",transform:"translate(470 284)"},s.a.createElement("g",{id:"Group",transform:"translate(20 479)"},s.a.createElement("path",{id:"play",d:"M0.0788076641 0L0 14 10.5 6.81856071z"}))))))};At.displayName="play",At.propTypes={size:St.a.string};var Dt=At,jt=function(t){var e=t.size,i=Object(r.e)(t,["size"]);return s.a.createElement("svg",Object(r.a)({viewBox:"0 0 10 14",fill:"currentColor",width:e||"10",height:e||"14"},i),s.a.createElement("g",{id:"final",stroke:"none",fill:"none",strokeWidth:"1",fillRule:"evenodd"},s.a.createElement("g",{id:"Play",transform:"translate(-490 -763)",fill:"currentColor"},s.a.createElement("g",{id:"Group-2",transform:"translate(470 284)"},s.a.createElement("g",{id:"Group",transform:"translate(20 479)"},s.a.createElement("path",{d:"M7,0 L10,0 L10,14 L7,14 L7,0 Z M0,0 L3,0 L3,14 L0,14 L0,0 Z",id:"_copy_3"}))))))};jt.displayName="pause",jt.propTypes={size:St.a.string};var kt=jt,Nt=function(t){function e(e){var i=t.call(this,e)||this;return i.autoScrollToNextItem=function(){if(!Object(Y.a)()&&(function(t){try{var e=!!(t&&Number.isInteger(t.scrollBase)&&Number.isInteger(t.galleryHeight)&&p.a&&p.a.document&&p.a.document.documentElement&&(Number.isInteger(p.a.document.documentElement.scrollTop)||p.a.document.scrollingElement&&Number.isInteger(p.a.document.scrollingElement.scrollTop))&&Number.isInteger(p.a.document.documentElement.offsetHeight)),i=e&&t.scrollBase+t.galleryHeight>p.a.document.documentElement.scrollTop,r=e&&t.scrollBase<(p.a.document.documentElement.scrollTop||p.a.document.scrollingElement.scrollTop)+p.a.document.documentElement.offsetHeight;return i&&r||!e}catch(o){return console.warn("Could not calculate viewport",o),!0}}(i.props.container)||Object(Y.c)())){var t=i.props.styleParams.isRTL?-1:1;i._next({direction:t,isAutoTrigger:!0,scrollDuration:800})}},i.navigationOutHandler=i.navigationOutHandler.bind(i),i.navigationInHandler=i.navigationInHandler.bind(i),i.scrollToThumbnail=i.scrollToThumbnail.bind(i),i.stopAutoSlideshow=i.stopAutoSlideshow.bind(i),i.onAutoSlideShowButtonClick=i.onAutoSlideShowButtonClick.bind(i),i.startAutoSlideshowIfNeeded=i.startAutoSlideshowIfNeeded.bind(i),i.handleSlideshowKeyPress=i.handleSlideshowKeyPress.bind(i),i.onAutoSlideshowAutoPlayKeyPress=i.onAutoSlideshowAutoPlayKeyPress.bind(i),i.setCurrentItemByScroll=i.setCurrentItemByScroll.bind(i),i._setCurrentItemByScroll=d.a.throttle(i.setCurrentItemByScroll,600).bind(i),i._next=d.a.throttle(i.next.bind(i),400).bind(i),i.state={currentIdx:e.currentIdx||0,isInView:!0,shouldStopAutoSlideShow:!1,hideLeftArrow:!e.isRTL,hideRightArrow:e.isRTL},i.lastCurrentItem=void 0,i.shouldCreateSlideShowPlayButton=!1,i.shouldCreateSlideShowNumbers=!1,i.skipFromSlide=Math.round(1.5*i.props.totalItemsCount),i}return Object(r.c)(e,t),e.prototype.isFirstItem=function(){return 0===this.state.currentIdx},e.prototype.isScrollStart=function(){return this.props.styleParams.slideAnimation!==n.a.slideAnimations.FADE&&(!!this.container&&this.getScrollLeft()<=1)},e.prototype.isScrollEnd=function(){var t=this.props,e=t.totalItemsCount,i=t.getVisibleItems,r=t.galleryStructure,o=t.container,s=this.props.styleParams,a=s.slideshowLoop,l=s.slideAnimation;if(a||l===n.a.slideAnimations.FADE)return!1;if(this.container){var h=this.container,c=h.scrollWidth,u=h.clientWidth,d=this.getScrollLeft();return i(r.galleryItems,o).length>=e&&d+u>=c-1}return!1},e.prototype.isFirstItemFullyVisible=function(){return!this.props.styleParams.slideshowLoop&&this.isScrollStart()},e.prototype.isLastItemFullyVisible=function(){return!this.props.styleParams.slideshowLoop&&this.isScrollEnd()},e.prototype.isLastItem=function(){return!this.props.styleParams.slideshowLoop&&this.state.currentIdx>=this.props.totalItemsCount-1},e.prototype.createNewItemsForSlideshowLoopThumbnails=function(){var t=this.props.items,e=[],i=Math.ceil(this.props.container.galleryWidth/this.props.styleParams.thumbnailSize);Object.keys(t).forEach((function(o){var s,n=Number(o);e[s=n+i]=Object(r.a)({},t[o]),n>t.length-i-1&&(s=n-t.length+i,e[s]=Object(r.a)({},t[o])),n<i&&(s=n+i+t.length,e[s]=Object(r.a)({},t[o]))})),e.forEach((function(t,e){t.loopIndex=e})),this.ItemsForSlideshowLoopThumbnails=e,this.numOfThumbnails=i},e.prototype.next=function(t){var e=t.direction,i=t.isAutoTrigger,r=t.scrollDuration,o=t.isKeyboardNavigation,s=void 0!==o&&o,a=document.activeElement,l=a.className&&a.className.includes("gallery-item-container"),h=!s||!(this.props.styleParams.isAccessible&&l),c=!1;this.props.styleParams.slideAnimation===n.a.slideAnimations.FADE&&(r=0,c=!0),e*=this.props.styleParams.isRTL?-1:1,h&&this.props.styleParams.groupSize>1?this.nextGroup({direction:e,isAutoTrigger:i,scrollDuration:r}):(h&&this.props.styleParams.isGrid&&this.props.styleParams.numberOfImagesPerCol&&(e*=this.props.styleParams.numberOfImagesPerCol),this.nextItem({direction:e,isAutoTrigger:i,scrollDuration:r,avoidIndividualNavigation:h,ignoreScrollPosition:c})),this.removeArrowsIfNeeded()},e.prototype.nextItem=function(t){var e=this,i=t.direction,r=t.isAutoTrigger,o=t.scrollDuration,s=t.avoidIndividualNavigation,n=t.ignoreScrollPosition;if(!this.isSliding){this.isSliding=!0;var a=(n?this.state.currentIdx:!s||this.props.styleParams.groupSize>1?r?this.setCurrentItemByScroll():this.state.currentIdx:this.getCenteredItemIdxByScroll())+i;this.props.styleParams.slideshowLoop||(a=Math.min(this.props.galleryStructure.items.length-1,a),a=Math.max(0,a));var l=this.props.actions.scrollToItem;if(this.isAutoScrolling=!0,r);else if(this.startAutoSlideshowIfNeeded(this.props.styleParams),i>=1&&this.isLastItem()||i<=-1&&this.isFirstItem())return void(this.isSliding=!1);try{var h=!r&&(i>=1&&this.isLastItemFullyVisible()||i<=-1&&this.isFirstItemFullyVisible()),c=this.getStyles().margin||0,u=o||this.props.styleParams.scrollDuration||400;(!h&&l(n?0:a,!1,!0,u,c)).then((function(){if(1===e.props.styleParams.groupSize){var t=e.skipFromSlide-e.props.totalItemsCount;a>=e.skipFromSlide&&l(a=t)}d.a.setStateAndLog(e,"Next Item",{currentIdx:a},(function(){e.onCurrentItemChanged(),e.isSliding=!1})),n&&(e.props.getMoreItemsIfNeeded(e.props.galleryStructure.galleryItems[a].offset.left),e.props.setGotFirstScrollIfNeeded())}))}catch(p){return console.error("Cannot proceed to the next Item",p),void this.stopAutoSlideshow()}}},e.prototype.nextGroup=function(t){var e=this,i=t.direction,r=t.isAutoTrigger,o=t.scrollDuration;if(!this.isSliding){this.isSliding=!0;var s=this.getCenteredGroupIdxByScroll()+i,n=this.props.actions.scrollToGroup;if(this.isAutoScrolling=!0,r)this.isLastItem()&&(s=0,o=0);else if(i>=1&&this.isLastItem()||i<=-1&&this.isFirstItem())return void(this.isSliding=!1);try{var a=!r&&(i>=1&&this.isLastItemFullyVisible()||i<=-1&&this.isFirstItemFullyVisible()),l=this.getStyles().margin||0,h=o||this.props.styleParams.scrollDuration||400;!a&&n(s,!1,!0,h,l),d.a.setStateAndLog(this,"Next Item",{currentIdx:this.getCenteredItemIdxByScroll()+i},(function(){e.onCurrentItemChanged(),e.isSliding=!1}))}catch(c){return console.error("Cannot proceed to the next Group",c),void this.stopAutoSlideshow()}}},e.prototype.onCurrentItemChanged=function(){this.lastCurrentItem!==this.state.currentIdx&&(this.lastCurrentItem=this.state.currentIdx,this.props.actions.eventsListener(n.a.events.CURRENT_ITEM_CHANGED,this.props.items[this.state.currentIdx])),this.removeArrowsIfNeeded()},e.prototype.stopAutoSlideshow=function(){clearInterval(this.autoSlideshowInterval)},e.prototype.startAutoSlideshowIfNeeded=function(t){var e=t.isAutoSlideshow,i=t.autoSlideshowInterval,r=t.oneRow;this.stopAutoSlideshow(),r&&e&&i>0&&this.state.isInView&&!this.state.shouldStopAutoSlideShow&&(this.autoSlideshowInterval=setInterval(this.autoScrollToNextItem.bind(this),1e3*i))},e.prototype.scrollToThumbnail=function(t,e){this.props.actions.eventsListener(n.a.events.THUMBNAIL_CLICKED,this.props),this.props.setGotFirstScrollIfNeeded(),this.next({direction:t-this.state.currentIdx,isAutoTrigger:!1,scrollDuration:e,isKeyboardNavigation:!1})},e.prototype.handleSlideshowKeyPress=function(t){switch(t.charCode||t.keyCode){case 38:case 37:case 33:return t.preventDefault(),this._next({direction:-1,isKeyboardNavigation:!0}),!1;case 39:case 40:case 32:case 34:return t.preventDefault(),this._next({direction:1,isKeyboardNavigation:!0}),!1}return!0},e.prototype.createThumbnails=function(t){var e=this,i=this.props.items,o=this.state.currentIdx;this.props.styleParams.slideshowLoop&&(this.ItemsForSlideshowLoopThumbnails||this.createNewItemsForSlideshowLoopThumbnails(),o+=this.numOfThumbnails,i=this.ItemsForSlideshowLoopThumbnails),d.a.isVerbose()&&console.log("creating thumbnails for idx",o);var a,l,h,c=this.props.styleParams.thumbnailSize,u=this.props.styleParams.thumbnailSize;switch(t){case"top":case"bottom":c=this.props.container.galleryWidth+this.props.styleParams.thumbnailSpacings,u=this.props.styleParams.thumbnailSize+this.props.styleParams.thumbnailSpacings,a=!0,l=Math.ceil(c/this.props.styleParams.thumbnailSize),h=Math.floor((c+this.props.styleParams.thumbnailSpacings)/(this.props.styleParams.thumbnailSize+2*this.props.styleParams.thumbnailSpacings));break;case"left":case"right":u=this.props.container.galleryHeight+2*this.props.styleParams.thumbnailSpacings,c=this.props.styleParams.thumbnailSize+2*this.props.styleParams.thumbnailSpacings,a=!1,l=Math.ceil(u/this.props.styleParams.thumbnailSize),h=Math.floor(u/(this.props.styleParams.thumbnailSize+2*this.props.styleParams.thumbnailSpacings))}this.firstItemIdx=o-Math.floor(l/2)-1,this.lastItemIdx=this.firstItemIdx+l,this.firstItemIdx<0&&(this.lastItemIdx-=this.firstItemIdx,this.firstItemIdx=0),this.lastItemIdx>i.length-1&&(this.firstItemIdx-=this.lastItemIdx-(i.length-1),this.firstItemIdx<0&&(this.firstItemIdx=0),this.lastItemIdx=i.length-1),(l=this.lastItemIdx-this.firstItemIdx+1)%2==0&&i.length>l&&this.lastItemIdx<i.length-1&&(l+=1,this.lastItemIdx+=1);var p,m=l*this.props.styleParams.thumbnailSize+(2*(l-1)+1)*this.props.styleParams.thumbnailSpacings,g={width:c,height:u};if(i.length<=h||o<l/2-1)switch(t){case"top":case"bottom":g.width=m+"px",g.left=0;break;case"left":case"right":g.height=m+"px",g.marginTop=0}else if(o>l/2-1&&o<i.length-l/2)switch(t){case"top":case"bottom":g.width=m+"px",g.left=(c-m)/2+"px";break;case"left":case"right":g.height=m+"px",g.marginTop=(u-m)/2+"px"}else if(o>=i.length-l/2)switch(t){case"top":case"bottom":g.left=c-m+"px",g.overflow="visible";break;case"left":case"right":g.top=u-m+"px",g.overflow="visible"}this.props.styleParams.isRTL&&(g.right=g.left,delete g.left);var y=this.props.styleParams.thumbnailSpacings;switch(this.props.styleParams.galleryThumbnailsAlignment){case"bottom":p=y+"px -"+y+"px 0 -"+y+"px";break;case"left":p="-"+y+"px "+y+"px -"+y+"px 0";break;case"top":p="0 -"+y+"px "+y+"px -"+y+"px";break;case"right":p="-"+y+"px 0 -"+y+"px "+y+"px"}var f,b=Math.floor(l/2);f=this.props.styleParams.slideshowLoop?i.slice(this.firstItemIdx,this.lastItemIdx+1):this.props.galleryStructure.galleryItems.slice(this.firstItemIdx,this.lastItemIdx+1);var I=this.props.styleParams.thumbnailSize;return s.a.createElement("div",{className:"pro-gallery inline-styles thumbnails-gallery "+(a?" one-row hide-scrollbars ":"")+(this.props.styleParams.isRTL?" rtl ":" ltr ")+(this.props.styleParams.isAccessible?" accessible ":""),style:{width:c,height:u,margin:p},"data-hook":"gallery-thumbnails"},s.a.createElement("div",{"data-hook":"gallery-thumbnails-column",className:"galleryColumn",key:"thumbnails-column",style:Object.assign(g,{width:c,height:u})},f.map((function(t,i){var l,h,c=e.props.styleParams.slideshowLoop?(h=t.itemId||t.photoId,e.props.galleryStructure.galleryItems.find((function(t){return t.id===h}))):t,u=e.props.styleParams.slideshowLoop?i===b:c.idx===o,p={width:I,height:I,margin:y,backgroundImage:"url("+c.createUrl(n.a.urlSizes.THUMBNAIL,n.a.urlTypes.HIGH_RES)+")"},m=a?((l={})[e.props.styleParams.isRTL?"right":"left"]=I*i+2*i*y,l):{top:I*i+2*i*y};return Object.assign(p,m),s.a.createElement("div",{key:"thumbnail-"+c.id+(Number.isInteger(t.loopIndex)?"-"+t.loopIndex:""),className:"thumbnailItem"+(u?" pro-gallery-thumbnails-highlighted gallery-item-container highlight"+(d.a.isMobile()?" pro-gallery-mobile-indicator":""):""),"data-key":c.id,style:p,onClick:function(){return e.scrollToThumbnail(c.idx)}},"text"===t.type?s.a.createElement(dt,Object(r.a)({},e.props,c.renderProps(),{actions:{},imageDimensions:p,style:Object(r.a)(Object(r.a)({},c.renderProps().style),p)})):null)}))))},e.prototype.getCenteredItemIdxByScroll=function(){var t,e=this.getScrollLeft(),i=this.props.galleryStructure.galleryItems,r=e+this.props.container.galleryWidth/2;if(0===r)t=0;else for(var o=void 0,s=0;o=i[s];s++)if(o.offset.left>r){t=s-1;break}return t>=0||(t=i.length-1),t},e.prototype.getCenteredGroupIdxByScroll=function(){var t,e=this.getScrollLeft(),i=this.props.galleryStructure.groups,r=e+this.props.container.galleryWidth/2;if(0===r)t=0;else for(var o=void 0,s=0;o=i[s];s++)if(o.left>r){t=s-1;break}return t>=0||(t=i.length-1),t},e.prototype.setCurrentItemByScroll=function(){var t=this;if(d.a.isVerbose()&&console.log("Setting current Idx by scroll",this.isAutoScrolling),this.isAutoScrolling)this.isAutoScrolling=!1;else{if(!("true"===(this.container&&this.container.getAttribute("data-scrolling")))){this.startAutoSlideshowIfNeeded(this.props.styleParams);var e=this.getCenteredItemIdxByScroll();return d.a.isUndefined(e)||d.a.setStateAndLog(this,"Set Current Item",{currentIdx:e},(function(){t.onCurrentItemChanged()})),e}this.stopAutoSlideshow()}},e.prototype.createDebugMsg=function(){return s.a.createElement(ct,Object(r.a)({},this.props.debug))},e.prototype.createNavArrows=function(){var t=this,e=this.props.styleParams,i=e.isRTL,o=e.oneRow,a=e.arrowsColor,l=e.isSlideshow,h=e.slideshowInfoSize,c=e.imageMargin,u=e.arrowsSize,p=e.arrowsPosition,m=e.showArrows,g=this.state,y=g.hideLeftArrow,f=g.hideRightArrow;if(!m||this.props.galleryStructure.columns.some((function(e){var i=(e.groups.filter((function(t){return t.rendered}))||[]).reduce((function(t,e){return t+Math.max(0,e.width)}),0);return o&&t.props.container.galleryWidth>=i})))return null;var b=this.props.styleParams.arrowsSize,I={transform:"scale("+b/23+")"},v={};d.a.isMobile()&&void 0!==a&&(v.fill=a.value);var S=(100-b)/2,O={padding:"0 "+S+"px 0 "+S+"px",top:"calc(50% - 50px + "+c/4+"px - "+(l?h:0)/2+"px)"},w=o&&p===n.a.arrowsPosition.OUTSIDE_GALLERY?"-"+(u+50+10)+"px":c/2+"px",E={left:w},C={right:w};return[y?null:s.a.createElement("button",{className:"nav-arrows-container prev "+(d.a.isMobile()?"pro-gallery-mobile-indicator ":""),onClick:function(){return t._next({direction:-1})},"aria-label":(i?"Next":"Previous")+" Item",tabIndex:d.a.getTabIndex("slideshowPrev"),key:"nav-arrow-back","data-hook":"nav-arrow-back",style:Object(r.a)(Object(r.a)({},O),E)},s.a.createElement("svg",{width:"23",height:"39",viewBox:"0 0 23 39",style:I},s.a.createElement("path",{className:"slideshow-arrow",style:v,d:"M154.994,259.522L153.477,261l-18.471-18,18.473-18,1.519,1.48L138.044,243Z",transform:"translate(-133 -225)"}))),f?null:s.a.createElement("button",{className:"nav-arrows-container next",onClick:function(){return t._next({direction:1})},"aria-label":(i?"Previous":"Next")+" Item",tabIndex:d.a.getTabIndex("slideshowNext"),key:"nav-arrow-next","data-hook":"nav-arrow-next",style:Object(r.a)(Object(r.a)({},O),C)},s.a.createElement("svg",{width:"23",height:"39",viewBox:"0 0 23 39",style:I},s.a.createElement("path",{className:"slideshow-arrow",style:v,d:"M857.005,231.479L858.5,230l18.124,18-18.127,18-1.49-1.48L873.638,248Z",transform:"translate(-855 -230)"})))]},e.prototype.createLayout=function(){var t=this,e=this.props,i=e.itemsLoveData,o=e.getVisibleItems,n=e.galleryStructure,a=e.container,l={scrollingElement:this.props.scrollingElement,totalItemsCount:this.props.totalItemsCount,scroll:this.props.scroll,styleParams:this.props.styleParams,container:this.props.container,watermark:this.props.watermark,settings:this.props.settings,currentIdx:this.state.currentIdx,customHoverRenderer:this.props.customHoverRenderer,customInfoRenderer:this.props.customInfoRenderer,customSlideshowInfoRenderer:this.props.customSlideshowInfoRenderer,noFollowForSEO:this.props.noFollowForSEO,domId:this.props.domId,gotFirstScrollEvent:this.props.gotFirstScrollEvent,playingVideoIdx:this.props.playingVideoIdx,nextVideoIdx:this.props.nextVideoIdx,isPrerenderMode:this.props.isPrerenderMode,totalWidth:this.props.galleryStructure.width,actions:{eventsListener:this.props.actions.eventsListener}};return n.columns.map((function(e,n){var h={width:t.props.isPrerenderMode?"100%":e.width,height:a.galleryHeight};return t.props.styleParams.isSlideshow&&Object.assign(h,{paddingBottom:t.props.styleParams.slideshowInfoSize}),s.a.createElement("div",{"data-hook":"gallery-column",id:"gallery-horizontal-scroll",className:"gallery-horizontal-scroll gallery-column hide-scrollbars "+(t.props.styleParams.isRTL?" rtl ":" ltr ")+" "+(t.props.styleParams.scrollSnap?" scroll-snap ":"")+" ",key:"column"+n,style:h},s.a.createElement("div",{className:"gallery-horizontal-scroll-inner"},function(e){var n=!!e.galleryGroups.length&&o(e.galleryGroups,a);return n&&n.map((function(e){return!!e.rendered&&s.a.createElement(Mt,Object(r.a)(Object(r.a)({allowLoop:t.props.styleParams.slideshowLoop&&t.props.galleryStructure.width>t.props.container.width,itemsLoveData:i},e.renderProps(l)),{ariaHidden:e.idx>t.skipFromSlide}))}))}(e)))}))},e.prototype.createGallery=function(){var t=this.props.styleParams.oneRow&&this.props.styleParams.arrowsPosition===n.a.arrowsPosition.OUTSIDE_GALLERY?{overflow:"visible",left:this.props.styleParams.arrowsSize+40+this.props.styleParams.imageMargin/2}:{},e=this.props.isPrerenderMode?{width:"100%",height:this.props.container.galleryHeight}:{height:this.props.container.galleryHeight,width:this.props.container.galleryWidth},i=Object(r.a)(Object(r.a)({},e),t);return this.props.styleParams.isSlideshow&&Object.assign(i,{paddingBottom:this.props.styleParams.slideshowInfoSize}),s.a.createElement("div",{id:"pro-gallery-container",className:"pro-gallery inline-styles one-row hide-scrollbars "+(this.props.styleParams.enableScroll?" slider ":"")+(this.props.styleParams.isAccessible?" accessible ":"")+(this.props.styleParams.isRTL?" rtl ":" ltr "),style:i},this.createDebugMsg(),this.createNavArrows(),this.createLayout(),this.createAutoSlideShowPlayButton(),this.createSlideShowNumbers())},e.prototype.onAutoSlideShowButtonClick=function(){var t=this,e=this.state.shouldStopAutoSlideShow;this.setState({shouldStopAutoSlideShow:!e},(function(){t.startAutoSlideshowIfNeeded(t.props.styleParams)}))},e.prototype.isFullWidthGallery=function(){return this.props.container.galleryWidth>=d.a.getWindowWidth()-10},e.prototype.onAutoSlideshowAutoPlayKeyPress=function(t){switch(t.keyCode||t.charCode){case 32:case 13:return t.preventDefault(),t.stopPropagation(),this.onAutoSlideShowButtonClick(),!1;default:return!0}},e.prototype.calcSlideshowCounterWidth=function(){var t=this.props.totalItemsCount;return t<10?26:t<100?43:t<1e3?60:76},e.prototype.createAutoSlideShowPlayButton=function(){var t=this;if(!this.shouldCreateSlideShowPlayButton)return!1;var e=this.props.styleParams,i=e.galleryTextAlign,o=e.slideshowInfoSize,n=this.props.styleParams.imageMargin/2+(this.isFullWidthGallery()?50:0),a="right"===i?{left:n/2+"px"}:{right:n/2+(this.shouldCreateSlideShowNumbers?this.calcSlideshowCounterWidth():0)+"px"};return s.a.createElement("button",{className:"auto-slideshow-button",onClick:function(){t.onAutoSlideShowButtonClick()},onKeyDown:this.onAutoSlideshowAutoPlayKeyPress,"data-hook":"auto-slideshow-button",title:"slideshow auto play","aria-pressed":this.state.shouldStopAutoSlideShow,tabIndex:0,style:Object(r.a)({top:"calc(100% - "+o+"px + 3px)"},a)},this.state.shouldStopAutoSlideShow?s.a.createElement(Dt,{width:"10px",height:"100%"}):s.a.createElement(kt,{width:"10px",height:"100%"}))},e.prototype.createSlideShowNumbers=function(){if(!this.shouldCreateSlideShowNumbers)return!1;var t=this.props,e=t.totalItemsCount,i=t.styleParams,o=i.galleryTextAlign,n=i.slideshowInfoSize,a=this.props.styleParams.imageMargin/2+(this.isFullWidthGallery()?50:0),l=this.shouldCreateSlideShowPlayButton?a/2+25:a/2,h="right"===o?{left:l+"px"}:{right:a/2+"px"};return s.a.createElement("div",{className:"auto-slideshow-counter","data-hook":"auto-slideshow-counter",style:Object(r.a)({top:"calc(100% - "+n+"px + 3px)"},h)},s.a.createElement("div",null,this.state.currentIdx%e+1+"/"+e))},e.prototype.getThumbnails=function(){var t=this.props.styleParams.hasThumbnails,e=this.props.styleParams.galleryThumbnailsAlignment,i=!!t&&this.createThumbnails(e),r=[];switch(e){case"top":case"left":r[0]=i,r[1]=!1;break;case"right":case"bottom":r[0]=!1,r[1]=i}return r},e.prototype.getClassNames=function(){var t="pro-gallery-parent-container";return this.props.styleParams.isSlideshow?t+=" gallery-slideshow":this.props.styleParams.isSlider?t+=" gallery-slider":this.props.styleParams.hasThumbnails?t+=" gallery-thumbnails":this.props.styleParams.isColumns&&(t+=" gallery-columns"),this.isFullWidthGallery()&&(t+=" streched"),t},e.prototype.getStyles=function(){return{margin:-1*(this.props.styleParams.imageMargin/2-this.props.styleParams.galleryMargin)}},e.prototype.getScrollLeft=function(){return this.container?(this.props.styleParams.isRTL?-1:1)*this.container.scrollLeft:0},e.prototype.UNSAFE_componentWillReceiveProps=function(t){var e=this;t.items&&(this.ItemsForSlideshowLoopThumbnails=!1),this.props.isInDisplay!==t.isInDisplay&&this.setState({isInView:t.isInDisplay},(function(){return e.startAutoSlideshowIfNeeded(t.styleParams)})),(Object(Y.a)()||Object(Y.c)())&&(this.props.styleParams.isAutoSlideshow===t.styleParams.isAutoSlideshow&&this.props.styleParams.autoSlideshowInterval===t.styleParams.autoSlideshowInterval||this.startAutoSlideshowIfNeeded(t.styleParams));var i=5===t.styleParams.galleryLayout&&t.styleParams.isSlideshow&&t.styleParams.isAutoSlideshow;this.shouldCreateSlideShowPlayButton=i&&t.styleParams.playButtonForAutoSlideShow,this.shouldCreateSlideShowNumbers=i&&t.styleParams.allowSlideshowCounter},e.prototype.removeArrowsIfNeeded=function(){var t=this;setTimeout((function(){var e=t.props.styleParams.isRTL,i=t.state,r=i.hideLeftArrow,o=i.hideRightArrow,s=t.isScrollStart(),n=t.isFirstItem(),a=t.isScrollEnd(),l=t.isLastItem(),h=s||n,c=a||l,u=!e&&h||e&&c,d=e&&h||!e&&c;(!!u!=!!r||!!d!=!!o)&&t.setState({hideLeftArrow:!!u,hideRightArrow:!!d})}),50)},e.prototype.navigationOutHandler=function(){d.a.setStateAndLog(this,"Next Item",{isInView:!1}),this.stopAutoSlideshow()},e.prototype.navigationInHandler=function(){d.a.setStateAndLog(this,"Next Item",{isInView:!0}),this.startAutoSlideshowIfNeeded(this.props.styleParams)},e.prototype.componentDidMount=function(){p.a.addEventListener("gallery_navigation_out",this.navigationOutHandler),p.a.addEventListener("gallery_navigation_in",this.navigationInHandler),this.container=p.a.document.querySelector("#pro-gallery-"+this.props.domId+" #gallery-horizontal-scroll"),this.container&&this.container.addEventListener("scroll",this._setCurrentItemByScroll),this.state.currentIdx>0?(this.props.actions.scrollToItem(this.state.currentIdx),this.onCurrentItemChanged()):this.setCurrentItemByScroll(),this.startAutoSlideshowIfNeeded(this.props.styleParams)},e.prototype.componentWillUnmount=function(){p.a.removeEventListener("gallery_navigation_out",this.navigationOutHandler),p.a.removeEventListener("gallery_navigation_in",this.navigationInHandler),this.container&&this.container.removeEventListener("scroll",this._setCurrentItemByScroll)},e.prototype.render=function(){d.a.isVerbose()&&(console.count("galleryView render"),console.count("Rendering Gallery count"),console.time("Rendering Gallery took "));var t=this.createGallery(),e=this.getThumbnails();return d.a.isVerbose()&&console.timeEnd("Rendering Gallery took "),s.a.createElement("div",{className:this.getClassNames(),style:this.getStyles(),onKeyDown:this.handleSlideshowKeyPress,role:"region","aria-label":this.props.proGalleryRegionLabel},e[0],t,e[1])},e}(ht.a),_t={galleryType:void 0,groupSize:void 0,showArrows:void 0,cubeImages:void 0,cubeType:void 0,cubeRatio:void 0,isVertical:void 0,gallerySize:void 0,collageAmount:void 0,collageDensity:void 0,groupTypes:void 0,oneRow:void 0,imageMargin:void 0,galleryMargin:void 0,scatter:void 0,chooseBestGroup:void 0,smartCrop:void 0,hasThumbnails:void 0,enableScroll:void 0,isGrid:void 0,isSlider:void 0,isColumns:void 0,isSlideshow:void 0,cropOnlyFill:void 0,fixedColumns:void 0,enableInfiniteScroll:void 0};var Ht=function(t,e){var i=t.galleryType,r=t.galleryLayout;if(!d.a.isUndefined(i)&&d.a.isUndefined(r)){(t=Object.assign(t,function(t){var e,i=t.galleryType,r=t.gallerySize,o=function(){return{cubeImages:!1,isVertical:!0,galleryType:"Columns",groupSize:3,groupTypes:"1,2h,2v,3t,3b,3l,3r",targetItemSize:Math.round(5*r+500),fixedColumns:0}},s=function(){return{cubeImages:!1,isVertical:!1,galleryType:"Strips",groupSize:3,groupTypes:"1,2h,2v,3t,3b,3l,3r",targetItemSize:Math.round(5*r+500),fixedColumns:0}},n=function(){return{cubeImages:!0,isVertical:!0,galleryType:"Columns",groupSize:1,groupTypes:"1",targetItemSize:Math.round(8.5*r+150),fixedColumns:0,isGrid:!0}},a=function(){return{cubeImages:!1,isVertical:!0,galleryType:"Columns",groupSize:1,groupTypes:"1",targetItemSize:Math.round(8*r+200),fixedColumns:0}},h=function(){return{cubeImages:!1,isVertical:!1,galleryType:"Strips",groupSize:1,groupTypes:"1",targetItemSize:Math.round(5*r+200),fixedColumns:0}},c=function(){return{cubeImages:!1,isVertical:!0,galleryType:"Columns",groupSize:1,groupTypes:"1",targetItemSize:function(){return l.a.getGalleryWidth()},fixedColumns:1}},u=function(){return{cubeImages:!1,isVertical:!1,galleryType:"Strips",groupSize:1,groupTypes:"1",targetItemSize:function(){return l.a.getGalleryHeight()},fixedColumns:0}},d=function(){return{showArrows:!0,cubeImages:!0,cubeRatio:function(){return l.a.getGalleryRatio()},isVertical:!0,targetItemSize:function(){return l.a.getGalleryWidth()},galleryType:"Columns",groupSize:1,groupTypes:"1",fixedColumns:1}};switch(i){case"-1":e={};break;case"0":e=o();break;default:case"1":e=s();break;case"2":e=n();break;case"3":e=a();break;case"4":e=h();break;case"5":e=c();break;case"6":e=u();break;case"7":e=d()}return e}(t))).layoutsVersion=1;var o=["galleryType","galleryThumbnailsAlignment","magicLayoutSeed","cubeType","isVertical","scrollDirection","enableInfiniteScroll"];t.selectedLayout=o.map((function(e){return String(t[e])})).join("|")}else{d.a.isVerbose()&&console.log("Using galleryLayout for defaults",t);o=["galleryLayout","galleryThumbnailsAlignment","magicLayoutSeed","cubeType","isVertical","scrollDirection","enableInfiniteScroll"];(t=Object.assign({},_t,t)).selectedLayout=o.map((function(e){return String(t[e])})).join("|"),t.layoutsVersion=2,t.selectedLayoutV2=r,d.a.isVerbose()&&console.log("new selected layout",t.selectedLayout)}return t=Object.assign(t,w(t,e))},Gt=i(463),Ft=function(t){function e(e){var i=t.call(this)||this;return i.state={scrollTop:0,scrollLeft:0},i.debouncedOnScroll=d.a.debounce(e.onScroll,50),i}return Object(r.c)(e,t),e.prototype.removeScrollListener=function(){if(this.scrollEventListenerSet){var t=this.props.scrollingElement;try{t.vertical().removeEventListener("scroll",this.onVerticalScroll)}catch(e){}try{this.props.oneRow&&t.horizontal().removeEventListener("scroll",this.onHorizontalScroll)}catch(e){}this.scrollEventListenerSet=!1}},e.prototype.initScrollListener=function(){var t=this;this.scrollEventListenerSet&&this.removeScrollListener(),this.scrollEventListenerSet=!0;var e=this.props.oneRow,i=this.props.scrollingElement;this.onHorizontalScroll=function(i){t.props.setGotFirstScrollIfNeeded();var r=i.currentTarget||i.target||i,o=r&&(r.scrollY||r.scrollTop||r.y),s=r&&(r.scrollX||r.scrollLeft||r.x);t.props.isRTL&&(s=Math.abs(s)),s>=0&&e&&(t.setState({scrollTop:s,scrollLeft:s}),t.props.getMoreItemsIfNeeded(s),t.debouncedOnScroll({top:o,left:s}))};try{i.horizontal().addEventListener("scroll",this.onHorizontalScroll)}catch(r){}this.onVerticalScroll=function(i){t.props.setGotFirstScrollIfNeeded();var r=i.currentTarget||i.target||i,o=r&&(r.scrollY||r.scrollTop||r.y),s=r&&(r.scrollX||r.scrollLeft||r.x);t.props.isRTL&&(s=t.props.totalWidth-s),o>=0&&(e||(t.setState({scrollTop:o}),t.props.getMoreItemsIfNeeded(o),t.debouncedOnScroll({top:o,left:s})))};try{i.vertical().addEventListener("scroll",this.onVerticalScroll)}catch(r){}},e.prototype.componentWillUnmount=function(){this.removeScrollListener()},e.prototype.componentDidMount=function(){this.initScrollListener()},e.prototype.UNSAFE_componentWillReceiveProps=function(t){for(var e=!1,i=0,r=["domId","oneRow","isRTL","totalWidth","scrollBase"];i<r.length;i++){var o=r[i];if(t[o]!==this.props[o]){e=!0;break}}e&&this.initScrollListener()},e.prototype.render=function(){var t=!this.props.oneRow&&this.props.scrollBase>0?this.props.scrollBase:0,e=this.state.scrollTop-t,i=this.props.domId;return s.a.createElement("div",{key:"css-scroll-indicator","data-hook":"css-scroll-indicator","data-scroll-base":t,"data-scroll-top":this.state.scrollTop,className:mt.calcScrollClasses(i,e),style:{display:"none"}})},e}(ht.a),Bt=function(t,e,i){void 0===t&&(t="");var r=i.isRTL,o="";return e.forEach((function(e){var i=function(t,e){return"#pro-gallery-"+t+" #"+mt.getSellectorDomId(e)}(t,e),s=function(t){return{top:t.offset.top,left:t.offset.left,width:t.width+t.infoWidth,height:t.height+t.infoHeight,innerHeight:t.height}}(e),n="top:"+s.top+"px;",a=r?"right:"+s.left+"px;left:auto;":"left:"+s.left+"px;",l="width:"+s.width+"px;",h="height:"+s.height+"px;";o+=i+" {"+n+a+l+h+"}"})),o},zt=function(t){var e=t.galleryItems,i=t.layoutParams,r=t.domId,o=[];return o.push(Bt(r,e,i.styleParams)),o},Wt=function(){function t(t){this.setPlayingIdxState=t,this.handleEvent=function(){},this.trigger={SCROLL:function(){},INIT_SCROLL:function(){}},this.stop=function(){},this.initializePlayState=function(){}}return t.prototype.initVideoScrollHelperIfNeeded=function(t,e){var r=this;if(e.some((function(t){return t.metaData&&"video"===t.metaData.type||t.metadata&&"video"===t.metadata.type}))){var o={setPlayingVideos:Object(Y.a)()?function(){}:this.setPlayingIdxState};i.e(56).then(i.bind(null,951)).then((function(e){Object.assign(r,new e.default(o)),r.updateGalleryStructure(t),r.initializePlayState()})).catch((function(t){console.error("Failed to load videoScrollHelper. error: "+t)}))}},t.prototype.updateGalleryStructure=function(t,e,i){e&&this.initVideoScrollHelperIfNeeded(t,i)},t}(),Vt=function(t){return t.layoutFixerBundleUrl?s.a.createElement("div",{id:"layout-fixer-"+t.domId,key:"layout-fixer-"+t.domId,style:{display:"none"}},s.a.createElement("style",{id:"layout-fixer-style-"+t.domId}),t.isPrerenderMode?s.a.createElement(s.a.Fragment,null,"preload"===t.layoutFixerScriptType&&s.a.createElement("link",{rel:"preload",href:t.layoutFixerBundleUrl,as:"script"}),s.a.createElement("script",{dangerouslySetInnerHTML:{__html:'console.log("[LAYOUT FIXER] Start (first script loaded)")'}}),"async"===t.layoutFixerScriptType||"preload"===t.layoutFixerScriptType&&s.a.createElement("script",{async:!0,type:"module",src:t.layoutFixerBundleUrl}),"defer"===t.layoutFixerScriptType&&s.a.createElement("script",{defer:!0,src:t.layoutFixerBundleUrl}),"async"!==t.layoutFixerScriptType&&"defer"!==t.layoutFixerScriptType&&"preload"!==t.layoutFixerScriptType&&s.a.createElement("script",{src:t.layoutFixerBundleUrl}),s.a.createElement("layout-fixer",{domId:t.domId,items:JSON.stringify(t.items),styles:JSON.stringify(t.styles)})):null):null},Ut=function(t){function e(e){var i=t.call(this,e)||this;d.a.isVerbose()&&console.count("[OOISSR] galleryContainerNew constructor",p.a.isMock),i.getMoreItemsIfNeeded=i.getMoreItemsIfNeeded.bind(i),i.setGotFirstScrollIfNeeded=i.setGotFirstScrollIfNeeded.bind(i),i.toggleLoadMoreItems=i.toggleLoadMoreItems.bind(i),i.scrollToItem=i.scrollToItem.bind(i),i.scrollToGroup=i.scrollToGroup.bind(i),i._scrollingElement=i.getScrollingElement(),i.duplicateGalleryItems=i.duplicateGalleryItems.bind(i),i.eventsListener=i.eventsListener.bind(i),i.onGalleryScroll=i.onGalleryScroll.bind(i),i.setPlayingIdxState=i.setPlayingIdxState.bind(i),i.getVisibleItems=i.getVisibleItems.bind(i);var o={pgScroll:0,showMoreClickedAtLeastOnce:!1,initialGalleryHeight:void 0,needToHandleShowMoreClick:!1,gotFirstScrollEvent:!1,playingVideoIdx:-1,nextVideoIdx:-1,viewComponent:null};if(i.state=o,i.videoScrollHelper=new Wt(i.setPlayingIdxState),i.items=[],i.itemsDimensions={},i.preloadedItems={},i.layoutCss=[],d.a.isSSR()){i.initialGalleryState=i.reCreateGalleryExpensively(e,o);try{i.galleryInitialStateJson=JSON.stringify(i.initialGalleryState)}catch(a){i.galleryInitialStateJson=null}}else try{if(d.a.shouldDebug("no_hydrate"))i.initialGalleryState={};else{var s=JSON.parse(p.a.document.querySelector("#pro-gallery-"+e.domId+" #ssr-state-to-hydrate").innerHTML);i.reCreateGalleryFromState({items:e.items,styles:s.styles,container:s.container,gotFirstScrollEvent:o.gotFirstScrollEvent}),i.initialGalleryState=s}}catch(a){i.initialGalleryState={};var n=i.reCreateGalleryExpensively(e);Object.keys(n).length>0&&(i.initialGalleryState=n)}return i.state=Object(r.a)(Object(r.a)({},o),i.initialGalleryState),i}return Object(r.c)(e,t),e.prototype.getVisibleItems=function(t,e){var i=this.state.gotFirstScrollEvent,r=p.a.scrollY,o=e.galleryHeight,s=e.scrollBase,n=e.galleryWidth;if(Object(Y.d)()||Object(Y.a)()||Object(Y.c)()||d.a.isSSR()||i||r>0||this.props.currentIdx>0)return t;var a=t;try{var l=p.a.innerHeight,h=this.isVerticalGallery()&&"vertical"===this.containerInfiniteGrowthDirection()?1/0:s+o,c=r+l,u=Math.min(h,c)-s;(a=u<0?[]:this.isVerticalGallery()?t.filter((function(t){return t.offset.top<=u})):t.filter((function(t){return t.left<=n+20}))).length<2&&a.length<t.length&&(a=t.slice(0,2))}catch(m){console.error("Could not calculate visible items, returning original items",m),a=t}return a},e.prototype.componentDidMount=function(){this.loadItemsDimensionsIfNeeded(),this.scrollToItem(this.props.currentIdx,!1,!0,0),this.handleNewGalleryStructure(),this.eventsListener(n.a.events.APP_LOADED,{}),this.getMoreItemsIfNeeded(0),this.videoScrollHelper.initializePlayState();try{"function"==typeof p.a.CustomEvent?this.currentHoverChangeEvent=new CustomEvent("current_hover_change"):(this.currentHoverChangeEvent=p.a.document.createEvent("CustomEvent"),this.currentHoverChangeEvent.initCustomEvent("current_hover_change",!1,!1,null))}catch(t){console.error("could not create 'current_hover_change' customEvent. Error =",t)}this.props.domId&&(this.currentHoverChangeEvent.domId=this.props.domId)},e.prototype.UNSAFE_componentWillReceiveProps=function(t){var e=this;!this.currentHoverChangeEvent.domId&&t.domId&&(this.currentHoverChangeEvent.domId=t.domId),this.props.currentIdx!==t.currentIdx&&this.scrollToItem(t.currentIdx,!1,!0,0);var i=function(t){return{domId:t.domId,styles:t.styles,container:t.container,items:t.items,watermark:t.watermark}};this.reCreateGalleryTimer&&clearTimeout(this.reCreateGalleryTimer);var r,o=!0;try{var s=i(this.props),n=i(t);o=JSON.stringify(s)!==JSON.stringify(n),d.a.isVerbose()&&o&&console.log("New props arrived",d.a.printableObjectsDiff(s,n))}catch(a){console.error("Cannot compare props",a)}o&&(r=e.reCreateGalleryExpensively(t),Object.keys(r).length>0&&e.setState(r,(function(){e.handleNewGalleryStructure()})),t.currentIdx&&t.currentIdx>0&&this.scrollToItem(t.currentIdx,!1,!0,0),this.props.isInDisplay!==t.isInDisplay&&this.handleNavigation(t.isInDisplay))},e.prototype.loadItemsDimensionsIfNeeded=function(){var t=this;if(!d.a.isSSR()&&this.galleryStructure&&this.galleryStructure.galleryItems&&this.galleryStructure.galleryItems.length>0){var e=this.galleryStructure.galleryItems.filter((function(t){try{return t.isVisible&&t.isDimensionless&&!t.isPreloaded}catch(e){return!1}}));if(e.length){var i=d.a.debounce((function(){var e=t.props,i={items:e.items,styles:e.styles,container:e.container,watermark:e.watermark,resizeMediaUrl:e.resizeMediaUrl,itemsDimensions:t.itemsDimensions},r=t.reCreateGalleryExpensively(i,t.state);Object.keys(r).length>0&&t.setState(r,(function(){t.handleNewGalleryStructure()}))}),500);e.forEach((function(e,r){e.isPreloaded=!0,function(e,i){if(e&&e.itemId&&e.isGalleryItem)try{var r=e.itemId;if(t.itemsDimensions[r])return;if(void 0!==t.preloadedItems[r])return;t.preloadedItems[r]=new Image,d.a.isVerbose()&&console.log("Preloading item #"+e),"string"==typeof e.preload_url?t.preloadedItems[r].src=e.preload_url:t.preloadedItems[r].src=e.createUrl(n.a.urlSizes.PRELOAD,n.a.urlTypes.LOW_RES),"function"==typeof i&&(t.preloadedItems[r].onload=function(t){i(t)}),t.preloadedItems[r]}catch(o){return void console.error("Could not preload item",e,o)}}(e,(function(o){try{d.a.isVerbose()&&console.log("item loaded event",r,o);var s=o.srcElement,n=t.items.find((function(t){return t.itemId===e.itemId}));if(n){var a={width:s.width,height:s.height,measured:!0};Object.assign(n,a),"object"==typeof n.metaData&&Object.assign(n.metaData,a),t.itemsDimensions[n.itemId]=a,i()}}catch(l){console.error("Could not calc element dimensions",l)}}))}))}}},e.prototype.handleNavigation=function(t){t?this.videoScrollHelper.trigger.INIT_SCROLL():this.videoScrollHelper.stop()},e.prototype.handleNewGalleryStructure=function(){var t=this.state,e=t.container,i=t.needToHandleShowMoreClick,r=t.initialGalleryHeight,o=this.state.styles,s=this.items.length,a=this.layout.height,l=this.layout.items,h="vertical"===this.containerInfiniteGrowthDirection(),c=!1;if(!h&&i){c=e.height+(r-138)}var u={numOfItems:s,container:e,styleParams:o,layoutHeight:a,layoutItems:l,isInfinite:h,updatedHeight:c};this.eventsListener(n.a.events.GALLERY_CHANGE,u),i&&this.setState({needToHandleShowMoreClick:!1})},e.prototype.reCreateGalleryFromState=function(t){var e=t.items,i=t.styles,r=t.container;this.items=e.map((function(t){return lt.convertDtoToLayoutItem(t)}));var o={items:this.items,container:r,styleParams:i,gotScrollEvent:!0,options:{showAllItems:!0,skipVisibilitiesCalc:!0,useLayoutStore:!1,createLayoutOnInit:!1}};this.layouter=new rt(o),this.layout=this.layouter.createLayout(o),this.galleryStructure=lt.convertToGalleryItems(this.layout,{thumbnailSize:i.thumbnailSize,sharpParams:i.sharpParams,resizeMediaUrl:this.props.resizeMediaUrl}),this.videoScrollHelper.updateGalleryStructure({galleryStructure:this.galleryStructure,scrollBase:r.scrollBase,videoPlay:i.videoPlay,videoLoop:i.videoLoop,itemClick:i.itemClick,oneRow:i.oneRow},!0,this.items),!Object(Y.d)()&&(Object(Y.a)()||this.state.gotFirstScrollEvent||this.state.showMoreClickedAtLeastOnce)&&this.getScrollCss({domId:this.props.domId,items:this.galleryStructure.galleryItems,styleParams:i}),this.createCssLayoutsIfNeeded(o),this.createDynamicStyles(i)},e.prototype.createCssLayoutsIfNeeded=function(t){var e=this.props.settings;(void 0===e?{}:e).avoidInlineStyles&&(this.layoutCss=zt({layoutParams:t,isMobile:d.a.isMobile(),domId:this.props.domId,galleryItems:this.galleryStructure.galleryItems}))},e.prototype.reCreateGalleryExpensively=function(t,e){var i=this,o=t.items,s=t.styles,n=t.container,a=t.watermark,h=t.itemsDimensions,c=t.customInfoRenderer,u=t.resizeMediaUrl;d.a.isVerbose()&&(console.count("PROGALLERY [COUNT] reCreateGalleryExpensively"),console.time("PROGALLERY [TIME] reCreateGalleryExpensively"));var p,m,g=e||this.state||{},y=!!c,f=s&&Ht(s,y),b=function(t,e){var i,r,o=t.items,s=t.styles,n=t.container,a=t.watermark,l=t.itemsDimensions,h={items:"",itemsMetadata:"",itemsAdded:"",styles:"",container:""},c={items:(i=o,r=e.items,i===e.items?(h.items="items are the same object.",!1):i?!r||r&&0===r.length?(h.items="old items do not exist.",!0):r.length!==i.length?(h.items="more new items than old items (or vice versa).",!0):i.reduce((function(t,e,i){var o=r[i];try{var s=t||!e||!o||e.itemId!==o.itemId||e.mediaUrl!==o.mediaUrl||e.metaData&&o.metaData&&e.metaData.type!==o.metaData.type;return s&&(h.items="items #"+i+" id was changed."),s}catch(n){return h.items="an error occured",!0}}),!1):(h.items="new items do not exist.",!1)),addedItems:function(t){var i=e.items;if(t===e.items)return h.itemsAdded="items are the same object.",!1;if(!t)return h.itemsAdded="new items do not exist.",!1;if(!i||i&&0===i.length)return h.itemsAdded="old items do not exist.",!1;if(i.length>=t.length)return h.itemsAdded="more old items than new items.",!1;var r=i.reduce((function(e,i,r){return e&&i.id===t[r].itemId}),!0);return r||(h.itemsAdded="items ids were changed. "),r}(o),itemsMetadata:function(t){var i=e.items;return t?e.items&&i?t.reduce((function(t,e,r){var o=i[r];try{var s=t||JSON.stringify(e.metaData)!==JSON.stringify(o.metaData);return s&&(h.itemsMetadata="item #"+r+" data was changed."),s}catch(n){return h.itemsMetadata="an error occured.",!0}}),!1):(h.itemsMetadata="old items do not exist.",!0):(h.itemsMetadata="new items do not exist.",!1)}(o),styles:function(t){if(!t)return h.styles="no new styles.",!1;if(!e.styles)return h.styles="no old styles.",!0;try{var i=JSON.stringify(Object.entries(t).sort())!==JSON.stringify(Object.entries(e.styles).sort());return i&&(h.styles="styles were changed."),i}catch(r){return console.error("Could not compare styles",r),!1}}(s),watermark:function(t){var i=e.container;if(t){if(!i)return h.watermark="first watermark arrived",!0;try{var r=JSON.stringify(Object.entries(i).sort())!==JSON.stringify(Object.entries(t).sort());return r&&(h.watermark="watermark changed."),r}catch(o){return console.error("Could not compare watermarks",o),!1}}return!1}(a),container:function(t){if(!e.styles||!e.container)return h.container="no old container or styles. ",!0;if(!t)return h.container="no new container.",!1;var i={height:!(!e.styles.oneRow&&e.styles.enableInfiniteScroll||!t.height||t.height===e.container.height),width:!e.container||!!t.width&&t.width!==e.container.width,scrollBase:!!t.scrollBase&&t.scrollBase!==e.container.scrollBase};return Object.keys(i).reduce((function(t,e){return i[e]&&(h.container+="container."+e+" has changed. "),t||i[e]}),!1)}(n),itemsDimensions:!!l};return c.str=Object.entries(c).map((function(t){var e=t[0];return t[1]?e:""})).filter((function(t){return!!t})).join("|"),c.any=c.str.length>0,c.reason=h,c}({items:o,styles:f,container:n,watermark:a,itemsDimensions:h},Object(r.a)(Object(r.a)({},g),{items:this.items})),I={};if(d.a.isVerbose()&&console.log("PROGALLERY reCreateGalleryExpensively",b,{items:o,styles:s,container:n,watermark:a}),!b.itemsDimensions&&!b.itemsMetadata||b.items||b.addedItems?b.items&&!b.addedItems?(this.items=o.map((function(t){return Object.assign(lt.convertDtoToLayoutItem(t),Object(r.a)({},i.itemsDimensions[t.itemId]))})),I.items=this.items.map((function(t){return t.itemId})),this.gettingMoreItems=!1):b.addedItems&&(this.items=this.items.concat(o.slice(this.items.length).map((function(t){return lt.convertDtoToLayoutItem(t)}))),I.items=this.items.map((function(t){return t.itemId})),this.gettingMoreItems=!1):(this.items=this.items.map((function(t,e){var s=Object.assign({},o[e].metaData);return Object.assign(t,{metaData:s},Object(r.a)({},i.itemsDimensions[t.itemId]))})),I.items=this.items.map((function(t){return t.itemId}))),b.styles||b.container?(s=s||g.styles,n=n||g.container,l.a.updateParams({styles:s,container:n,domId:this.props.domId}),p=Ht(s,y),l.a.updateParams({styles:p}),m=Object.assign({},n,l.a.getGalleryDimensions()),l.a.updateParams({container:m}),I.styles=p,I.container=m):(p=g.styles,m=g.container),!this.galleryStructure||b.any){d.a.isVerbose()&&console.count("PROGALLERY [COUNT] - reCreateGalleryExpensively (isNew)");var v={items:this.items,container:m,styleParams:p,gotScrollEvent:!0,options:{showAllItems:!0,skipVisibilitiesCalc:!0,useLayoutStore:!1}};this.layouter&&b.addedItems?v.options.useExistingLayout=!0:(v.options.createLayoutOnInit=!1,this.layouter=new rt(v)),this.layout=this.layouter.createLayout(v);var S={watermark:a,sharpParams:p.sharpParams,thumbnailSize:s.thumbnailSize,resizeMediaUrl:u,lastVisibleItemIdx:this.lastVisibleItemIdx},O=this.galleryStructure||this.layout;b.addedItems?this.galleryStructure=lt.convertExistingStructureToGalleryItems(O,this.layout,S):this.galleryStructure=lt.convertToGalleryItems(this.layout,S,O.galleryItems);var w={galleryStructure:this.galleryStructure,scrollBase:m.scrollBase,videoPlay:p.videoPlay,itemClick:p.itemClick,oneRow:p.oneRow,cb:this.setPlayingIdxState};this.videoScrollHelper.updateGalleryStructure(w,!d.a.isSSR()&&(b.addedItems||b.items),this.items),b.items&&this.loadItemsDimensionsIfNeeded(),this.createCssLayoutsIfNeeded(v),this.createDynamicStyles(p),!Object(Y.d)()&&(Object(Y.a)()||this.state.gotFirstScrollEvent||this.state.showMoreClickedAtLeastOnce)&&this.getScrollCss({domId:this.props.domId,items:this.galleryStructure.galleryItems,styleParams:p})}return d.a.isVerbose()&&(console.log("PROGALLERY [RENDERS] - reCreateGalleryExpensively",{isNew:b},{items:o,styles:s,container:n,watermark:a}),console.timeEnd("PROGALLERY [TIME] reCreateGalleryExpensively")),b.any?I:{}},e.prototype.getScrollingElement=function(){var t=this;return{vertical:this.props.scrollingElement?"function"==typeof this.props.scrollingElement?this.props.scrollingElement:function(){return t.props.scrollingElement}:function(){return p.a},horizontal:function(){return p.a.document.querySelector("#pro-gallery-"+t.props.domId+" #gallery-horizontal-scroll")}}},e.prototype.scrollToItem=function(t,e,i,r,o){if(void 0===r&&(r=0),t>=0){var s=this._scrollingElement,n=s.horizontal();try{var a={scrollMarginCorrection:o,isRTL:this.state.styles.isRTL,oneRow:this.state.styles.oneRow,galleryWidth:this.state.container.galleryWidth,galleryHeight:this.state.container.galleryHeight,top:0,items:this.galleryStructure.items,totalWidth:this.galleryStructure.width,itemIdx:t,fixedScroll:e,isManual:i,scrollingElement:s,horizontalElement:n,durationInMS:r};return Object(Gt.d)(a)}catch(l){console.error("error:",l," pro-gallery, scrollToItem, cannot get scrollParams, ","isEditMode =",Object(Y.a)()," isPreviewMode =",Object(Y.c)()," isSiteMode =",Object(Y.e)()," this.state.styles =",this.state.styles," this.state.container =",this.state.container," this.galleryStructure =",this.galleryStructure)}}},e.prototype.scrollToGroup=function(t,e,i,r,o){if(void 0===r&&(r=0),t>=0){var s=this._scrollingElement,n=s.horizontal();try{var a={scrollMarginCorrection:o,isRTL:this.state.styles.isRTL,oneRow:this.state.styles.oneRow,galleryWidth:this.state.container.galleryWidth,galleryHeight:this.state.container.galleryHeight,top:0,groups:this.galleryStructure.groups,totalWidth:this.galleryStructure.width,groupIdx:t,fixedScroll:e,isManual:i,scrollingElement:s,horizontalElement:n,durationInMS:r};return Object(Gt.c)(a)}catch(l){console.error("error:",l," pro-gallery, scrollToGroup, cannot get scrollParams, ","isEditMode =",Object(Y.a)()," isPreviewMode =",Object(Y.c)()," isSiteMode =",Object(Y.e)()," this.state.styles =",this.state.styles," this.state.container =",this.state.container," this.galleryStructure =",this.galleryStructure)}}},e.prototype.containerInfiniteGrowthDirection=function(t){void 0===t&&(t=!1);var e=t||this.state.styles,i=this.props.styles.enableInfiniteScroll,r=this.state.showMoreClickedAtLeastOnce,o=e.oneRow,s=e.loadMoreAmount;return o?"horizontal":i||r&&"all"===s?"vertical":"none"},e.prototype.setPlayingIdxState=function(t,e){this.setState({playingVideoIdx:t,nextVideoIdx:e})},e.prototype.onGalleryScroll=function(t){var e=t.top,i=t.left;this.videoScrollHelper.trigger.SCROLL({top:e,left:i})},e.prototype.getScrollCss=function(t){var e=t.domId,i=t.items,r=t.styleParams;this.scrollCss=mt.calcScrollCss({items:i,styleParams:r,domId:e})},e.prototype.createDynamicStyles=function(t){var e=t.overlayBackground,i=this.props.isPrerenderMode&&!this.props.settings.disableSSROpacity;this.dynamicStyles=("\n      "+(i?"#pro-gallery-"+this.props.domId+" .gallery-item-container { opacity: 0 }":"")+"\n      "+(e?"#pro-gallery-"+this.props.domId+" .gallery-item-hover::before { background-color: "+e+" !important}":"")+"\n    ").trim()},e.prototype.toggleLoadMoreItems=function(){var t=this;this.eventsListener(n.a.events.LOAD_MORE_CLICKED,this.galleryStructure.galleryItems);if(this.state.showMoreClickedAtLeastOnce)this.setState({needToHandleShowMoreClick:true},(function(){t.handleNewGalleryStructure()}));else{this.getScrollCss({domId:this.props.domId,items:this.galleryStructure.galleryItems,styleParams:this.state.styles});var e=this.state.container.height;this.setState({showMoreClickedAtLeastOnce:!0,initialGalleryHeight:e,needToHandleShowMoreClick:true},(function(){t.handleNewGalleryStructure()}))}},e.prototype.setGotFirstScrollIfNeeded=function(){this.state.gotFirstScrollEvent||(this.getScrollCss({domId:this.props.domId,items:this.galleryStructure.galleryItems,styleParams:this.state.styles}),this.setState({gotFirstScrollEvent:!0}))},e.prototype.duplicateGalleryItems=function(){var t,e=this;this.itemsToDuplicate||(this.itemsToDuplicate=this.items);var i=(t=this.items).concat.apply(t,this.itemsToDuplicate.slice(0,this.props.totalItemsCount)),o=this.reCreateGalleryExpensively(Object(r.a)(Object(r.a)({},this.props),{items:i}));Object.keys(o).length>0&&this.setState(o,(function(){e.handleNewGalleryStructure()}))},e.prototype.eventsListener=function(t,e,i){this.videoScrollHelper.handleEvent({eventName:t,eventData:e}),t===n.a.events.HOVER_SET&&(this.currentHoverChangeEvent.currentHoverIdx=e,p.a.dispatchEvent(this.currentHoverChangeEvent)),"function"==typeof this.props.eventsListener&&this.props.eventsListener(t,e,i)},e.prototype.getMoreItemsIfNeeded=function(t){var e=this;if(this.galleryStructure&&this.galleryStructure.galleryItems&&this.galleryStructure.galleryItems.length>0&&!this.gettingMoreItems&&this.state.items&&this.state.styles&&this.state.container){var i=this.state.styles,r=i.oneRow,o=i.isRTL,s=this.galleryStructure[r?"width":"height"]+(r?0:this.state.container.scrollBase),a=p.a.screen[r?"width":"height"];s<(t?3*a:0)+(r&&o?t-s+a:t+a)&&(this.state.items.length<this.props.totalItemsCount?(this.gettingMoreItems=!0,this.eventsListener(n.a.events.NEED_MORE_ITEMS,this.state.items.length),setTimeout((function(){e.gettingMoreItems=!1}),2e3)):this.state.styles.slideshowLoop&&this.duplicateGalleryItems())}},e.prototype.canRender=function(){var t=this.state.container&&this.state.styles&&this.state.items;return!t&&d.a.isVerbose()&&console.log("PROGALLERY [CAN_RENDER] GalleryContainer",this.state,t,this.state.container,this.state.styles,this.state.items),t},e.prototype.isVerticalGallery=function(){return!this.state.styles.oneRow},e.prototype.render=function(){if(!this.canRender())return null;var t=this.isVerticalGallery()?Rt:Nt;d.a.isVerbose()&&(console.count("PROGALLERY [COUNTS] - GalleryContainer (render)"),console.log("PROGALLERY [RENDER] - GalleryContainer",this.state.container.scrollBase,{state:this.state,items:this.items}));var e="none"===this.containerInfiniteGrowthDirection(),i=this.layouter?this.layouter.findNeighborItem:function(){};return s.a.createElement("div",{"data-key":"pro-gallery-inner-container",key:"pro-gallery-inner-container",id:"pro-gallery-inner-container-"+this.props.domId},s.a.createElement(Ft,{domId:this.props.domId,oneRow:this.state.styles.oneRow,isRTL:this.state.styles.isRTL,totalWidth:this.galleryStructure.width,scrollBase:this.state.container.scrollBase,scrollingElement:this._scrollingElement,getMoreItemsIfNeeded:this.getMoreItemsIfNeeded,setGotFirstScrollIfNeeded:this.setGotFirstScrollIfNeeded,onScroll:this.onGalleryScroll}),s.a.createElement(t,Object(r.a)({isInDisplay:this.props.isInDisplay,scrollingElement:this._scrollingElement,totalItemsCount:this.props.totalItemsCount,renderedItemsCount:this.props.renderedItemsCount,getMoreItemsIfNeeded:this.getMoreItemsIfNeeded,setGotFirstScrollIfNeeded:this.setGotFirstScrollIfNeeded,gotFirstScrollEvent:this.state.gotFirstScrollEvent,items:this.items,getVisibleItems:this.getVisibleItems,itemsLoveData:this.props.itemsLoveData,galleryStructure:this.galleryStructure,styleParams:this.state.styles,container:this.state.container,watermark:this.props.watermark,settings:this.props.settings,displayShowMore:e,domId:this.props.domId,currentIdx:this.props.currentIdx||0,customHoverRenderer:this.props.customHoverRenderer,customInfoRenderer:this.props.customInfoRenderer,customSlideshowInfoRenderer:this.props.customSlideshowInfoRenderer,customLoadMoreRenderer:this.props.customLoadMoreRenderer,playingVideoIdx:this.state.playingVideoIdx,nextVideoIdx:this.state.nextVideoIdx,noFollowForSEO:this.props.noFollowForSEO,proGalleryRegionLabel:this.props.proGalleryRegionLabel,actions:Object(r.a)(Object(r.a)({},this.props.actions),{findNeighborItem:i,toggleLoadMoreItems:this.toggleLoadMoreItems,eventsListener:this.eventsListener,setWixHeight:function(){},scrollToItem:this.scrollToItem,scrollToGroup:this.scrollToGroup,duplicateGalleryItems:this.duplicateGalleryItems})},this.props.gallery)),this.galleryInitialStateJson&&s.a.createElement("div",{id:"ssr-state-to-hydrate",style:{display:"none"}},this.galleryInitialStateJson),s.a.createElement("div",{"data-key":"dynamic-styles",key:"items-styles",style:{display:"none"}},(this.layoutCss||[]).filter(Boolean).map((function(t,e){return s.a.createElement("style",{id:"layoutCss-"+e,key:"layoutCss-"+e,dangerouslySetInnerHTML:{__html:t}})})),(this.scrollCss||[]).filter(Boolean).map((function(t,e){return s.a.createElement("style",{id:"scrollCss_"+e,key:"scrollCss_"+e,dangerouslySetInnerHTML:{__html:t}})})),!!this.dynamicStyles&&s.a.createElement("style",{dangerouslySetInnerHTML:{__html:this.dynamicStyles}})),s.a.createElement(Vt,{layoutFixerBundleUrl:this.props.layoutFixerBundleUrl,layoutFixerScriptType:this.props.layoutFixerScriptType,items:this.items,styles:this.props.styles,domId:this.props.domId}))},e}(s.a.Component),Kt=function(t){function e(e){var i=t.call(this)||this;return i.init(e),d.a.isLocal()&&!d.a.isTest()&&console.log("PRO GALLERY DEV"),i}return Object(r.c)(e,t),e.prototype.init=function(t){void 0!==t.viewMode&&Y.f.setViewMode(t.viewMode),void 0!==t.formFactor&&Y.f.setFormFactor(t.formFactor)},e.prototype.UNSAFE_componentWillReceiveProps=function(t){this.props.viewMode!==t.viewMode&&(d.a.dumpCache(),Y.f.setViewMode(t.viewMode)),this.props.formFactor!==t.formFactor&&(d.a.dumpCache(),Y.f.setFormFactor(t.formFactor))},e.prototype.renderProps=function(){return Object(r.a)(Object(r.a)({},this.props),{domId:this.props.domId,items:this.props.items||[],watermarkData:this.props.watermarkData,settings:this.props.settings||{},offsetTop:this.props.offsetTop,itemsLoveData:this.props.itemsLoveData||{},proGalleryRegionLabel:this.props.proGalleryRegionLabel||"Gallery. you can navigate the gallery with keyboard arrow keys."})},e.prototype.containerProps=function(){return{id:"pro-gallery-"+this.props.domId,className:"pro-gallery"}},e.prototype.render=function(){return s.a.createElement("div",Object(r.a)({},this.containerProps()),s.a.createElement(Ut,Object(r.a)({},this.renderProps())))},e}(ht.a),Yt={items:St.a.array.isRequired,container:St.a.object.isRequired,domId:St.a.string,scrollingElement:St.a.any,options:St.a.object,eventsListener:St.a.func,totalItemsCount:St.a.number,resizeMediaUrl:St.a.func},qt=function(t){function e(){var e=t.call(this)||this;return e.measureIfNeeded=e.measureIfNeeded.bind(e),e.eventsListener=e.eventsListener.bind(e),e.state={itemStyle:{},numberOfColumns:0},e}return Object(r.c)(e,t),e.prototype.componentDidMount=function(){this.eventsListener(n.a.events.APP_LOADED,{}),this.measureIfNeeded(),this.setState({numberOfColumns:this.calcNumberOfColumns(this.props)})},e.prototype.UNSAFE_componentWillReceiveProps=function(t){this.props.container.galleryWidth!==t.container.galleryWidth&&(this.measureIfNeeded(),this.setState({numberOfColumns:this.calcNumberOfColumns(t)}))},e.prototype.createGalleryStyle=function(){var t=this.props.styles,e=t.gridStyle,i=t.fixedColumns,o=t.imageMargin,s=t.cubeImages,a=this.calcItemContainerSize(),l=e===n.a.gridStyle.SET_ITEMS_PER_ROW?i:this.state.numberOfColumns,h=l>0?"repeat("+l+", 1fr)":"repeat(auto-fit, minmax("+a.width+"px, 1fr))";return Object(r.a)({gridTemplateColumns:h,gridGap:o/2+"px"},!1===s?{gridAutoRows:"minmax(max-content, 1px)",gridGap:0,columnGap:o/2+"px"}:{})},e.prototype.calcNumberOfColumns=function(t){var e=t.container.galleryWidth;if(!e)return 0;var i=this.calcItemContainerSize(void 0,t),r=1;if(t.styles.fixedColumns>0)r=t.styles.fixedColumns;else{var o=e/i.width,s=[Math.floor,Math.ceil],n=s.map((function(t){return t(o)})).map((function(t){return Math.round(e/t)})).map((function(t){return Math.abs(i.width-t)}));r=(0,s[n.indexOf(Math.min.apply(Math,n))])(o)||1}return r},e.prototype.calcItemContainerSize=function(t,e){var i=e||this.props,r=i.styles,o=i.container,s=r.targetItemSize,a=r.cubeImages,l=r.titlePlacement,h=r.textBoxHeight,c=r.cubeRatio,u=r.imageMargin,d=o.width>0?Math.min(s,o.width):s,p=d/c;if(t&&!1===a){var m=Xt(t,"width")/Xt(t,"height");p=Math.round((d-u/2)/m)}return n.a.hasVerticalPlacement(l)&&(p+=h),{width:d,height:p}},e.prototype.createItemContainerStyle=function(t,e){var i=this.state.itemStyle.height,o=void 0===i?null:i,s=this.props.styles,n=s.imageMargin,a=s.cubeImages,l=this.calcItemContainerSize(e),h=!1===a?{gridRowEnd:"span "+l.height,marginBottom:n/2+"px",height:"fit-content"}:{};return Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},this.createItemContainerBorder()),o?{height:"auto"}:{height:"auto",textAlign:"center"}),{cursor:t?"pointer":"default"}),h)},e.prototype.createItemContainerBorder=function(){var t=this.props.styles;if(t.imageInfoType===n.a.infoType.ATTACHED_BACKGROUND)return{borderStyle:"solid",borderWidth:t.itemBorderWidth,borderColor:d.a.formatColor(t.itemBorderColor),borderRadius:t.itemBorderRadius}},e.prototype.createImageWrapperStyle=function(t){var e=this.props.styles,i=e.cubeType,o=e.cubeImages;if(this.state.itemStyle.width&&i!==n.a.resizeMethods.FIT){var s=this.calcItemContainerSize(t);return!1===o?Object(r.a)({},s):Object(r.a)({},this.state.itemStyle)}if(!(this.state.itemStyle.width>0))return{width:"100%",height:"auto"};var a=this.state.itemStyle,l=a.width,h=a.height,c=Xt(t,"width")/Xt(t,"height");if(c>l/h){var u=l/c;return{width:l,height:u,marginTop:(h-u)/2}}var d=h*c;return{height:h,width:d,marginLeft:(l-d)/2}},e.prototype.resizeUrl=function(t){var e=t.item,i=this.props,r=i.styles,o=i.resizeMediaUrl,s=r.cubeType,n=r.imageQuality,a=r.cubeRatio,l=r.cubeImages,h=this.state.itemStyle,c=e.url,u=e.mediaUrl,d=e.src,p=c||u||d,m=this.calcItemContainerSize(e),g=!0===l&&h.width||m.width,y=!0===l&&h.height||m.height/a,f=!(h.width>0)?{quality:30,blur:30}:{quality:n};if("function"!=typeof o)return String(p);try{return o({maxWidth:Xt(e,"width"),maxHeight:Xt(e,"height")},p,s,g,y,f,!1,!1)||""}catch(b){return String(p)}},e.prototype.createImageStyle=function(t){var e=t.width,i=void 0===e?"100%":e,o=t.height,s=void 0===o?"auto":o,n=d.a.isiOS()&&!this.props.styles.allowContextMenu?{"-webkit-user-select":"none","-webkit-touch-callout":"none"}:{};return Object(r.a)(Object(r.a)({width:i,height:s},n),this.createImageBorder())},e.prototype.createImageBorder=function(){var t=this.props.styles;if(t.imageInfoType!==n.a.infoType.ATTACHED_BACKGROUND)return{boxSizing:"border-box",borderStyle:"solid",borderWidth:t.itemBorderWidth,borderColor:d.a.formatColor(t.itemBorderColor),borderRadius:t.itemBorderRadius}},e.prototype.createLinkParams=function(t){var e=this.props,i=e.noFollowForSEO,o=e.styles.itemClick,s=t.directLink||{},a=s.url,l=s.target,h=Object(Y.d)()&&i?{rel:"nofollow"}:{};return!!!(!a||!l||o!==n.a.itemClick.LINK)&&Object(r.a)({href:a,target:l},h)},e.prototype.measureIfNeeded=function(t){var e=this.props.styles;!this.node&&t&&(this.node=t),this.node&&this.node.clientWidth!==this.clientWidth&&(this.clientWidth=this.node.clientWidth,this.setState({itemStyle:{width:this.clientWidth,height:Math.round(this.clientWidth/e.cubeRatio)}}))},e.prototype.fixStylesIfNeeded=function(t){return Object(r.a)(Object(r.a)({},t),{externalInfoHeight:t.textBoxHeight})},e.prototype.isMetadataLinkExists=function(t){var e=t.metadata||t.metaData;return!(!e||!e.link)},e.prototype.eventsListener=function(t,e){"function"==typeof this.props.eventsListener&&this.props.eventsListener(t,e)},e.prototype.render=function(){var t=this,e=this.eventsListener,i=this.props,o=i.customInfoRenderer,a=i.items,l=this.fixStylesIfNeeded(i.styles),h=l.itemClick;return s.a.createElement("div",{"data-hook":"lean-gallery",className:["pro-gallery","inline-styles","lean-gallery-gallery"].join(" "),style:this.createGalleryStyle()},a.map((function(i,a){var c=t.createLinkParams(i),u=c&&h===n.a.itemClick.LINK||[n.a.itemClick.EXPAND,n.a.itemClick.FULLSCREEN].includes(h)||t.isMetadataLinkExists(i),d=Object(r.a)(Object(r.a)({},i),{id:i.itemId,idx:a}),p=i.metaData||i.metadata,m=Object(r.a)(Object(r.a)(Object(r.a)({},d),p),{style:t.state.itemStyle,styleParams:l}),g=t.createImageWrapperStyle(i),y=l.textBoxHeight,f=function(t){return"function"==typeof o&&l.titlePlacement===t&&s.a.createElement("div",{className:"gallery-item-common-info gallery-item-"+(t===n.a.placements.SHOW_ABOVE?"top":"bottom")+"-info",style:It(t,l,y)},o(m,t))};return s.a.createElement("a",Object(r.a)({className:["gallery-item-container","lean-gallery-cell"].join(" "),style:t.createItemContainerStyle(u,i),ref:function(i){t.measureIfNeeded(i),e(n.a.events.ITEM_CREATED,d)},key:"item-container-"+a},c),f(n.a.placements.SHOW_ABOVE),s.a.createElement("div",{style:g,className:["gallery-item-hover","lean-gallery-image-wrapper"].join(" "),onClick:function(){return e(n.a.events.ITEM_ACTION_TRIGGERED,d)}},s.a.createElement("img",{src:t.resizeUrl({item:i}),loading:"lazy",className:["gallery-item-content","lean-gallery-image"].join(" "),alt:Xt(i,"title"),style:t.createImageStyle(g),onLoad:function(){return e(n.a.events.ITEM_LOADED,d)}})),f(n.a.placements.SHOW_BELOW))})))},e}(s.a.Component),Xt=function(t,e){if(void 0!==t[e])return t[e];var i=t.metadata||t.metaData;return void 0!==i&&void 0!==i[e]?i[e]:void 0},Zt=function(t){return w(U(t),!0)},Jt={numberOfImagesPerRow:3,gallerySizeType:"smart",gallerySizeRatio:1,gallerySizePx:300,gallerySize:30,cubeType:"fill",cubeRatio:1,fixedColumns:0,borderRadius:0,imageMargin:10,gridStyle:0,itemBorderWidth:0,itemBorderRadius:0,imageQuality:90,textBoxHeight:200},$t={allowLeanGallery:!0,cubeImages:!0,galleryLayout:[n.a.layout.EMPTY,n.a.layout.GRID],isVertical:!0,oneRow:!1,isRTL:!1,scrollDirection:[0,void 0],groupSize:1,hoveringBehaviour:[n.a.infoBehaviourOnHover.NEVER_SHOW,n.a.infoBehaviourOnHover.APPEARS],rotatingGroupTypes:"",smartCrop:!1,rotatingCubeRatio:"",boxShadow:0,galleryMargin:0,scatter:0,placeGroupsLtr:!1,mobilePanorama:!1,enableInfiniteScroll:[!0,1],itemEnableShadow:!1,itemClick:[n.a.itemClick.NOTHING,n.a.itemClick.LINK,n.a.itemClick.FULLSCREEN,n.a.itemClick.EXPAND],scrollAnimation:n.a.scrollAnimations.NO_EFFECT,titlePlacement:function(t){return n.a.isVerticalPlacement(t.titlePlacement)||t.hoveringBehaviour===n.a.infoBehaviourOnHover.NEVER_SHOW||n.a.isHoverPlacement(t.titlePlacement)&&!t.loveButton&&!t.loveCounter&&!t.allowDownload&&!t.allowSocial&&!t.allowTitle&&!t.allowDescription},imageHoverAnimation:n.a.imageHoverAnimations.NO_EFFECT,loveButton:!1,loveCounter:!1,allowDownload:!1,allowSocial:!1,isAccessible:!1},Qt=function(t){var e=t.items,i=t.styles,r=t.totalItemsCount,o=void 0===r?0:r;if(!!!(i=Zt(i)).allowLeanGallery)return!1;if(o>e.length)return d.a.isVerbose()&&console.log("[LEAN GALLERY] NOT ALLOWED - not all items arrived",o,e.length),!1;var s=Math.max(e.length,o);if(s>25)return d.a.isVerbose()&&console.log("[LEAN GALLERY] NOT ALLOWED - more than 25 items",s),!1;for(var n=0,a=e;n<a.length;n++){var l=a[n];if(!ee(l))return d.a.isVerbose()&&console.log("[LEAN GALLERY] NOT ALLOWED - an item that is not an image",l),!1}for(var h=0,c=Object.entries(i);h<c.length;h++){var u=c[h],p=u[0],m=u[1];if(!ie(p,m,i))return d.a.isVerbose()&&console.log("[LEAN GALLERY] NOT ALLOWED - invalid styleParam",p,m),!1}return d.a.isVerbose()&&console.log("[LEAN GALLERY] ALLOWED!",i),!0},te=function(t){var e=t.items,i=t.styles,o=Object(r.a)(Object(r.a)(Object(r.a)({},i),K.grid),{allowLeanGallery:!0}),s=[];"2"!==String(i.galleryLayout)&&s.push("not a Grid layout"),e.length>25&&s.push("more than 25 items");for(var n=0,a=0,l=e;a<l.length;a++){var h=l[a];ee(h)||n++}n>0&&s.push(n+" items are not an image");for(var c=0,u=Object.entries(o);c<u.length;c++){var d=u[c],p=d[0],m=d[1];ie(p,m,o)||s.push("invalid style: "+p+" => "+m)}return s},ee=function(t){var e=t.metadata||t.metaData;return!(e.type&&"image"!==e.type||!(t.url||t.mediaUrl||t.src))},ie=function(t,e,i){if(void 0!==Jt[t])return!0;if(void 0!==$t[t]){var r=$t[t];return r&&"function"==typeof r?r(i):r&&r.length>0?r.includes(e):r===e}return!0},re=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.render=function(){var t=this.props.domId||"default-dom-id",e=this.props,i=e.styles,o=e.options,n=e.styleParams,h=e.eventsListener,c=Object(r.e)(e,["styles","options","styleParams","eventsListener"]),u=Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},a),o),i),n),p=Object(r.a)(Object(r.a)({},c),{styles:u,eventsListener:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"function"==typeof h&&h.apply(void 0,t)},domId:t}),m=Qt(p),g=[t,m].join("_");if(this.props.useBlueprints);else{l.a.updateParams({domId:p.domId,container:p.container,styles:p.styles});var y=p.styles,f=y.galleryType,b=y.galleryLayout;void 0!==f&&void 0===b||(p=Object(r.a)(Object(r.a)({},p),{styles:U(p.styles)}))}var I=Kt;return m&&(p.styles=Zt(p.styles),I=qt),d.a.logPlaygroundLink(p.styles),s.a.createElement(I,Object(r.a)({key:g},p))},e.propTypes=Yt,e}(s.a.Component);var oe=function(t,e,i){var r,o=i[t],s=function(t,e,r){var o,s,n,a=null,l={};return i.forEach((function(i){o=i.offset.top+i.height/2,s=i.offset.left+i.width/2,n=Math.sqrt(Math.pow(o-e,2)+Math.pow(s-t,2)),(null===a||n>0&&n<a)&&r(t,e,s,o)&&(a=n,l=i)})),l};switch(e){case"up":r=s(o.offset.left+o.width/2,o.offset.top,(function(t,e,i,r){return r<e}));break;case"left":r=s(o.offset.left,o.offset.top+o.height/2,(function(t,e,i){return i<t}));break;case"down":r=s(o.offset.left+o.width/2,o.offset.bottom,(function(t,e,i,r){return r>e}));break;default:case"right":r=s(o.offset.right,o.offset.top+o.height/2,(function(t,e,i){return i>t}))}return r.idx>=0?r.idx:(console.warn("Could not find offset for itemIdx",t,e),t)},se=function(t){function e(e){var i=t.call(this,e)||this;i.findNeighborItem=function(t,e){return oe(t,e,i.state.structure.items)},d.a.isVerbose()&&console.count("[OOISSR] galleryContainerNew constructor",p.a.isMock),i.getMoreItemsIfNeeded=i.getMoreItemsIfNeeded.bind(i),i.setGotFirstScrollIfNeeded=i.setGotFirstScrollIfNeeded.bind(i),i.toggleLoadMoreItems=i.toggleLoadMoreItems.bind(i),i.scrollToItem=i.scrollToItem.bind(i),i.scrollToGroup=i.scrollToGroup.bind(i),i._scrollingElement=i.getScrollingElement(),i.eventsListener=i.eventsListener.bind(i),i.onGalleryScroll=i.onGalleryScroll.bind(i),i.setPlayingIdxState=i.setPlayingIdxState.bind(i),i.getVisibleItems=i.getVisibleItems.bind(i),i.findNeighborItem=i.findNeighborItem.bind(i),i.videoScrollHelper=new Wt(i.setPlayingIdxState);var o={pgScroll:0,showMoreClickedAtLeastOnce:!1,initialGalleryHeight:void 0,needToHandleShowMoreClick:!1,gotFirstScrollEvent:!1,playingVideoIdx:-1,nextVideoIdx:-1,viewComponent:null};i.state=o,i.layoutCss=[],i.initialGalleryState={};try{var s=i.propsToState(e);Object.keys(s).length>0&&(i.initialGalleryState=s)}catch(n){console.warn("Cannot create initial state from props (blueprints)",n)}return i.state=Object(r.a)(Object(r.a)({},o),i.initialGalleryState),i}return Object(r.c)(e,t),e.prototype.componentDidMount=function(){this.scrollToItem(this.props.currentIdx,!1,!0,0),this.handleNewGalleryStructure(),this.eventsListener(n.a.events.APP_LOADED,{}),this.videoScrollHelper.initializePlayState();try{"function"==typeof p.a.CustomEvent?this.currentHoverChangeEvent=new CustomEvent("current_hover_change"):(this.currentHoverChangeEvent=p.a.document.createEvent("CustomEvent"),this.currentHoverChangeEvent.initCustomEvent("current_hover_change",!1,!1,null))}catch(t){console.error("could not create 'current_hover_change' customEvent. Error =",t)}this.props.domId&&(this.currentHoverChangeEvent.domId=this.props.domId)},e.prototype.UNSAFE_componentWillReceiveProps=function(t){var e=this;!this.currentHoverChangeEvent.domId&&t.domId&&(this.currentHoverChangeEvent.domId=t.domId),this.props.currentIdx!==t.currentIdx&&this.scrollToItem(t.currentIdx,!1,!0,0);var i=function(t){return{domId:t.domId,styles:t.styles,container:t.container,items:t.items,watermark:t.watermark}};this.reCreateGalleryTimer&&clearTimeout(this.reCreateGalleryTimer);var r,o=!0;try{var s=i(this.props),n=i(t);o=JSON.stringify(s)!==JSON.stringify(n),d.a.isVerbose()&&o&&console.log("New props arrived",d.a.printableObjectsDiff(s,n))}catch(a){console.error("Cannot compare props",a)}o&&(r=e.propsToState(t),Object.keys(r).length>0&&e.setState(r,e.handleNewGalleryStructure),t.currentIdx&&t.currentIdx>0&&this.scrollToItem(t.currentIdx,!1,!0,0),this.props.isInDisplay!==t.isInDisplay&&this.handleNavigation(t.isInDisplay))},e.prototype.handleNavigation=function(t){t?this.videoScrollHelper.trigger.INIT_SCROLL():this.videoScrollHelper.stop()},e.prototype.handleNewGalleryStructure=function(){var t=this.state,e=t.container,i=t.needToHandleShowMoreClick,r=t.initialGalleryHeight,o=this.props.styles,s=this.state.items.length,a=this.props.structure.height,l=this.props.structure.items,h="vertical"===this.containerInfiniteGrowthDirection(),c=!1;if(!h&&i){c=e.height+(r-138)}var u={numOfItems:s,container:e,styleParams:o,layoutHeight:a,layoutItems:l,isInfinite:h,updatedHeight:c};console.log("handleNewGalleryStructure",u),this.eventsListener(n.a.events.GALLERY_CHANGE,u),i&&this.setState({needToHandleShowMoreClick:!1})},e.prototype.isVerticalGallery=function(){return!this.state.styles.oneRow},e.prototype.getVisibleItems=function(t,e){var i=this.state.gotFirstScrollEvent,r=p.a.scrollY,o=e.galleryHeight,s=e.scrollBase,n=e.galleryWidth;if(d.a.isSSR()&&!this.props.settings.renderVisibleItemsInSsr||Object(Y.d)()||Object(Y.a)()||Object(Y.c)()||i||r>0||this.props.currentIdx>0)return t;var a=t;try{var l=p.a.innerHeight,h=this.isVerticalGallery()&&"vertical"===this.containerInfiniteGrowthDirection()?1/0:s+o,c=r+l,u=Math.min(h,c)-s;(a=u<0?[]:this.isVerticalGallery()?t.filter((function(t){return t.offset.top<u})):t.filter((function(t){return t.left<=n+20}))).length<2&&a.length<t.length&&(a=t.slice(0,2))}catch(m){console.error("Could not calculate visible items, returning original items",m),a=t}return a},e.prototype.propsToState=function(t){var e=t.loopingItems,i=t.items,r=t.styles,o=t.structure,s=t.container,n=t.domId,a=t.resizeMediaUrl,l=t.isPrerenderMode;i=i||this.props.items,r=r||this.props.styles,s=s||this.props.container,o=o||this.props.structure,n=n||this.props.domId,a=a||this.props.resizeMediaUrl,this.galleryStructure=lt.convertToGalleryItems(o,{thumbnailSize:r.thumbnailSize,sharpParams:r.sharpParams,resizeMediaUrl:a}),!Object(Y.d)()&&(Object(Y.a)()||this.state.gotFirstScrollEvent||this.state.showMoreClickedAtLeastOnce)&&this.getScrollCss({domId:n,items:this.galleryStructure.galleryItems,styleParams:r});var h={galleryStructure:this.galleryStructure,scrollBase:s.scrollBase,videoPlay:r.videoPlay,videoLoop:r.videoLoop,itemClick:r.itemClick,oneRow:r.oneRow,cb:this.setPlayingIdxState};this.videoScrollHelper.updateGalleryStructure(h,!d.a.isSSR(),i);var c={items:i,container:s,styleParams:r,gotScrollEvent:!0,options:{showAllItems:!0,skipVisibilitiesCalc:!0,useLayoutStore:!1,createLayoutOnInit:!1}};return this.createCssLayoutsIfNeeded(c),this.createDynamicStyles(r,l),{items:e||i,styles:r,container:s,structure:o}},e.prototype.getScrollingElement=function(){var t=this;return{vertical:this.props.scrollingElement?"function"==typeof this.props.scrollingElement?this.props.scrollingElement:function(){return t.props.scrollingElement}:function(){return p.a},horizontal:function(){return p.a.document.querySelector("#pro-gallery-"+t.props.domId+" #gallery-horizontal-scroll")}}},e.prototype.scrollToItem=function(t,e,i,r,o){if(void 0===r&&(r=0),t>=0){var s=this._scrollingElement,n=s.horizontal();try{var a={scrollMarginCorrection:o,isRTL:this.state.styles.isRTL,oneRow:this.state.styles.oneRow,galleryWidth:this.state.container.galleryWidth,galleryHeight:this.state.container.galleryHeight,top:0,items:this.galleryStructure.items,totalWidth:this.galleryStructure.width,itemIdx:t,fixedScroll:e,isManual:i,scrollingElement:s,horizontalElement:n,durationInMS:r};return Object(Gt.d)(a)}catch(l){console.error("error:",l," pro-gallery, scrollToItem, cannot get scrollParams, ","isEditMode =",Object(Y.a)()," isPreviewMode =",Object(Y.c)()," isSiteMode =",Object(Y.e)()," this.state.styles =",this.state.styles," this.state.container =",this.state.container," this.galleryStructure =",this.galleryStructure)}}},e.prototype.scrollToGroup=function(t,e,i,r,o){if(void 0===r&&(r=0),t>=0){var s=this._scrollingElement,n=s.horizontal();try{var a={scrollMarginCorrection:o,isRTL:this.state.styles.isRTL,oneRow:this.state.styles.oneRow,galleryWidth:this.state.container.galleryWidth,galleryHeight:this.state.container.galleryHeight,top:0,groups:this.galleryStructure.groups,totalWidth:this.galleryStructure.width,groupIdx:t,fixedScroll:e,isManual:i,scrollingElement:s,horizontalElement:n,durationInMS:r};return Object(Gt.c)(a)}catch(l){console.error("error:",l," pro-gallery, scrollToGroup, cannot get scrollParams, ","isEditMode =",Object(Y.a)()," isPreviewMode =",Object(Y.c)()," isSiteMode =",Object(Y.e)()," this.state.styles =",this.state.styles," this.state.container =",this.state.container," this.galleryStructure =",this.galleryStructure)}}},e.prototype.containerInfiniteGrowthDirection=function(t){void 0===t&&(t=!1);var e=t||this.props.styles,i=this.props.styles.enableInfiniteScroll,r=this.state.showMoreClickedAtLeastOnce,o=e.oneRow,s=e.loadMoreAmount;return o?"horizontal":i||r&&"all"===s?"vertical":"none"},e.prototype.setPlayingIdxState=function(t,e){this.setState({playingVideoIdx:t,nextVideoIdx:e})},e.prototype.onGalleryScroll=function(t){var e=t.top,i=t.left;this.videoScrollHelper.trigger.SCROLL({top:e,left:i})},e.prototype.createDynamicStyles=function(t,e){var i=t.overlayBackground,r=e&&!this.props.settings.disableSSROpacity;this.dynamicStyles=("\n      "+(r?"#pro-gallery-"+this.props.domId+" .gallery-item-container { opacity: 0 }":"")+"\n      "+(i?"#pro-gallery-"+this.props.domId+" .gallery-item-hover::before { background-color: "+i+" !important}":"")+"\n    ").trim()},e.prototype.createCssLayoutsIfNeeded=function(t){this.layoutCss=zt({layoutParams:t,isMobile:d.a.isMobile(),domId:this.props.domId,galleryItems:this.galleryStructure.galleryItems})},e.prototype.getScrollCss=function(t){var e=t.domId,i=t.items,r=t.styleParams;this.scrollCss=mt.calcScrollCss({items:i,styleParams:r,domId:e})},e.prototype.toggleLoadMoreItems=function(){var t=this;this.eventsListener(n.a.events.LOAD_MORE_CLICKED,this.galleryStructure.galleryItems);if(this.state.showMoreClickedAtLeastOnce)this.setState({needToHandleShowMoreClick:true},(function(){t.handleNewGalleryStructure()}));else{this.getScrollCss({domId:this.props.domId,items:this.galleryStructure.galleryItems,styleParams:this.state.styles});var e=this.state.container.height;this.setState({showMoreClickedAtLeastOnce:!0,initialGalleryHeight:e,needToHandleShowMoreClick:true},(function(){t.handleNewGalleryStructure()}))}},e.prototype.setGotFirstScrollIfNeeded=function(){this.state.gotFirstScrollEvent||(this.getScrollCss({domId:this.props.domId,items:this.galleryStructure.galleryItems,styleParams:this.state.styles}),this.setState({gotFirstScrollEvent:!0}))},e.prototype.eventsListener=function(t,e,i){this.videoScrollHelper.handleEvent({eventName:t,eventData:e}),t===n.a.events.HOVER_SET&&(this.currentHoverChangeEvent.currentHoverIdx=e,p.a.dispatchEvent(this.currentHoverChangeEvent)),"function"==typeof this.props.eventsListener&&this.props.eventsListener(t,e,i)},e.prototype.getMoreItemsIfNeeded=function(t){var e=this;if(this.galleryStructure&&this.galleryStructure.galleryItems&&this.galleryStructure.galleryItems.length>0&&!this.gettingMoreItems&&this.state.items&&this.state.styles&&this.state.container){var i=this.state.styles,r=i.oneRow,o=i.isRTL,s=this.galleryStructure[r?"width":"height"]+(r?0:this.state.container.scrollBase),a=p.a.screen[r?"width":"height"];s<(t?3*a:0)+(r&&o?t-s+a:t+a)&&(this.gettingMoreItems=!0,this.eventsListener(n.a.events.NEED_MORE_ITEMS,this.state.items.length),setTimeout((function(){e.gettingMoreItems=!1}),2e3))}},e.prototype.canRender=function(){var t=this.props.container&&this.props.styles&&this.state.items;return!t&&d.a.isVerbose()&&console.log("PROGALLERY [CAN_RENDER] GalleryContainer",t,this.props.container,this.props.styles,this.state.items),t},e.prototype.render=function(){if(!this.canRender())return null;var t=this.props.styles.oneRow?Nt:Rt;d.a.isVerbose()&&(console.count("PROGALLERY [COUNTS] - GalleryContainer (render)"),console.log("PROGALLERY [RENDER] - GalleryContainer",this.props.container.scrollBase,{props:this.props,items:this.state.items}));var e="none"===this.containerInfiniteGrowthDirection();return s.a.createElement("div",{"data-key":"pro-gallery-inner-container",key:"pro-gallery-inner-container"},s.a.createElement(Ft,{domId:this.props.domId,oneRow:this.props.styles.oneRow,isRTL:this.props.styles.isRTL,totalWidth:this.galleryStructure.width,scrollBase:this.props.container.scrollBase,scrollingElement:this._scrollingElement,getMoreItemsIfNeeded:this.getMoreItemsIfNeeded,setGotFirstScrollIfNeeded:this.setGotFirstScrollIfNeeded,onScroll:this.onGalleryScroll}),s.a.createElement(t,Object(r.a)({isInDisplay:this.props.isInDisplay,isPrerenderMode:this.props.isPrerenderMode,scrollingElement:this._scrollingElement,totalItemsCount:this.props.totalItemsCount,renderedItemsCount:this.props.renderedItemsCount,getMoreItemsIfNeeded:this.getMoreItemsIfNeeded,gotFirstScrollEvent:this.state.gotFirstScrollEvent,setGotFirstScrollIfNeeded:this.setGotFirstScrollIfNeeded,items:this.state.items,getVisibleItems:this.getVisibleItems,itemsLoveData:this.props.itemsLoveData,galleryStructure:this.galleryStructure,styleParams:this.props.styles,container:this.props.container,watermark:this.props.watermark,settings:this.props.settings,displayShowMore:e,domId:this.props.domId,currentIdx:this.props.currentIdx||0,customHoverRenderer:this.props.customHoverRenderer,customInfoRenderer:this.props.customInfoRenderer,customSlideshowInfoRenderer:this.props.customSlideshowInfoRenderer,customLoadMoreRenderer:this.props.customLoadMoreRenderer,playingVideoIdx:this.state.playingVideoIdx,nextVideoIdx:this.state.nextVideoIdx,noFollowForSEO:this.props.noFollowForSEO,proGalleryRegionLabel:this.props.proGalleryRegionLabel,actions:Object(r.a)(Object(r.a)({},this.props.actions),{findNeighborItem:this.findNeighborItem,toggleLoadMoreItems:this.toggleLoadMoreItems,eventsListener:this.eventsListener,setWixHeight:function(){},scrollToItem:this.scrollToItem,scrollToGroup:this.scrollToGroup})},this.props.gallery)),s.a.createElement("div",{"data-key":"items-styles",key:"items-styles",style:{display:"none"}},(this.layoutCss||[]).filter(Boolean).map((function(t,e){return s.a.createElement("style",{id:"layoutCss-"+e,key:"layoutCss-"+e,dangerouslySetInnerHTML:{__html:t}})})),(this.scrollCss||[]).filter(Boolean).map((function(t,e){return s.a.createElement("style",{id:"scrollCss_"+e,key:"scrollCss_"+e,dangerouslySetInnerHTML:{__html:t}})})),!!this.dynamicStyles&&s.a.createElement("style",{dangerouslySetInnerHTML:{__html:this.dynamicStyles}})),s.a.createElement(Vt,{layoutFixerBundleUrl:this.props.layoutFixerBundleUrl,layoutFixerScriptType:this.props.layoutFixerScriptType,items:this.state.items,styles:this.props.styles,domId:this.props.domId,isPrerenderMode:this.props.isPrerenderMode}))},e}(s.a.Component),ne=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.render=function(){return s.a.createElement("div",Object(r.a)({},this.containerProps()),s.a.createElement(se,Object(r.a)({},this.renderProps())))},e}(Kt),ae=function(t){try{if("undefined"!=typeof window){var e=window.layoutFixer;if(e&&e[t]&&!e[t].disableSavedBlueprint){e[t].hydrated=!0,console.log("[LAYOUT FIXER] used blueprint from layoutFixer",e[t]);var i=e[t];return{structure:i.structure,items:i.items,container:i.container,styles:i.styles}}}return{}}catch(r){return console.log("Failed to get data from the layoutFixer",r),{}}},le=function(t){function e(e){var i=t.call(this,e)||this;return i.domId=e.domId||"default-dom-id",i}return Object(r.c)(e,t),e.prototype.componentDidMount=function(){!function(t){try{if("undefined"!=typeof window){var e=window.layoutFixer;e&&e[t]&&!e[t].mounted&&(e[t].mounted=!0,"function"==typeof e[t].onMount&&e[t].onMount(),console.log("[LAYOUT FIXER] mounted",e[t]))}}catch(i){console.log("Failed to set the layoutFixer to mounted",i)}}(this.domId)},e.prototype.render=function(){var t=this.props,e=t.styles,i=t.options,o=t.styleParams,n=t.eventsListener,h=Object(r.e)(t,["styles","options","styleParams","eventsListener"]),c=Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},a),i),e),o),u=Object(r.a)(Object(r.a)({},h),{styles:c,eventsListener:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"function"==typeof n&&n.apply(void 0,t)},domId:this.domId});if(this.props.useBlueprints)u.structure&&!u.isPrerenderMode||Object.assign(u,ae(this.domId));else{l.a.updateParams({domId:u.domId,container:u.container,styles:u.styles});var p=u.styles,m=p.galleryType,g=p.galleryLayout;void 0!==m&&void 0===g||(u=Object(r.a)(Object(r.a)({},u),{styles:U(u.styles)}))}var y=Qt(u)?qt:ne;return d.a.logPlaygroundLink(u.styles),u.styles&&u.items&&u.container&&u.structure?s.a.createElement(y,Object(r.a)({},u)):null},e.propTypes=Yt,e}(s.a.Component),he=new(function(){function t(){}return t.prototype.createBlueprint=function(t,e,i,r,o){var s={};try{var n=t.dimensions,a=t.items,l=t.styles,h=e.dimensions,c=e.items,u=e.styles,d=this.formatItemsIfNeeded(a,c),p=d.formattedItems,m=d.changed,g=this.formatStylesIfNeeded(l,u,o),y=g.formattedStyles,f=g.changed,b=this.formatContainerIfNeeded(n,l,h,u,{formattedStyles:y||i.styles}),I=b.formattedContainer,v=b.changed,S=m||f||v;if(s={itemsChanged:m,stylesChanged:f,containerChanged:v},S||!i){i||(i={});var O=this.createStructure({formattedContainer:I||i.container,formattedItems:p||i.items,formattedStyles:y||i.styles},S);y&&(i.styles=y),p&&(i.items=p),I&&(i.container=I),i.structure=O,!i.styles.oneRow&&i.styles.enableInfiniteScroll&&(i.container.height=i.container.galleryHeight=O.height)}}catch(w){console.error("Could not create blueprint, error:",w)}return{blueprint:i,changedParams:s}},t.prototype.formatItemsIfNeeded=function(t,e){var i,r={items:"",itemsAdded:""},o=e,s=!1;return!function(t,e){if(t===e)return r.itemsAdded="items are the same object.",!1;if(!t)return r.itemsAdded="new items do not exist.",!1;if(!e||e&&0===e.length)return r.itemsAdded="old items do not exist.",!1;if(e.length>=t.length)return r.itemsAdded="more old items than new items.",!1;var i=e.reduce((function(e,i,r){return e&&i.id===t[r].itemId}),!0);return i||(r.itemsAdded="items ids were changed. "),i}(t,o)?function(t,e){return t===e?(r.items="items are the same object.",!1):t?!e||e&&0===e.length?(r.items="old items do not exist.",!0):e.length!==t.length?(r.items="more new items than old items (or vice versa).",!0):t.some((function(t,i){var o=e[i];try{var s=!t||!o||t.itemId!==o.itemId||t.mediaUrl!==o.mediaUrl||t.measured!==o.measured||t.metaData&&o.metaData&&(t.metaData.type!==o.metaData.type||t.metaData.title!==o.metaData.title||t.metaData.description!==o.metaData.description);return s&&(r.items="items #"+i+" id was changed."),s}catch(n){return r.items="an error occured",!0}}),!1):(r.items="new items do not exist.",!1)}(t,o)&&(i=t.map((function(t){return Object.assign(lt.convertDtoToLayoutItem(t))})),this.gettingMoreItems=!1,s=!0):(i=o.concat(t.slice(o.length).map((function(t){return lt.convertDtoToLayoutItem(t)}))),this.gettingMoreItems=!1,s=!0),{formattedItems:i,changed:s}},t.prototype.formatStylesIfNeeded=function(t,e,i){var o,s={styles:""},n=!1;if(function(t,e){if(!t)return s.styles="no new styles.",!1;if(!e)return s.styles="no old styles.",!0;try{var i={};Object.keys(e).sort().forEach((function(t){return i[t]=e[t]}));var r={};Object.keys(t).sort().forEach((function(e){return r[e]=t[e]}));var o=JSON.stringify(r)!==JSON.stringify(i);return o&&(s.styles="styles were changed."),o}catch(n){return console.error("Could not compare styles",n),!1}}(t,e)){t=Object(r.a)(Object(r.a)({},a),t);(o=w(U(t),i)).selectedLayout=["galleryLayout","galleryThumbnailsAlignment","magicLayoutSeed","cubeType","isVertical","scrollDirection","enableInfiniteScroll"].map((function(t){return String(o[t])})).join("|"),o.layoutsVersion=2,n=!0}return{formattedStyles:o,changed:n}},t.prototype.formatContainerIfNeeded=function(t,e,i,r,o){var s,n=o.formattedStyles,a={dimensions:""},h=!1;return function(t){var e=t.newDimensionsParams,i=t.oldDimensionsParams,r=t.oldStylesParams;if(!r||!i)return a.dimensions="no old dimensions or styles. ",!0;if(!e)return a.dimensions="no new dimensions.",!1;var o={height:!(!r.oneRow&&r.enableInfiniteScroll)&&(!!e.height&&e.height!==i.height),width:!i||!!e.width&&e.width!==i.width,scrollBase:!!e.scrollBase&&e.scrollBase!==i.scrollBase};return Object.keys(o).reduce((function(t,e){return o[e]&&(a.dimensions+="dimensions."+e+" has changed. "),t||o[e]}),!1)}({newDimensionsParams:t,oldDimensionsParams:i,oldStylesParams:r})&&(l.a.updateParams({styles:n,container:t}),h=!0,s=Object.assign({},t,l.a.getGalleryDimensions())),{formattedContainer:s,changed:h}},t.prototype.createStructure=function(t){var e=t.formattedContainer,i=t.formattedStyles,r={items:t.formattedItems,container:e,styleParams:i,options:{showAllItems:!0,skipVisibilitiesCalc:!0,useLayoutStore:!1}};return r.options.createLayoutOnInit=!1,this.layouter=new rt(r),this.layouter.createLayout(r)},t}()),ce=new(function(){function t(t){var e=t.id;this.id=e+"'s blueprintsManager",this.currentState={},this.existingBlueprint={},this.cache={},this.api={},this.currentState.totalItemsCount=1/0,this.onBlueprintReady=function(){},this.loopingItems=!1}return t.prototype.init=function(t){this.api=t.api,this.currentState.totalItemsCount=t&&t.totalItemsCount||this.currentState.totalItemsCount,Y.f.setFormFactor(t.formFactor)},t.prototype.createBlueprint=function(t){return void 0===t&&(t={}),Object(r.b)(this,void 0,void 0,(function(){var e,i,o,s,n,a;return Object(r.d)(this,(function(l){switch(l.label){case 0:return this.currentState.totalItemsCount=t.totalItemsCount||this.api.getTotalItemsCount&&this.api.getTotalItemsCount()||this.currentState.totalItemsCount,this.currentState.isUsingCustomInfoElements=t.isUsingCustomInfoElements||this.api.isUsingCustomInfoElements&&this.api.isUsingCustomInfoElements()||this.currentState.isUsingCustomInfoElements,e=[Object(r.a)({},t)],[4,this.completeParams(t)];case 1:return t=r.a.apply(void 0,e.concat([l.sent()])),i=he.createBlueprint(t,this.currentState,this.existingBlueprint,this.id,this.currentState.isUsingCustomInfoElements),o=i.blueprint,s=i.changedParams,n=Object.values(s).some((function(t){return!!t})),a=Object.keys(o).length>0,this.updateLastParamsIfNeeded(t,s,a),a&&this.api.onBlueprintReady&&this.api.onBlueprintReady({blueprint:o,blueprintChanged:n}),[2,this.cache[t]=this.existingBlueprint=o]}}))}))},t.prototype.getMoreItems=function(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(i){switch(i.label){case 0:return t<this.currentState.totalItemsCount?[4,this.api.fetchMoreItems(t)]:[3,2];case 1:return(e=i.sent())&&this.createBlueprint({items:e}),[3,3];case 2:this.existingBlueprint.styles.slideshowLoop&&this.duplicateGalleryItems(),i.label=3;case 3:return[2]}}))}))},t.prototype.resetItemLooping=function(){this.loopingItems=!1},t.prototype.duplicateGalleryItems=function(){var t,e=(t=this.currentState.items).concat.apply(t,this.currentState.items.slice(0,this.currentState.totalItemsCount));this.loopingItems=!0,this.createBlueprint({items:e})},t.prototype.completeParams=function(t){return Object(r.b)(this,void 0,void 0,(function(){var e,i,o,s,n,a,l,h;return Object(r.d)(this,(function(c){switch(c.label){case 0:return i=(e=t||{}).dimensions,o=e.container,s=e.items,n=e.styles,a=e.styleParams,l=e.options,h=e.domId,n=Object(r.a)(Object(r.a)(Object(r.a)({},l),n),a),i=Object(r.a)(Object(r.a)({},i),o),[4,this.fetchDimensionsIfNeeded(i)];case 1:return i=c.sent(),[4,this.fetchItemsIfNeeded(s)];case 2:return s=c.sent(),[4,this.fetchStylesIfNeeded(n)];case 3:return n=c.sent(),[2,{dimensions:i,items:s,styles:n,domId:h}]}}))}))},t.prototype.fetchDimensionsIfNeeded=function(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(i){switch(i.label){case 0:return function(t){var e=!0;return t&&Object.keys(t).length>0&&(e=!1),e}(t)?(e=this.api.fetchDimensions)?[4,this.api.fetchDimensions()]:[3,2]:[3,3];case 1:e=i.sent(),i.label=2;case 2:t=e||this.currentState.dimensions,i.label=3;case 3:return[2,t]}}))}))},t.prototype.fetchItemsIfNeeded=function(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(i){switch(i.label){case 0:return function(t){var e=!0;return t&&t.length>0&&(e=!1),e}(t)?(e=!this.loopingItems&&this.api.fetchItems)?[4,this.api.fetchItems()]:[3,2]:[3,3];case 1:e=i.sent(),i.label=2;case 2:t=e||this.currentState.items,i.label=3;case 3:return[2,t]}}))}))},t.prototype.fetchStylesIfNeeded=function(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(i){switch(i.label){case 0:return function(t){var e=!0;return t&&Object.keys(t).length>0&&(e=!1),e}(t)?(e=this.api.fetchStyles)?[4,this.api.fetchStyles()]:[3,2]:[3,3];case 1:e=i.sent(),i.label=2;case 2:t=e||this.currentState.styles,i.label=3;case 3:return[2,t]}}))}))},t.prototype.updateLastParamsIfNeeded=function(t,e,i){var o=t.items,s=t.dimensions,n=t.styles;i&&(this.currentState.items=e.itemsChanged?o:this.currentState.items,this.currentState.dimensions=e.containerChanged?Object(r.a)({},s):this.currentState.dimensions,this.currentState.styles=e.stylesChanged?Object(r.a)({},n):this.currentState.styles)},t.prototype.eventsListenerWrapper=function(t,e){!this.internalEventHandler.apply(this,e)&&t.apply(void 0,e)},t.prototype.needMoreItems=function(t){this.getMoreItems(t)},t}())({id:"layoutingGallery"}),ue=function(t){function e(e){var i=t.call(this)||this;return i.domId=e.domId||"default-dom-id",i.state={blueprint:ae(i.domId)},ce.init({api:{isUsingCustomInfoElements:function(){return e.customHoverRenderer||e.customInfoRenderer||e.customSlideshowInfoRenderer}}}),i.onNewProps(e),i}return Object(r.c)(e,t),e.prototype.onNewProps=function(t){var e=this,i=t.styles,o=t.options,s=t.styleParams,n=t.eventsListener,l=Object(r.e)(t,["styles","options","styleParams","eventsListener"]),h=Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},a),o),i),s);this.galleryProps=Object(r.a)(Object(r.a)({},l),{styles:h,eventsListener:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"function"==typeof n&&n.apply(void 0,t)},domId:this.domId}),Qt(this.galleryProps)||ce.createBlueprint(this.galleryProps).then((function(t){e.setState({blueprint:t})})).catch((function(t){console.error("Could not breate a blueprints in layoutingIndex ",t)}))},e.prototype.UNSAFE_componentWillReceiveProps=function(t){this.onNewProps(t)},e.prototype.render=function(){var t=Qt(this.galleryProps)?qt:ne,e=this.state.blueprint;return e&&Object.keys(e).length>0?s.a.createElement(t,Object(r.a)({},this.galleryProps,e)):null},e.propTypes=Yt,e}(s.a.Component);function de(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(new(rt.bind.apply(rt,Object(r.f)([void 0],t)))).createLayout()}var pe=function(t){var e,i=(e={},["useLayoutFixer","disableInlineStyles","dontRemoveHiddenItems","disableSavedBlueprint","useCssTag","dontSetHighResImage","enableAfterMount","disableAfterHydrate","noRetries","removeCssOnMount","removeCssWithDelay"].forEach((function(t){return e[t]=function(t){return location.search.toLowerCase().indexOf(t.toLowerCase()+"=true")>=0}(t)})),e),o=function(t){if(!!(t.id&&t.width>0&&t.height>0))return t;var e=t.metadata||t.metaData;return Object(r.a)({id:t.itemId||t.photoId,width:e.width,height:e.height},t)},s=function(t,e){var r="#"+t.getAttribute("id")+" {";return Object.entries(e).forEach((function(t){var e=t[0],i=t[1];r+=e+": "+i+" !important;"})),r+="}",i.useLayoutFixer&&console.log("[LAYOUT FIXER] created css",r),r},n=function(t,e){t&&e&&Object.keys(e).forEach((function(i){var r=e[i];void 0!==r?t.style[i]=r:t.style.removeProperty(i)}))},a=function(t,e){return{width:t.width+"px",height:t.height+(e.externalInfoHeight||0)+"px",margin:0}},l=function(t,e){var i=a(t,e),o=e.isRTL;return Object(r.a)({opacity:1,display:"block",top:t.offset.top+"px",left:o?"auto":t.offset.left+"px",right:o?t.offset.left+"px":"auto"},i)};if("undefined"!=typeof window)try{i.useLayoutFixer&&console.log("[LAYOUT FIXER] Start (script is running)"),function(){i.useLayoutFixer&&console.log("[LAYOUT FIXER] createWebComponent");var e=function(e){function h(){var t=e.call(this)||this;return t.retries=3,t.connectedCallback=t.connectedCallback.bind(t),window.layoutFixer||(window.layoutFixer={}),t}return Object(r.c)(h,e),h.prototype.retry=function(){this.retries>0?(this.retries--,i.useLayoutFixer&&console.log("[LAYOUT FIXER] retrying...",this.retries),window.requestAnimationFrame(this.connectedCallback)):i.useLayoutFixer&&console.log("[LAYOUT FIXER] reached retries limit")},h.prototype.connectedCallback=function(){var e=this;if(this.domId=this.getAttribute("domId"),window.layoutFixer[this.domId]){if(window.layoutFixer[this.domId].done)return;if(window.layoutFixer[this.domId].mounted&&!i.enableAfterMount)return;if(window.layoutFixer[this.domId].hydrated&&i.disableAfterHydrate)return}else window.layoutFixer[this.domId]={disableSavedBlueprint:i.disableSavedBlueprint};if(i.useLayoutFixer&&console.log("[LAYOUT FIXER] connectedCallback"),this.parentId="pro-gallery-"+this.domId,this.parent=document.getElementById(this.parentId),!this.parent)return i.useLayoutFixer&&console.log("[LAYOUT FIXER] no parent found",this.parent),void(i.noRetries||this.retry());i.useLayoutFixer&&console.log("[LAYOUT FIXER] parent found",this.parent),this.useLayouter=!0,this.items=JSON.parse(this.getAttribute("items")).map(o),this.items&&this.items.length>0?window.layoutFixer[this.domId].items=this.items:this.useLayouter=!1,this.styleParams=JSON.parse(this.getAttribute("styles")),this.styleParams&&"object"==typeof this.styleParams?window.layoutFixer[this.domId].styles=this.styleParams:this.useLayouter=!1;var r,h,c,u,d=this.parent&&this.parent.getBoundingClientRect(),p=d.width,m=d.height,g=d.top;if(this.measures={top:g,width:p,height:m,scrollBase:g},window.layoutFixer[this.domId].container=this.measures,i.useLayoutFixer&&console.log("[LAYOUT FIXER] measured container",this.measures),this.measures&&this.useLayouter&&(this.layout=de({items:this.items,styleParams:this.styleParams,container:this.measures}),i.useLayoutFixer&&console.log("[LAYOUT FIXER] created layout",this.layout),window.layoutFixer[this.domId].structure=this.layout),this.useLayouter&&this.layout&&this.layout.items&&this.layout.items.length>0){var y=function(t,e,i){var r=i.height,o=i.scrollBase,s=i.width,n=e.oneRow,a=e.enableInfiniteScroll,l=t;try{var h=window.innerHeight,c=!n&&a?1/0:o+r,u=h,d=Math.min(c,u)-o;(l=d<0?[]:n?t.filter((function(t){return t.left<=s+20})):t.filter((function(t){return t.offset.top<d}))).length<2&&l.length<t.length&&(l=t.slice(0,2))}catch(p){console.error("Could not calculate visible items, returning original items",p),l=t}return l.length}(this.layout.items,this.styleParams,this.measures),f=this.parent.querySelectorAll(".gallery-item-container"),b=this.parent.querySelectorAll(".gallery-item-wrapper"),I=this.parent.querySelectorAll("[data-hook=gallery-item-image-img]");if(b.length>0&&f.length>0){if(i.dontSetHighResImage||"function"!=typeof t||I.forEach((function(r){var o=parseInt(r.getAttribute("data-idx"));if(!(o>=y)){var s=r.getAttribute("data-src");if(s&&"string"==typeof s){var a=t(s,e.layout.items[o].width,e.layout.items[o].height);a&&(!o&&i.useLayoutFixer&&console.log("[LAYOUT FIXER] set first Image src Style",o,a),r.setAttribute("src",a),n(r,{opacity:1}))}}})),i.useCssTag){var v="";f.forEach((function(t,r){r>=y||(!r&&i.useLayoutFixer&&console.log("[LAYOUT FIXER] set first Container CSS",r,l(e.layout.items[r],e.styleParams)),v+=s(t,l(e.layout.items[r],e.styleParams)))})),b.forEach((function(t,r){r>=y||(!r&&i.useLayoutFixer&&console.log("[LAYOUT FIXER] set first Wrapper CSS",r,a(e.layout.items[r],e.styleParams)),v+=s(t,a(e.layout.items[r],e.styleParams)))})),r=this.parent,h=v,c=this.domId,u=document.getElementById("layout-fixer-style-"+c),r.appendChild(u),u.appendChild(document.createTextNode(h))}i.avoidInlineStyles||(f.forEach((function(t,r){r>=y?(i.useLayoutFixer&&console.log("[LAYOUT FIXER] removed element from dom",r,y),i.dontRemoveHiddenItems||t.parentElement.remove()):(!r&&i.useLayoutFixer&&console.log("[LAYOUT FIXER] set first Container Style",r,l(e.layout.items[r],e.styleParams)),n(t,l(e.layout.items[r],e.styleParams)))})),b.forEach((function(t,r){r>=y||(!r&&i.useLayoutFixer&&console.log("[LAYOUT FIXER] set first Wrapper Style",r,a(e.layout.items[r],e.styleParams)),n(t,a(e.layout.items[r],e.styleParams)))}))),window.layoutFixer[this.domId].done=Date.now(),window.layoutFixer[this.domId].onMount=function(){i.useLayoutFixer&&console.log("[LAYOUT FIXER] onMount"),function(t,e,i,r){if(i){var o=document.getElementById("layout-fixer-css-"+e);t.removeChild(o)}else r&&setTimeout((function(){var i=document.getElementById("layout-fixer-css-"+e);t.removeChild(i)}),5e3)}(e.parent,e.domId,i("removeCssOnMount"),i("removeCssWithDelay"))},i.useLayoutFixer&&console.log("[LAYOUT FIXER] Done")}else i.useLayoutFixer&&console.log("[LAYOUT FIXER] Cannot find elements",f,b,this.parent),i.noRetries||this.retry()}},h}(HTMLElement);window.layoutFixer||window.customElements.define("layout-fixer",e)}()}catch(h){console.error("Cannot create layout fixer",h)}}},600:function(t,e,i){"use strict";var r=i(153),o=function(){return{}},s=2560,n=1440,a={y:0,x:0,width:s,height:n,innerWidth:s,innerHeight:n,outerWidth:s,outerHeight:n,clientWidth:s,clientHeight:n},l=Object(r.a)(Object(r.a)({},a),{getBoundingClientRect:function(){return a}}),h=Object(r.a)({addEventListener:o,removeEventListener:o,createEvent:o,getElementById:function(){return l},getElementsByClassName:function(){return[l]},getElementsByTagName:function(){return[l]},querySelector:function(){return[l]},documentElement:l,activeElement:l,style:a},a);h.body=h;var c=Object(r.a)({isMock:!0,isSSR:!0,orientation:0,devicePixelRatio:1,scrollTop:0,addEventListener:o,removeEventListener:o,createEvent:o,CustomEvent:o,screen:a,open:o,petri:{},search:{},location:{href:"http://mock.wix.com/",protocol:"http:",host:"mock.wix.com",hostname:"mock.wix.com",port:"",pathname:"/",search:"",hash:""},postMessage:o,requestAnimationFrame:o,dispatchEvent:o,document:h,getComputedStyle:o,localStorage:{},frames:[]},a);c.parent=c;var u=c,d=(new(function(){function t(){this.reset()}return t.prototype.windowIsAvailable=function(){try{return"undefined"!=typeof window}catch(t){return!1}},t.prototype.reset=function(){this.isMock=!this.windowIsAvailable(),this.window=this.isMock?u:window,this.isMock&&(this.window.mockInstanceId=Math.floor(1e5*Math.random()))},t}())).window;e.a=d},787:function(t,e,i){"use strict";i.r(e),i.d(e,"pick",(function(){return o})),i.d(e,"throttle",(function(){return s})),i.d(e,"debounce",(function(){return n})),i.d(e,"get",(function(){return a})),i.d(e,"isFunction",(function(){return l})),i.d(e,"isEqual",(function(){return h})),i.d(e,"isNumber",(function(){return c}));var r=void 0,o=function(t,e){var i={};return Object.entries(t||{}).forEach((function(t){var r=t[0],o=t[1];e.indexOf(r)>=0&&(i[r]=o)})),i},s=function(t,e){var i=!1,o=!1;return function(){for(var s=[],n=0;n<arguments.length;n++)s[n]=arguments[n];i?o=!0:(o=!1,t.apply(r,s),i=!0,setTimeout((function(){o&&t.apply(r,s),i=!1}),e))}},n=function(t,e){var i;return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];clearTimeout(i),i=setTimeout((function(){t.apply(r,o)}),e)}},a=function(t,e,i){var r=String.prototype.split.call(e,/[,[\].]+?/).filter(Boolean).reduce((function(t,e){return null!=t?t[e]:t}),t);return void 0===r||r===t?i:r},l=function(t){return"function"==typeof t},h=function(t,e){try{return JSON.stringify(t)===JSON.stringify(e)}catch(i){return!1}},c=function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},788:function(t,e,i){"use strict";var r=function(){function t(){this.styles={},this.container={},this.domId="",this._cache={}}return t.prototype.getOrPutInCache=function(t,e){return this._cache[t]||(this._cache[t]=e()),this._cache[t]},t.prototype.dumpCache=function(){this._cache={}},t.prototype.updateParams=function(t){var e=t.styles,i=t.container,r=t.domId;this.dumpCache(),this.domId=r||this.domId,this.styles=e||this.styles,this.container=i||this.container},t.prototype.getGalleryDimensions=function(){var t=this;return this.getOrPutInCache("galleryDimensions",(function(){var e={galleryWidth:Math.ceil(t.getGalleryWidth()),galleryHeight:Math.ceil(t.getGalleryHeight()),scrollBase:t.container.scrollBase?Math.ceil(t.container.scrollBase):0,height:Math.ceil(t.container.height),width:Math.ceil(t.container.width)};if(t.container.externalScrollBase&&(e.scrollBase+=t.container.externalScrollBase),t.styles.hasThumbnails){var i=t.styles.thumbnailSize+t.styles.galleryMargin+3*t.styles.thumbnailSpacings;switch(t.styles.galleryThumbnailsAlignment){case"top":case"bottom":e.galleryHeight-=i;break;case"left":case"right":e.galleryWidth-=i}}else t.styles.isSlideshow&&(e.galleryHeight-=t.styles.slideshowInfoSize);return e}))},t.prototype.getGalleryWidth=function(){var t=this;return this.getOrPutInCache("galleryWidth",(function(){var e=Math.floor(t.container.width)+2*t.getDimensionFix();return t.styles.arrowsPosition&&t.styles.oneRow&&(e-=2*(t.styles.arrowsSize+40+t.styles.imageMargin/2)),e}))},t.prototype.getGalleryHeight=function(){var t=this;return this.getOrPutInCache("galleryHeight",(function(){return Math.floor((t.container.height>0?t.container.height:0)+(t.styles.oneRow?t.getDimensionFix():0))}))},t.prototype.getDimensionFix=function(){var t=this;return this.getOrPutInCache("dimensionFix",(function(){return Number(t.styles.imageMargin/2)-Number(t.styles.galleryMargin)}))},t.prototype.getGalleryRatio=function(){var t=this;return this.getOrPutInCache("galleryRatio",(function(){var e=t.getGalleryDimensions();return e.galleryWidth/e.galleryHeight}))},t}();e.a=new r},942:function(t,e,i){"use strict";var r={ON_GALLERY:0,OUTSIDE_GALLERY:1},o={CROP:"fill",FIT:"fit",MIN:"min",MAX:"max"},s={SIDE_BAR_WIDTH:430,STORE_SIDE_BAR_WIDTH:560,MOBILE_PADDING:120,NO_PADDING:0},n={APP_LOADED:"APP_LOADED",ITEM_CREATED:"ITEM_CREATED",ITEM_LOADED:"ITEM_LOADED",GALLERY_CHANGE:"GALLERY_CHANGE",ITEM_ACTION_TRIGGERED:"ITEM_ACTION_TRIGGERED",CURRENT_ITEM_CHANGED:"CURRENT_ITEM_CHANGED",NEED_MORE_ITEMS:"NEED_MORE_ITEMS",VIDEO_ENDED:"VIDEO_ENDED",VIDEO_ERROR:"VIDEO_ERROR",VIDEO_PLAYED:"VIDEO_PLAYED",HOVER_SET:"HOVER_SET",LOAD_MORE_CLICKED:"LOAD_MORE_CLICKED",SHARE_BUTTON_CLICKED:"SHARE_BUTTON_CLICKED",TEXT_DOWNLOAD_BUTTON_CLICKED:"TEXT_DOWNLOAD_BUTTON_CLICKED",LOVE_BUTTON_CLICKED:"LOVE_BUTTON_CLICKED",ITEM_CLICKED:"ITEM_CLICKED",DOWNLOAD_BUTTON_CLICKED:"DOWNLOAD_BUTTON_CLICKED",BUY_NOW_CLICKED:"BUY_NOW_CLICKED",THUMBNAIL_CLICKED:"THUMBNAIL_CLICKED"},a={NO_EFFECT:"NO_EFFECT",EXPAND:"EXPAND",FADE_IN:"FADE_IN",ZOOM:"ZOOM"},l={SIDE:"SIDE",BOTTOM:"BOTTOM"},h=i(548),c=i(549),u={LEFT:"left",RIGHT:"right",CENTER:"center"},d={FIT_TO_SCREEN:0,SET_ITEMS_PER_ROW:1},p={1:"1","2v":"2v","2h":"2h","3r":"3r","3b":"3b","3t":"3t","3l":"3l","3v":"3v","3h":"3h"},m={NO_EFFECT:"NO_EFFECT",ZOOM_IN:"ZOOM_IN",BLUR:"BLUR",GRAYSCALE:"GRAYSCALE",SHRINK:"SHRINK",INVERT:"INVERT",COLOR_IN:"COLOR_IN",DARKENED:"DARKENED"},g=i(462),y=i(550),f={COLUMNS:!0,ROWS:!1},b={EXPAND:"expand",LINK:"link",NOTHING:"nothing",FULLSCREEN:"fullscreen"},I=i(207),v={LEFT_TO_RIGHT:!1,RIGHT_TO_LEFT:!0},S=i(551),O=i(552),w={PARTIAL:"partial",ALL:"all"},E={EXPAND:"EXPAND",FADE:"FADE",CAROUSEL:"CAROUSEL",CROSSFADE:"CROSSFADE"},C={NO_EFFECT:"NO_EFFECT",FADE_IN:"FADE_IN",EXPAND:"EXPAND",SLIDE_UP:"SLIDE_UP",SLIDE_RIGHT:"SLIDE_RIGHT"},x=i(255),P=i(553),L={NO_EFFECT:"NO_EFFECT",FADE_IN:"FADE_IN",GRAYSCALE:"GRAYSCALE",SLIDE_UP:"SLIDE_UP",EXPAND:"EXPAND",SHRINK:"SHRINK",ZOOM_OUT:"ZOOM_OUT",ONE_COLOR:"ONE_COLOR",MAIN_COLOR:"MAIN_COLOR",BLUR:"BLUR"},T=i(554),R=i(224),M={FACEBOOK:"facebook",TWITTER:"twitter",PINTEREST:"pinterest",EMAIL:"email",TUMBLR:"tumblr"},A=i(555),D={BOTTOM:"bottom",LEFT:"left",TOP:"top",RIGHT:"right"},j=i(556),k={HOVER:"hover",AUTO:"auto",ON_CLICK:"onClick"},N=i(557),_={NO_EFFECT:"NO_EFFECT",SLIDE:"SLIDE"};e.a={arrowsPosition:r,cubeType:o,dimensions:s,events:n,expandAnimations:a,expandInfoPositions:l,formFactor:h.a,gallerySizeType:c.a,galleryTextAlign:u,gridStyle:d,groupTypes:p,imageHoverAnimations:m,infoBehaviourOnHover:g.a,infoType:y.a,isVertical:f,itemClick:b,layout:I.a,layoutDirection:v,loadingMode:S.a,loadingWithColorMode:O.a,loadMoreAmount:w,mobileSwipeAnimations:E,overlayAnimations:C,placements:x.a,hasAbovePlacement:x.b,hasBelowPlacement:x.c,hasHoverPlacement:x.e,hasRightPlacement:x.g,hasLeftPlacement:x.f,hasVerticalPlacement:x.h,hasHorizontalPlacement:x.d,isAbovePlacement:x.i,isBelowPlacement:x.j,isHoverPlacement:x.l,isRightPlacement:x.n,isLeftPlacement:x.m,isVerticalPlacement:x.o,isHorizontalPlacement:x.k,resizeMethods:P.a,scrollAnimations:L,slideAnimations:T.a,scrollDirection:R.a,socialNetworks:M,textBoxWidthCalculationOptions:A.a,thumbnailsAlignment:D,urlSizes:j.a,urlTypes:j.b,videoPlay:k,viewMode:N.a,watermarkDock:{LEFT_TOP:{top:0,left:0,transform:"translate3d(0,0,0)"},MIDDLE_TOP:{top:0,left:"50%",transform:"translate3d(-50%,0,0)"},RIGHT_TOP:{top:0,left:"auto",right:0,transform:"translate3d(0,0,0)"},LEFT_MIDDLE:{top:"50%",left:0,transform:"translate3d(0,-50%,0)",margin:0},MIDDLE:{top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",margin:0},RIGHT_MIDDLE:{top:"50%",left:"auto",right:0,transform:"translate3d(0,-50%,0)",margin:0},LEFT_DOWN:{top:"auto",bottom:0,left:0,transform:"translate3d(0,0,0)"},MIDDLE_DOWN:{top:"auto",left:"50%",bottom:0,transform:"translate3d(-50%,0,0)"},RIGHT_DOWN:{top:"auto",left:"auto",right:0,bottom:0,transform:"translate3d(0,0,0)"}},imagePlacementAnimations:_}}}]);