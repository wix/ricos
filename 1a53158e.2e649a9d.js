(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{112:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return X})),n.d(t,"metadata",(function(){return Q})),n.d(t,"rightToc",(function(){return Z})),n.d(t,"default",(function(){return te}));var i,r,o=n(3),a=n(7),l=n(0),c=n.n(l),s=n(126),u=n(138),p=n(129),d=n(124),m=n(123),h=n(606),g=n(302),f=function(){return(f=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},b="wix-draft-plugin-link-preview",v=function(e,t){return function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},t.apply(this,arguments)}e.exports=t}(t={exports:{}}),t.exports}(),y=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t},w={linkPreview:"_3Hljv",linkPreviewImage:"_2nFIH",linkPreviewInfo:"_34OPR",linkPreviewTitle:"_2iYNB",ellipsis:"ayKpa",linkPreviewDescription:"_1Drso",linkPreviewUrl:"_11ZHV"},k=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t},O=function(){return(O=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},x=(function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},t.apply(this,arguments)}e.exports=t}(i={exports:{}}),i.exports),j="\n  <head>\n    <style type=\"text/css\">\n      iframe[class|='instagram'],\n      blockquote[class|='instagram'] {\n        /* fallback script for ios below */\n        min-width: 0 !important;\n        width: calc(100vw - 2px);\n      }\n\n      body {\n        margin: 0;\n        max-width: calc(100vw);\n        display: inline-block;\n        float: left;\n        width: 100%;\n        box-sizing: border-box;\n      }\n      body > iframe {\n        margin: 0 !important;\n        width: 100% !important;\n      }\n      body::before,\n      body::after {\n        content: '.';\n        height: 0;\n        margin: 0;\n        overflow: hidden;\n        visibility: hidden;\n        display: block;\n        clear: both;\n      }\n    </style>\n    <script>\n      var isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n      (function fixInstagramWidth() {\n        // This is a fallback for the styles above. Because inline styles can't be overridden in ios.\n        var callback = function() {\n          try {\n            if (document.body.firstChild.className.indexOf('instagram') >= 0) {\n              document.body.firstChild.style.minWidth = '0';\n              document.body.firstChild.style.width = 'calc(100vw - 2px)';\n            }\n          } catch (e) {}\n        };\n\n        var observer = new MutationObserver(callback);\n\n        observer.observe(document, {\n          childList: true,\n          subtree: true,\n        });\n      })();\n\n      function initSendHeight(id) {\n        /**\n         * Handle image load by triggering a resize\n         */\n        function imageLoaded(event) {\n          if (!event || event.type !== 'load') {\n            return;\n          }\n\n          var img = event.srcElement;\n          // Remove image from loading stack\n          var imageIndex = images.indexOf(img);\n          if (imageIndex !== -1) {\n            images.splice(imageIndex, 1);\n          }\n\n          handleResize();\n        }\n\n        /**\n         * Add 'load' event listener and store reference to image\n         * @param {elm} img Image being loaded\n         */\n        var images = [];\n        function addImage(img) {\n          if (images.indexOf(img) === -1) {\n            img.addEventListener('load', imageLoaded);\n            images.push(img);\n          }\n        }\n\n        /**\n         * Filter out images in the DOM that haven't loaded yet and add listener\n         */\n        function addImageLoadListeners() {\n          var imgs = document.querySelectorAll('img');\n          for (var i = 0; i < imgs.length; i++) {\n            var image = imgs[i];\n            // Do nothing if image is already loaded\n            if (\n              image.nodeName === 'IMG' &&\n              image.src &&\n              image.complete === false &&\n              image.readyState !== 4\n            ) {\n              addImage(image);\n            }\n          }\n        }\n\n        function getHeight() {\n          var height = parseInt(document.body.offsetHeight, 10);\n          var styles = document.defaultView.getComputedStyle(document.body);\n          height += parseInt(styles.getPropertyValue('margin-bottom'), 10);\n          height += parseInt(styles.getPropertyValue('margin-top'), 10);\n          return height;\n        }\n\n        function handleResize() {\n          multipleDelayedSendHeight();\n        }\n\n        function handleIframeAdded(iframe) {\n          if (isIOS) {\n            iframe.onload = function() {\n              var src = iframe.src;              \n              if (src.indexOf('reloadMe') > -1) {\n                return;\n              }\n              iframe.src = src.replace('?', '?reloadMe=1&');\n            };\n          }\n        }\n\n        var timerId;\n        function multipleDelayedSendHeight() {\n          sendHeight();\n          clearTimeout(timerId);\n          let delay = 100;\n          timerId = setTimeout(function request() {\n            sendHeight();\n            delay *= 2;\n            if (delay < 20000) {\n              timerId = setTimeout(request, delay);\n            }\n          }, delay);\n        }\n\n        function sendHeight() {\n          var height = getHeight();\n          parent.postMessage({ type: 'htmlPlugin:heightResize', id: id, height: height }, '*');\n        }\n\n        function setupMutationObserver() {\n          var target = document.querySelector('body');\n          var observer = new MutationObserver(function(mutations) {\n            addImageLoadListeners();\n            handleResize();\n            mutations.forEach(function(mutation) {\n              mutation.addedNodes.forEach(function(el) {\n                if (el.nodeName === 'IFRAME') {\n                  handleIframeAdded(el);\n                }\n              });\n            });\n          });\n\n          var config = {\n            attributes: true,\n            childList: true,\n            characterData: true,\n            subtree: true,\n          };\n\n          observer.observe(target, config);\n        }\n\n        window.addEventListener('resize', handleResize); //this handles width change\n        setupMutationObserver();\n        handleResize();\n      }\n\n      window.addEventListener('message', function(event) {\n        if (event.data.type !== 'htmlPlugin:updateContent') {\n          return;\n        }\n\n        var content = [\n          '<!DOCTYPE html>',\n          '<html>',\n          '<head>' + document.head.innerHTML + '</head>',\n          '<body>' + event.data.content + '</body>',\n          '</html>',\n        ].join('');\n\n        document.open('text/html', 'replace');\n        document.write(content);\n        document.close();\n        initSendHeight(event.data.id);\n      });\n    <\/script>\n  </head>\n\n  <body></body>\n",E="undefined"==typeof window,P=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={shouldRender:!1},t.id=Math.random().toString(36).substr(2,9),t.writeToIframe=function(e){var n;t.iframe=e;var i=null==e||null===(n=e.contentWindow)||void 0===n?void 0:n.document;i&&(i.open("text/html","replace"),i.write(j),i.close())},t.updateIframeContent=function(e){var n;t.shouldIgnoreLoad=!0,null===(n=t.iframe)||void 0===n||n.contentWindow.postMessage({type:"htmlPlugin:updateContent",id:t.id,content:e},"*")},t.handleIframeMessage=function(e){var n=e.data,i=n.type,r=n.id,o=n.height;"htmlPlugin:heightResize"===i&&r===t.id&&t.props.onHeightChange(o)},t.handleIframeLoad=function(){!t.shouldIgnoreLoad&&t.updateIframeContent(t.props.html)},t.setIframe=function(e){t.iframe=e},t}k(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setState({shouldRender:!0}),!E&&window.addEventListener("message",this.handleIframeMessage)},n.componentWillUnmount=function(){!E&&window.removeEventListener("message",this.handleIframeMessage)},n.componentWillReceiveProps=function(e){this.props.html!==e.html&&this.updateIframeContent(e.html)},n.render=function(){var e=this.props.iframeSandboxDomain,t={className:"_2GF6I",style:{backgroundColor:"transparent"},onLoad:this.handleIframeLoad};if(e){var n=e.replace(/\/$/,"");t.src=n+"/html/db9376e69cfa487ea0fa0b912ae51a4f_v1.html",t.ref=this.setIframe}else t.ref=this.writeToIframe;return this.state.shouldRender?c.a.createElement("iframe",x({title:"remote content"},t)):null},t}(l.Component),T=function(e){var t=e.iframeRef,n=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["iframeRef"]);return c.a.createElement("iframe",O({ref:t,className:"_2GF6I",title:"remote content",style:{backgroundColor:"transparent"}},n))},I=function(e){return c.a.createElement(T,O({},e,{sandbox:"allow-presentation allow-forms allow-same-origin allow-scripts"}))},L={htmlComponent:"hnvPV",htmlComponent_placeholder:"_2hG3Z"},S=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={siteDomain:void 0},t.setHeight=function(e){var n;e!==t.state.iframeHeight&&(t.setState({iframeHeight:e}),null===(n=t.props.store)||void 0===n||n.update("componentData",{config:{height:e}}))},t}k(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.componentData.config,n=e.settings,i=void 0===n?{}:n,r=i.width,o=i.height,a=i.siteDomain;t.width||(r?t.width=r:this.element?t.width=this.element.getBoundingClientRect().width:t.width=350),t.height||(t.height=o||550),this.setState({siteDomain:a})},t.getDerivedStateFromProps=function(e,t){var n=e.componentData;if("html"===n.srcType){var i=n&&n.src,r=function(e){if(e){var t=/http.+com/gm.exec(e);return t?t[0]:t}}(t.siteDomain);if(r&&i&&i.includes&&i.includes("adsbygoogle")){var o='<ins class="adsbygoogle"\n\tdata-page-url="'+r+'"';i=i.replace(new RegExp('<ins class="adsbygoogle"',"g"),o)}return{html:i}}},n.render=function(){var e=this,t=this.state.html,n=this.props,i=n.iframeSandboxDomain,r=n.theme,o=n.componentData,a=n.settings,l=(a=void 0===a?{}:a).width,s=a.height;this.styles=this.styles||Object(m.O)({styles:L,theme:r}),Object(m.V)(o,g);var u=o.src,p=o.srcType,d=o.config,h=(d=void 0===d?{}:d).width,f=d.height,b={width:this.props.isMobile?"auto":h||l||350,height:f||this.state.iframeHeight||s||550,maxHeight:this.state.iframeHeight,maxWidth:"100%"};return c.a.createElement("div",{className:this.styles.htmlComponent,ref:function(t){return e.element=t},style:b,"data-hook":"HtmlComponent"},"html"===p&&u&&c.a.createElement(P,{iframeSandboxDomain:i,key:"html",tabIndex:0,html:t,onHeightChange:this.setHeight}),"url"===p&&Object(m.N)(u)&&c.a.createElement(I,{key:"url",tabIndex:0,src:Object(m.Q)(u)}),!u&&!Object(m.N)(u)&&c.a.createElement("div",{className:this.styles.htmlComponent_placeholder}))},t}(l.Component),C=function(e){function t(t){var n;(n=e.call(this,t)||this).getUrlForDisplay=function(e){return e.replace(/^https?:\/\//,"")};var i=t.componentData,r=t.theme;return Object(m.V)(i,h),n.state={},n.styles=n.styles||Object(m.O)({styles:w,theme:r}),n}y(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){Object(d.isEqual)(e.componentData,this.props.componentData)||Object(m.V)(e.componentData,h)},n.componentDidMount=function(){var e;Object(m.V)(h,this.props.componentData),this.setState({imageHeight:null===(e=this.image)||void 0===e?void 0:e.offsetHeight})},n.render=function(){var e=this,t=this.props,n=t.componentData,i=t.theme,r=t.isMobile,o=t.settings,a=t.iframeSandboxDomain,l=o.enableEmbed,s=void 0===l||l,u=this.state.imageHeight,p=n.title,d=n.description,m=n.thumbnail_url,h=n.html,g=n.provider_url,f=n.config.link.url,b=this.styles,y=b.linkPreview,w=b.linkPreviewUrl,k=b.linkPreviewInfo,O=b.linkPreviewTitle,x=b.linkPreviewImage,j=b.linkPreviewDescription;if(s&&h){var E={componentData:v({},n,{srcType:"html",src:unescape(h),config:{}}),settings:o,theme:i,isMobile:r,iframeSandboxDomain:a};return c.a.createElement(S,E)}return c.a.createElement("figure",{className:y,"data-hook":"linkPreviewViewer"},c.a.createElement("div",{style:{width:r?"110px":u,height:u,backgroundImage:"url("+m+")"},className:x,alt:p,ref:function(t){return e.image=t}}),c.a.createElement("section",{className:k},c.a.createElement("div",{className:w},this.getUrlForDisplay(g||f)),c.a.createElement("figcaption",{className:O},p),d&&c.a.createElement("div",{className:j},d)))},t}(l.Component),_=function(e){var t=e.blockProps,n=e.settings,i=e.theme,r=e.isMobile,o=e.iframeSandboxDomain;return c.a.createElement(C,{componentData:t.getData(),settings:n,theme:i,isMobile:r,iframeSandboxDomain:o})},M={config:{alignment:"center",size:"content",link:{target:"_blank",rel:"noopener"}}},D=function(e){var t=Object(p.Y)(e),n=t.getKey(),i=N(e,t),r=Object(p.Bb)(e,t.getKey()),o=p.D.insertText(r.getCurrentContent(),r.getSelection(),i);t=o.getBlockForKey(t.getKey());var a=o.getBlockAfter(t.getKey());r=p.p.push(r,o,"change-block-type");var l=R(r,n,i),c=new p.I({anchorKey:a.getKey(),anchorOffset:0,focusKey:a.getKey(),focusOffset:0});return p.p.forceSelection(l,c)},N=function(e,t){var n,i,r,o=t.getEntityAt(0),a=null===(n=e.getCurrentContent().getEntity(o))||void 0===n?void 0:n.getData();return null===(r=null===(i=null==a?void 0:a.config)||void 0===i?void 0:i.link)||void 0===r?void 0:r.url},R=function(e,t,n){return Object(p.sb)(p.p.push(e,e.getCurrentContent(),"change-block-type"),t,0,n.length,{url:n})},A=function(e){return c.a.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:"19",height:"19",viewBox:"0 0 19 19"},e),c.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.26 5.96L4.15 4.844a.496.496 0 0 1 .699-.7l1.135 1.14C7.04 4.427 8.211 4 9.5 4c2.667 0 4.833 1.833 6.5 5.5-.672 1.478-1.425 2.658-2.26 3.54l1.114 1.117a.496.496 0 0 1-.7.7l-1.138-1.141C11.96 14.572 10.789 15 9.5 15 6.833 15 4.667 13.167 3 9.5c.672-1.478 1.425-2.658 2.26-3.54zm2.857 1.457a2.5 2.5 0 0 1 3.466 3.466l1.452 1.452c.667-.71 1.287-1.651 1.86-2.835C13.412 6.44 11.621 5 9.5 5c-1.008 0-1.942.326-2.804.996l1.421 1.421zM4.105 9.5C5.588 12.56 7.379 14 9.5 14c1.008 0 1.942-.326 2.804-.996l-1.421-1.421a2.5 2.5 0 0 1-3.466-3.466L5.965 6.665c-.667.71-1.287 1.651-1.86 2.835zm4.043-.652a1.5 1.5 0 0 0 2.003 2.003L8.149 8.849zM11 9.5a1.5 1.5 0 0 0-2.152-1.352l2.004 2.004c.095-.198.148-.419.148-.652z"}))},B=function(e){return c.a.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:"19",height:"19",viewBox:"0 0 19 19"},e),c.a.createElement("path",{fillRule:"evenodd",d:"M15.24 5.201c.64-.39 1.12-1.002 1.35-1.723-.603.363-1.262.619-1.95.757-.865-.933-2.204-1.237-3.38-.766-1.175.47-1.948 1.62-1.95 2.9.001.239.028.476.08.71-2.474-.127-4.778-1.311-6.34-3.26-.277.474-.422 1.016-.42 1.568-.088 1.004.339 1.985 1.13 2.596-.554-.08-1.1-.211-1.63-.39v.04c.106 1.528 1.222 2.787 2.71 3.058-.223.072-.456.11-.69.109-.175 0-.35-.018-.52-.056.413 1.274 1.577 2.144 2.9 2.166-1.085.869-2.428 1.34-3.81 1.335-.24 0-.481-.014-.72-.044 2.695 1.75 6.117 1.87 8.925.313 2.808-1.556 4.555-4.542 4.555-7.785 0-.135-.01-.27-.01-.406.6-.44 1.119-.987 1.53-1.612-.559.252-1.152.417-1.76.49z"}))},H=function(e){return c.a.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:"19",height:"19",viewBox:"0 0 19 19"},e),c.a.createElement("g",{fill:"none",fillRule:"evenodd"},c.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M13 2c2.21 0 4 1.79 4 4v7c0 2.21-1.79 4-4 4H6c-2.21 0-4-1.79-4-4V6c0-2.21 1.79-4 4-4h7zm0 1H6C4.343 3 3 4.343 3 6v7c0 1.657 1.343 3 3 3h7c1.657 0 3-1.343 3-3V6c0-1.657-1.343-3-3-3z"}),c.a.createElement("circle",{cx:"9.5",cy:"9.5",r:"3",stroke:"currentColor"}),c.a.createElement("path",{fill:"currentColor",d:"M14.4 5.5c0 .497-.403.9-.9.9s-.9-.403-.9-.9.403-.9.9-.9.9.403.9.9"})))},V=function(e){return c.a.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:"19",height:"19",viewBox:"0 0 19 19"},e),c.a.createElement("path",{fillRule:"evenodd",d:"M9.5 2C5.358 2 2 5.344 2 9.47c0 3.165 1.975 5.87 4.765 6.958-.067-.59-.123-1.5.025-2.145.136-.584.877-3.713.877-3.713s-.223-.45-.223-1.107c0-1.039.605-1.813 1.358-1.813.642 0 .951.48.951 1.05 0 .64-.407 1.6-.623 2.49-.18.744.376 1.353 1.11 1.353 1.334 0 2.359-1.402 2.359-3.418 0-1.789-1.29-3.037-3.136-3.037-2.136 0-3.389 1.592-3.389 3.24 0 .64.247 1.328.556 1.703.061.074.068.141.049.215-.056.234-.185.744-.21.848-.03.136-.111.166-.253.099-.938-.437-1.525-1.795-1.525-2.896 0-2.354 1.716-4.518 4.957-4.518 2.599 0 4.624 1.844 4.624 4.315 0 2.576-1.63 4.648-3.89 4.648-.759 0-1.475-.394-1.715-.86l-.47 1.776c-.166.651-.623 1.463-.932 1.96.704.216 1.445.333 2.223.333 4.142 0 7.5-3.344 7.5-7.47C17 5.345 13.642 2 9.5 2z"}))},z=function(e){return c.a.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:"19",height:"19",viewBox:"0 0 19 19"},e),c.a.createElement("path",{fillRule:"evenodd",d:"M11.887 1.67c.235 2.08 1.363 3.32 3.324 3.451V7.46c-1.137.114-2.132-.268-3.29-.99v4.375c0 5.556-5.886 7.293-8.253 3.31-1.52-2.563-.59-7.06 4.289-7.24V9.38c-.372.061-.769.158-1.132.286-1.085.378-1.7 1.085-1.53 2.334.33 2.391 4.593 3.099 4.238-1.574V1.675h2.354V1.67z"}))},K=function(e){return c.a.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:"19",height:"19",viewBox:"0 0 19 19"},e),c.a.createElement("path",{fillRule:"evenodd",d:"M17 9.5C17 5.358 13.642 2 9.5 2 5.358 2 2 5.358 2 9.5c0 3.743 2.743 6.846 6.328 7.409v-5.241H6.424V9.5h1.904V7.848c0-1.88 1.12-2.918 2.833-2.918.82 0 1.679.146 1.679.146v1.846h-.946c-.932 0-1.222.578-1.222 1.171V9.5h2.08l-.333 2.168h-1.747v5.24C14.257 16.347 17 13.244 17 9.5"}))},U=function(e){return c.a.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:"19",height:"19",viewBox:"0 0 19 19"},e),c.a.createElement("path",{fillRule:"evenodd",d:"M9.783 3.126c1.117.006 5.217.049 6.359.357.731.196 1.307.776 1.503 1.512C18 6.33 18 9.114 18 9.114s0 2.784-.355 4.118c-.196.736-.772 1.316-1.503 1.513-1.215.327-5.784.355-6.537.357h-.21c-.753-.002-5.322-.03-6.537-.357-.731-.197-1.307-.777-1.503-1.513-.317-1.191-.35-3.538-.355-4.028v-.181c.004-.49.038-2.836.355-4.028.196-.736.772-1.316 1.503-1.512C4 3.175 8.1 3.132 9.218 3.126zM7.76 6.586v5.055l4.444-2.527L7.76 6.586z"}))},$=function(e){var t=e.setEditorState,n=e.getEditorState;return[{keyName:"link",type:u.b.LINK_PREVIEW,mobile:!0,icons:u.n,tooltipTextKey:"LinkPreview_Settings_Tooltip"},{keyName:"replaceToLink",type:u.b.CUSTOM,icon:A,onClick:function(){var e=n();t(D(e))},mobile:!0,desktop:!0,tooltipTextKey:"LinkPreview_RemovePreview_Tooltip"},{keyName:"delete",type:u.b.DELETE,mobile:!0}]},F=function(e){function t(t){var n,i,r;(r=e.call(this,t)||this).onConfirm=function(){var e=r.state.url;if(e){var t=r.props,n=t.componentData,i=t.pubsub,o=t.onConfirm,a=t.helpers;(0,n.fetchData)(e).then((function(t){var l=t.html;if(l){if(o){var c=M.config;o(v({},n,{html:l,config:v({},c,{width:350,link:v({},c.link,{url:e})})}))}else i.update("componentData",{url:e,html:l});a.closeModal()}else r.setState({submittedInvalidUrl:!0})}))}};var o=r.props.componentData;return r.state={url:(null==o||null===(n=o.config)||void 0===n||null===(i=n.link)||void 0===i?void 0:i.url)||"",submittedInvalidUrl:!1},r}return y(t,e),t.prototype.render=function(){var e=this,t=this.state,n=t.url,i=t.submittedInvalidUrl,r=this.props,o=r.t,a=r.languageDir,l=r.componentData.socialType,s=r.helpers;return c.a.createElement(u.D,{onConfirm:this.onConfirm,helpers:s,input:n,t:o,languageDir:a,title:o("EmbedURL_Social_"+l+"_Title"),submittedInvalidUrl:i,dataHook:"socialEmbedUploadModal",onInputChange:function(t){return e.setState({url:t})},errorMessage:o("SoundCloudUploadModal_Input_InvalidUrl"),placeholder:o("EmbedURL_Social_"+l+"_Placeholder"),onCloseRequested:s.closeModal})},t}(l.Component),W=function(e){var t=e.t,n=e.settings,i=e.isMobile,r=i?{maxWidth:580,minHeight:"100%",minWidth:"100%",margin:0,alignContent:"center",top:0,transform:"none"}:{maxWidth:580,minHeight:348},o=n.exposeEmbedButtons,a={Instagram:H,Twitter:B,Facebook:K,TikTok:z,Pinterest:V,YouTube:U};return(void 0===o?[]:o).map((function(e){return{type:p.e.MODAL,name:e+"_InsertButton",tooltip:t("EmbedURL_Social_"+e+"_Title"),getIcon:function(){return a[e]},componentData:f(f({},M),{socialType:e,fetchData:n.fetchData}),toolbars:[p.K.INSERT_PLUGIN,p.K.MOBILE,p.K.FOOTER,p.K.SIDE],modalElement:F,modalStyles:Object(p.ib)({customStyles:{content:r},fullScreen:!1,isMobile:i}),section:"BlockToolbar_Section_Embed_Anywhere"}}))};!function(e){e.Instagram="Instagram",e.Twitter="Twitter",e.YouTube="YouTube",e.TikTok="TikTok"}(r||(r={}));var q=function(e){var t=b;e[b]||(e[b]={});var n=e,i=t,r=n[i],o=void 0===r?{}:r,a=n.setEditorState,l=n.getEditorState,c=n.helpers,s=n.isMobile,d=n.t,m=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(n,[i+"","setEditorState","getEditorState","helpers","isMobile","t"]),h=function(e){var t=e.settings,n=e.isMobile,i=e.t;return{InlineButtons:$({setEditorState:e.setEditorState,getEditorState:e.getEditorState}),InsertButtons:W({settings:t,isMobile:n,t:i}),name:"link-preview"}}({settings:o,setEditorState:a,getEditorState:l,helpers:c,isMobile:s,t:d});return Object(u.E)(f({component:_,type:t,toolbar:h,settings:o,helpers:c,isMobile:s,t:d,getEditorState:l,setEditorState:a,defaultPluginData:M},m),{handleKeyCommand:function(e,t,n,i){var r=i.setEditorState;return"remove-link-preview"===e?(r(D(t)),"handled"):"not-handled"},keyBindingFn:function(e,t){var n=(0,t.getEditorState)(),i=Object(p.Y)(n).getEntityAt(0);return(i&&n.getCurrentContent().getEntity(i).getType())===b&&"Backspace"===e.key?"remove-link-preview":Object(p.db)(e)}})},G=n(219),Y=(n(68),n(53),n(135)),J=n(133),X={id:"LinkPreviewPlugin",title:"LinkPreview Plugin",sidebar_label:"LinkPreview Plugin"},Q={unversionedId:"plugins_api/LinkPreviewPlugin",id:"plugins_api/LinkPreviewPlugin",isDocsHomePage:!1,title:"LinkPreview Plugin",description:"import 'wix-rich-content-plugin-link-preview/dist/styles.min.css';",source:"@site/docs/plugins_api/LinkPreviewPlugin.mdx",slug:"/plugins_api/LinkPreviewPlugin",permalink:"/rich-content/docs/plugins_api/LinkPreviewPlugin",version:"current",sidebar_label:"LinkPreview Plugin",sidebar:"api",previous:{title:"Html Plugin",permalink:"/rich-content/docs/plugins_api/HtmlPlugin"},next:{title:"rich-content-preview",permalink:"/rich-content/docs/rcp_api/RichContentPreviewAPI"}},Z=[{value:"Usage",id:"usage",children:[]},{value:"Link Preview Config API",id:"link-preview-config-api",children:[{value:"<code>enableEmbed</code>",id:"enableembed",children:[]},{value:"<code>enableLinkPreview</code>",id:"enablelinkpreview",children:[]},{value:"<code>fetchData</code>",id:"fetchdata",children:[]},{value:"<code>exposeEmbedButtons</code>",id:"exposeembedbuttons",children:[]}]}],ee={rightToc:Z};function te(e){var t,n=e.components,i=Object(a.a)(e,["components"]);return Object(s.b)("wrapper",Object(o.a)({},ee,i,{components:n,mdxType:"MDXLayout"}),Object(s.b)("p",null,"Link Preview plugin allow the user to add a link preview.\nThe Link Preview Plugin is implemented within the Link Plugin, and is activated once the user insert a link and press 'Enter' key.\nLink Preview with inline-embed: for this Usage, html plugin should also be installed."),Object(s.b)("div",{className:"card"},Object(s.b)(J.a,{content:Object(Y.v)("Add an Link Preview - write a link and press enter key"),placeholder:"Type here!",plugins:[(t={fetchData:function(){return{title:"A mock title",description:"A mock description",thumbnail_url:"https://image.insider.com/5de5784979d757159d0b6838?width=1100&format=jpeg&auto=webp",provider_url:"www.mockUrl.com"}}},{config:f(f({},M.config),t),type:b,createPlugin:q,ModalsMap:{}}),Object(G.a)({})],mdxType:"RicosEditorWithMobile"})),Object(s.b)("br",null),Object(s.b)("h2",{id:"usage"},"Usage"),Object(s.b)("pre",null,Object(s.b)("code",Object(o.a)({parentName:"pre"},{className:"language-jsx"}),"/* Editor */\nimport { RicosEditor } from 'ricos-editor';\nimport { pluginLinkPreview } from 'wix-rich-content-plugin-link-preview';\nimport { pluginLink } from 'wix-rich-content-plugin-link';\nimport 'ricos-editor/dist/styles.min.css';\nimport 'wix-rich-content-plugin-link-preview/dist/styles.min.css';\n<RicosEditor plugins={[pluginLinkPreview(LinkPreviewConfig), pluginLink({})]} />;\n\n/* Viewer */\nimport { RicosViewer } from 'ricos-viewer';\nimport { pluginLinkPreview } from 'wix-rich-content-plugin-link-preview/dist/module.viewer';\nimport 'wix-rich-content-plugin-link-preview/dist/styles.min.css';\n<RicosViewer plugins={[pluginLinkPreview(LinkPreviewConfig)]} />;\n")),Object(s.b)("h2",{id:"link-preview-config-api"},"Link Preview Config API"),Object(s.b)("h3",{id:"enableembed"},Object(s.b)("inlineCode",{parentName:"h3"},"enableEmbed")),Object(s.b)("p",null,"Allows to display provider embed if exist (can be true/false/","[Twitter, YouTube,..]"),Object(s.b)("pre",null,Object(s.b)("code",Object(o.a)({parentName:"pre"},{className:"language-jsx"}),"enableEmbed?: one of boolean, array;\n")),Object(s.b)("p",null,"Default value:"),Object(s.b)("pre",null,Object(s.b)("code",Object(o.a)({parentName:"pre"},{className:"language-jsx"}),"true;\n")),Object(s.b)("h3",{id:"enablelinkpreview"},Object(s.b)("inlineCode",{parentName:"h3"},"enableLinkPreview")),Object(s.b)("p",null,"Allows to display link preview if exist"),Object(s.b)("pre",null,Object(s.b)("code",Object(o.a)({parentName:"pre"},{className:"language-jsx"}),"enableLinkPreview?: boolean;\n")),Object(s.b)("p",null,"Default value:"),Object(s.b)("pre",null,Object(s.b)("code",Object(o.a)({parentName:"pre"},{className:"language-jsx"}),"true;\n")),Object(s.b)("h3",{id:"fetchdata"},Object(s.b)("inlineCode",{parentName:"h3"},"fetchData")),Object(s.b)("p",null,"A func that gets url and returns an object with title, image_url, description (optional) that related to the given url"),Object(s.b)("pre",null,Object(s.b)("code",Object(o.a)({parentName:"pre"},{className:"language-jsx"}),"fetchData?: function;\n")),Object(s.b)("p",null,"Default value:"),Object(s.b)("pre",null,Object(s.b)("code",Object(o.a)({parentName:"pre"},{className:"language-jsx"}),"none;\n")),Object(s.b)("h3",{id:"exposeembedbuttons"},Object(s.b)("inlineCode",{parentName:"h3"},"exposeEmbedButtons")),Object(s.b)("p",null,"Which embed buttons will display - array with LinkPreviewProvider types ","[Instagram, Twitter, ...]",".\nFor provide buttons type you should import LinkPreviewProvider."),Object(s.b)("pre",null,Object(s.b)("code",Object(o.a)({parentName:"pre"},{className:"language-jsx"}),"minHeight?: array;\n")),Object(s.b)("p",null,"Default value:"),Object(s.b)("pre",null,Object(s.b)("code",Object(o.a)({parentName:"pre"},{className:"language-jsx"}),"[];\n")),Object(s.b)("br",null))}te.isMDXComponent=!0},128:function(e,t,n){"use strict";var i=!1,r="userAgent";try{r=navigator.userAgent}catch(o){}(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substr(0,4)))&&(i=!0),t.a=i},133:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i,r=n(139),o=n(3),a=n(0),l=n.n(a),c=n(128),s=(i=r.a,function(e){return l.a.createElement(i,Object(o.a)({},e,{isMobile:c.a}))})},219:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var i=n(138),r=n(129),o=n(123),a=n(0),l=n.n(a),c=n(131),s=n.n(c),u=n(220),p=n(124),d=function(){return(d=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},m=function(){return(m=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},h={config:{alignment:"center",size:"content",link:{target:"_blank",rel:"noopener"}}},g=function(e,t,n){return!!(n&&e&&t)&&(i=t,new Promise((function(e){var t=document.createElement("img");t.src=i,t.onload=function(){e(!0)},t.onerror=function(){e(!1)}})));var i},f=function(e,t,n){return Array.isArray(t)?t.filter((function(e){return n.toLowerCase().includes(e.toLowerCase())})).length>0:e&&t},b=function(e,t){return function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},t.apply(this,arguments)}e.exports=t}(t={exports:{}}),t.exports}(),v=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t},y={fontElementMap:"X2v_J",link:"_2qJYG",linkToAnchorInViewer:"_1A33_",toolbarUrlContainer:"_2X50f",toolbarUrl:"_12uJp",toolbarUrlAnchor:"_3cwQn"},w=function(e){function t(t){var n;(n=e.call(this,t)||this).handleClick=function(e){var t,i,r,a=n.props,l=a.componentData,c=a.isInEditor,s=l.anchor;if(null===(t=n.props)||void 0===t||null===(i=t.settings)||void 0===i||null===(r=i.onClick)||void 0===r||r.call(i,e,s||n.getHref()),s&&!c){e.preventDefault();var u="viewer-"+s;history.pushState({},null,"#"+u);var p=document.getElementById(u);Object(o.B)(p)}},Object(o.V)(t.componentData,u);var i=n.props.theme;return n.styles=Object(o.O)({styles:y,theme:i}),n}v(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){Object(p.isEqual)(e.componentData,this.props.componentData)||Object(o.V)(e.componentData,u)},n.getHref=function(e,t){var n,i,r=null===(n=this.props.config)||void 0===n||null===(i=n.LINK)||void 0===i?void 0:i.siteUrl;return e?Object(o.Q)(e):r?r+"#viewer-"+t:void 0},n.getTarget=function(e,t,n){return e?"_self":t||n||"_self"},n.render=function(){var e,t=this.props,n=t.componentData,i=t.anchorTarget,r=t.relValue,o=t.children,a=t.isInEditor,c=n.url,u=n.anchor,p=n.target,d=n.rel,m={href:this.getHref(c,u),target:this.getTarget(u,p,i),rel:d||r||"noopener",className:s()(this.styles.link,(e={},e[this.styles.linkToAnchorInViewer]=u&&!a,e)),onClick:this.handleClick};return l.a.createElement("a",m,o)},t}(a.Component),k=function(e){var t=e.entityKey,n=e.contentState,i=e.children,r=e.anchorTarget,o=e.relValue,a=e.settings,c=e.href,s=e.rel,u=e.target,p=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["entityKey","contentState","children","anchorTarget","relValue","settings","href","rel","target"]),d=c?{url:c,rel:s,target:u}:n.getEntity(t).getData();return l.a.createElement(w,b({componentData:d,anchorTarget:r,relValue:o,settings:a,isInEditor:!0},p),i)},O=function(e,t,n){e.findEntityRanges((function(e){var t=e.getEntity();return null!==t&&"LINK"===n.getEntity(t).getType()}),t)};function x(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var j=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).showLinkPanel=function(){var e,n,i=t.props,o=i.getEditorState,a=i.setEditorState,l=i.theme,c=i.isMobile,s=i.linkModal,u=i.helpers,d=i.keyName,m=i.anchorTarget,h=i.relValue,g=i.t,f=i.uiSettings,v=i.insertLinkFn,y=i.closeInlinePluginToolbar,w=i.config,k=i.innerModal,O=i.toolbarOffsetTop,x=i.toolbarOffsetLeft,j=null===(e=w.LINK)||void 0===e?void 0:e.linkTypes,E=!j||Object(p.isEmpty)(j)||!Object.values(j).find((function(e){return!!e})),P=Object(r.ib)({fullScreen:!E,isMobile:c,customStyles:{content:{position:"fixed"}}}),T={helpers:u,modalName:r.o.TEXT_LINK_MODAL,anchorTarget:m,relValue:h,theme:l,t:g,uiSettings:f,getEditorState:o,setEditorState:a,insertLinkFn:v,closeInlinePluginToolbar:y,linkTypes:null===(n=w.LINK)||void 0===n?void 0:n.linkTypes};if(c||s)if(u&&u.openModal){var I=b({modalStyles:P,hidePopup:u.closeModal,isMobile:c},T);u.openModal(I)}else console.error("Open external helper function is not defined for toolbar button with keyName "+d);else{var L=b({hidePopup:k.closeInnerModal,top:O,left:x,modalStyles:E?null:{maxWidth:"none",padding:"0 19px"}},T);k.openInnerModal(L)}},t}return v(t,e),t.prototype.render=function(){var e,t,n,i=this.props,o=i.theme,a=i.isMobile,c=i.tabIndex,s=i.config,u=i.isActive,p=i.icon,d=i.tooltipText,m={button:o.inlineToolbarButton,buttonWrapper:o.inlineToolbarButton_wrapper,icon:o.inlineToolbarButton_icon,active:o.inlineToolbarButton_active},h=(null==s||null===(e=s.LINK)||void 0===e||null===(t=e.toolbar)||void 0===t||null===(n=t.icons)||void 0===n?void 0:n.InsertPluginButtonIcon)||p;return l.a.createElement(r.y,{onClick:this.showLinkPanel,isActive:u,theme:b({},o,m),isMobile:a,tooltipText:d,tabIndex:c,icon:h})},n=t,(i=[{key:"isActive",get:function(){return Object(r.pb)(this.props.getEditorState())}}])&&x(n.prototype,i),o&&x(n,o),t;var n,i,o}(a.Component),E=function(e){return l.a.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"19",height:"19",viewBox:"0 0 19 19"},e),l.a.createElement("defs",null,l.a.createElement("path",{id:"remove-link",d:"M7.8 6c.11 0 .2.09.2.2v.807H4.5c-1.38 0-2.5 1.12-2.5 2.5 0 1.326 1.032 2.41 2.336 2.495l.164.005H8v.793c0 .11-.09.2-.2.2H4.5C2.567 13 1 11.433 1 9.5S2.567 6 4.5 6h3.3zm5.7 0C15.433 6 17 7.567 17 9.5S15.433 13 13.5 13h-3.3c-.11 0-.2-.09-.2-.2v-.807h3.5c1.38 0 2.5-1.12 2.5-2.5 0-1.381-1.12-2.5-2.5-2.5H10V6.2c0-.11.09-.2.2-.2h3.3zm-1.7 3c.11 0 .2.09.2.2v.6c0 .11-.09.2-.2.2H6.2c-.11 0-.2-.09-.2-.2v-.6c0-.11.09-.2.2-.2h5.6z"})),l.a.createElement("g",{fill:"none",fillRule:"evenodd"},l.a.createElement("use",{fill:"currentColor",transform:"rotate(-45 9 9.5)",xlinkHref:"#remove-link"}),l.a.createElement("path",{stroke:"currentColor",strokeLinecap:"square",d:"M3.5 3.5l11 12"})))},P=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).deleteLink=function(){var e=t.props,n=e.getEditorState,i=e.setEditorState,o=e.closeInlinePluginToolbar;i(Object(r.Ab)(n(),i)),o()},t}return v(t,e),t.prototype.render=function(){var e=this.props,t=e.theme,n=e.isMobile,i=e.t,o=e.tabIndex,a=i("LinkPanelContainer_RemoveButton"),c={button:t.inlineToolbarButton,buttonWrapper:t.inlineToolbarButton_wrapper,icon:t.inlineToolbarButton_icon,active:t.inlineToolbarButton_active};return l.a.createElement(r.v,{onClick:this.deleteLink,theme:b({},t,c),isMobile:n,tooltipText:a,tabIndex:o,icon:E,dataHook:"RemoveLinkButton"})},t}(a.Component),T=function(e){function t(t){var n;(n=e.call(this,t)||this).handleClick=function(){var e=n.props.getEditorState,t=(Object(r.gb)(e())||{}).anchor,i=void 0===t?"":t,a=document.querySelectorAll("[data-editor]"),l=Array.apply(null,a).find((function(e){return e.dataset.offsetKey===i+"-0-0"}));Object(o.B)(l)},n.preventDefault=function(e){return e.preventDefault()};var i=n.props.theme;return n.styles=Object(o.O)({styles:y,theme:i}),n}return v(t,e),t.prototype.render=function(){var e,t=this.styles,n=this.props,i=n.getEditorState,a=n.t,c=Object(r.gb)(i())||{},u=c.url,p=void 0===u?"":u,d=c.anchor,m=c.target,h=c.rel,g=p?Object(o.Q)(p):void 0,f={href:g,target:m||"_self",rel:h||"noopener",className:s()(t.toolbarUrl,(e={},e[t.toolbarUrlAnchor]=d,e)),onMouseDown:this.preventDefault,onClick:d&&this.handleClick};return l.a.createElement("div",{className:t.toolbarUrlContainer},l.a.createElement("a",f,g||a("LinkTo_Toolbar_GoTo")))},t}(a.Component),I=function(e){return[{keyName:"url",component:function(t){return l.a.createElement(T,d({},e,t))},mobile:!0,type:i.b.CUSTOM},{keyName:"separator1",type:i.b.SEPARATOR,mobile:!0},{keyName:"edit",component:function(t){return l.a.createElement("div",{"data-hook":"EditLinkButton",style:{margin:"0 2px 0 -7px"}},l.a.createElement(j,d({insertLinkFn:r.Fb,icon:i.f,tooltipText:e.t("LinkTo_Edit_Tooltip")},e,t)))},mobile:!0,type:i.b.CUSTOM},{keyName:"separator2",type:i.b.SEPARATOR,mobile:!0},{keyName:"remove",component:function(t){return l.a.createElement("div",{style:{margin:"0 -6px 0 -6px"}},l.a.createElement(P,d({},e,t)))},mobile:!0,type:i.b.CUSTOM}]},L=function(e){var t=e.helpers,n=e.isMobile,i=e.anchorTarget,o=e.relValue,a=e.t,l=e.theme,c=e.getEditorState,s=e.setEditorState,u=e.uiSettings,p=e.closeInlinePluginToolbar,d=e.settings,m=Object(r.ib)({fullScreen:!1,isMobile:n,customStyles:{content:{maxWidth:"max-content",padding:"1px 20px"}}});if(t&&t.openModal){var h={helpers:t,modalStyles:m,isMobile:n,getEditorState:c,setEditorState:s,t:a,theme:l,anchorTarget:i,relValue:o,modalName:r.o.TEXT_LINK_MODAL,hidePopup:t.closeModal,uiSettings:u,insertLinkFn:r.rb,closeInlinePluginToolbar:p,linkTypes:null==d?void 0:d.linkTypes};t.openModal(h)}else console.error("Link plugin: failed to display Link modal dialog since helpers.openModal is not defined")},S={config:{linkTypes:{anchor:!0}}},C=function(e){var t=e,n=t.theme,a=t.anchorTarget,c=t.relValue,s=t.LINK,u=void 0===s?{}:s,p=t.commonPubsub,b=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(t,["theme","anchorTarget","relValue","LINK","commonPubsub"]),v="_blank"===a,y="nofollow"===c;u.minLinkifyLength=u.minLinkifyLength||6;var w,x,E=function(e){return{TextButtonMapper:function(){var t;return(t={})[r.r.LINK]={component:function(t){return l.a.createElement(j,d({insertLinkFn:r.rb,isActive:Object(r.pb)(e.getEditorState()),closeInlinePluginToolbar:e.closeInlinePluginToolbar,tooltipText:e.t("TextLinkButton_Tooltip"),innerModal:e.innerModal},t))},keyBindings:[{keyCommand:{command:"link",modifiers:[r.C.COMMAND],key:"k"},commandHandler:function(t){if(Object(r.pb)(t))return e.closeInlinePluginToolbar(),Object(r.Ab)(t);L(e)}}],externalizedButtonProps:{onClick:function(t){t.preventDefault(),L(e)},isActive:function(){return Object(r.pb)(e.getEditorState())},isDisabled:function(){return Object(r.ub)(e.getEditorState())},getIcon:function(){var t,n,i;return(null===(i=null===(n=null===(t=e.LINK)||void 0===t?void 0:t.toolbar)||void 0===n?void 0:n.icons)||void 0===i?void 0:i.InsertPluginButtonIcon)||r.z},tooltip:e.t("TextLinkButton_Tooltip"),getLabel:function(){return""},type:r.e.BUTTON}},t},InlinePluginToolbarButtons:I(e),name:"link"}}(d(d({},e),{closeInlinePluginToolbar:T})),P=[{strategy:O,component:function(e){return l.a.createElement(k,d({},e,{theme:n}))}}];function T(){p.set("cursorOnInlinePlugin",null)}var C=function(e){var t=M(e);return _(t)?t:void 0},_=function(e){return e.string.length>=u.minLinkifyLength&&Object(o.N)(e.string)&&!(D(e)&&N(e))},M=function(e){var t=e.getSelection(),n=t.getAnchorKey(),i=e.getCurrentContent().getBlockForKey(n),r=i.getText(),o=t.getEndOffset(),a=r.lastIndexOf(" ",o)+1;return{string:r.slice(a,o),block:i,blockKey:n,index:a,endIndex:o}},D=function(e){for(var t=e.block,n=e.index,i=e.endIndex,r=n;r<i;r++)if(null!==t.getEntityAt(r))return!0;return!1},N=function(e){var t=e.block,n=e.string;return t.getText().length>n.length};return Object(i.E)(d({theme:n,toolbar:E,type:"LINK",anchorTarget:a,relValue:c,settings:u,commonPubsub:p,defaultPluginData:S},b),{decorators:P,handleBeforeInput:function(e,t,n,i){return/\s/.test(e)&&(w=C(t)),"not-handled"},handleReturn:function(t,n,i){if(function(t){var n;return t&&"unstyled"===(null===(n=t.block)||void 0===n?void 0:n.getType())&&e["wix-draft-plugin-link-preview"]}(w=C(n))){var o=function(e){var t=e.string;if(e.block.getText()===t)return t}(w),a=null==w?void 0:w.block.getKey();o&&a&&function(e,t,n,i){return a=function(){var o,a,l,c,s,u,p,d,b,v,y,w,k,O,x,j,E,P;return function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(l){o=[6,l],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(T){switch(T.label){case 0:return o=i.split("\u21b5").join(""),a=t["wix-draft-plugin-link-preview"]||{},l=a.fetchData,c=a.enableEmbed,s=void 0===c||c,u=a.enableLinkPreview,p=void 0===u||u,d=t.setEditorState,[4,l(o)];case 1:return b=T.sent(),v=b.thumbnail_url,y=b.title,w=b.description,k=b.html,O=b.provider_url,(f(k,s,o)||g(y,v,p))&&(x=Object(r.T)(e,n),j=m(m({},h),a).config,E={config:m(m({},j),{link:m({url:o},j.link),width:k&&350}),thumbnail_url:v,title:y,description:w,html:k,provider_url:O},P=Object(r.N)(x,E,"wix-draft-plugin-link-preview").newEditorState,d(r.G.insertSoftNewline(P))),[2]}}))},new((o=void 0)||(o=Promise))((function(e,t){function n(e){try{r(a.next(e))}catch(n){t(n)}}function i(e){try{r(a.throw(e))}catch(n){t(n)}}function r(t){var r;t.done?e(t.value):(r=t.value,r instanceof o?r:new o((function(e){e(r)}))).then(n,i)}r((a=a.apply(void 0,[])).next())}));var o,a}(n,e,a,o)}return"not-handled"},onChange:function(e){var t=e.getSelection();Object(r.pb)(e)&&t.isCollapsed()&&t.getHasFocus()?setTimeout((function(){var e;e={type:"LINK",boundingRect:Object(r.ob)(window)},p.set("cursorOnInlinePlugin",e)})):T();var n=e;return function(e){var t=e.getCurrentContent(),n=t!==x;return x=t,n&&"insert-fragment"===e.getLastChangeType()}(e)?n=Object(r.V)(e,{anchorTarget:a,relValue:c}):w&&(n=function(e,t){var n=e.string,i=e.index,o=e.endIndex,l=e.blockKey;return Object(r.sb)(t,l,i,o,{url:n,anchorTarget:a,relValue:c,targetBlank:v,nofollow:y})}(w,e)),w=void 0,n}})},_=function(e){return{config:d(d({},S.config),e),type:"LINK",createPlugin:C,ModalsMap:{}}}},220:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://wix-rich-content/link-content-data-schema.json","type":"object","definitions":{},"properties":{"href":{"$id":"/properties/href","type":"string","title":"href","default":"","examples":["wix.com"]},"rel":{"$id":"/properties/rel","type":"string","title":"rel","default":"noopener","examples":["nofollow","noopener","noreferrer"]},"target":{"$id":"/properties/target","type":"string","title":"target","default":"_self","examples":["_blank","_top","_self"]},"url":{"$id":"/properties/url","type":"string","title":"URL","default":"","examples":["wix.com"]}},"required":["url"]}')},302:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://wix-rich-content/html-content-data-schema.json","type":"object","properties":{"src":{"$id":"/properties/src","type":"string","title":"source URL","default":"","examples":["https://wix.com"]},"srcType":{"$id":"/properties/srcType","type":"string","title":"source type","default":"html","examples":["url","html"]},"config":{"$id":"/properties/config","type":"object","properties":{"width":{"$id":"/properties/config/properties/width","type":"integer","title":"frame width","default":740,"examples":[500]},"height":{"$id":"/properties/config/properties/height","type":"integer","title":"frame height","default":242,"examples":[200]},"safe":{"$id":"/properties/config/properties/safe","type":"boolean","title":"source safety","default":false,"examples":[true]}}}},"required":["src"]}')},606:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://wix-rich-content/link-preview-content-data-schema.json","type":"object","definitions":{},"properties":{"config":{"$id":"/properties/config","type":"object","title":"configuration","required":["link"],"properties":{"link":{"$id":"/properties/config/properties/link","type":["object","null"],"required":["url"],"properties":{"url":{"$id":"/properties/config/properties/link/properties/url","type":"string","title":"URL","examples":["wix.com"]}}}}},"title":{"$id":"/properties/title","type":"string","title":"title","default":"","examples":["Free Website Builder | Create a Free Website"]},"description":{"$id":"/properties/description","type":"string","title":"description","default":"","examples":["Create a free website with Wix.com. Choose a stunning template and customize anything with the Wix website builder\u2014no coding skills needed. Create yours today!"]},"thumbnail_url":{"$id":"/properties/thumbnail_url","type":"string","title":"thumbnail_url","default":"","examples":["https://static.wixstatic.com/media/5305c5_5f112df56dcd40a29e855baae08f19ce~mv2.jpg/v1/fill/w_600,h_315,al_c/5305c5_5f112df56dcd40a29e855baae08f19ce~mv2.jpg"]},"html":{"$id":"/properties/html","type":"string","title":"html","default":"","examples":["<div>Hello world!</div>"]}},"required":["config","title","thumbnail_url"]}')}}]);